(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[11],{730:function(e,a,t){"use strict";t.r(a);var n=t(8),i=t(10),r=t(11),s=t(776),o=t(9),l=t(3),c=t(768),d=t(15),u=[l.a.ARCANE_BLAST,l.a.ARCANE_EXPLOSION,l.a.TOUCH_OF_THE_MAGI,l.a.ARTIFICE_OF_THE_ARCHMAGE],h=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"normalize",value:function(e){var a=[];return e.forEach((function(e,t){if(a.push(e),e.type===d.b.Cast&&u.includes(e.ability))for(var n=e.timestamp,i=t;i>=0;i-=1){var r=a[i];if(n-r.timestamp>50)break;if(r.type===d.b.Energize&&r.sourceID===e.sourceID){a.splice(i,1),a.push(r),r.__modified=!0;break}}})),a}}]),t}(c.a),E=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"normalize",value:function(e){var a=[];return e.forEach((function(e,t){if(a.push(e),e.type===d.b.Cast&&e.ability.guid===l.a.ARCANE_POWER.id)for(var n=e.timestamp,i=t;i>=0;i-=1){var r=a[i];if(n-r.timestamp>50)break;if(r.type===d.b.ApplyBuff&&r.ability.guid===l.a.ARCANE_POWER.id&&r.sourceID===e.sourceID){a.splice(i,1),a.push(r),r.__modified=!0;break}}})),a}}]),t}(c.a),m=t(971),g=t(0),A=t.n(g),f=t(780),b=t(33),O=t(750),y=t(4),T=t(13),R=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).statisticOrder=O.a.CORE(1),e}return Object(o.a)(t,[{key:"suggestions",value:function(e){var a=this.totalTimeWasted/this.owner.fightDuration,t=this.owner.boss;t&&t.fight.disableDowntimeSuggestion||e(a).isGreaterThan(.2).addSuggestion((function(e,a,t){return e(A.a.createElement("span",null,"Your downtime can be improved. Try to Always Be Casting (ABC), try to reduce the delay between casting spells. If a fight requires movement, try saving ",A.a.createElement(y.a,{id:l.a.PRESENCE_OF_MIND.id})," to make your next 2 ",A.a.createElement(y.a,{id:l.a.ARCANE_BLAST.id})," casts instant.")).icon("spell_mage_altertime").actual(T.i18n._({id:"mage.arcane.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(b.e)(a)}})).recommended("<".concat(Object(b.e)(t),"% is recommended")).regular(t+.15).major(t+.2)}))}}]),t}(f.a),C=t(121),p=t(753),_=t(813),v=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:l.a.ARCANE_BLAST,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},damageSpellIds:[l.a.ARCANE_BLAST.id]},{spell:l.a.FROSTBOLT,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},damageSpellIds:[l.a.FROSTBOLT_DAMAGE.id]},{spell:l.a.FIRE_BLAST,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:null,cooldown:function(e){return 12/(1+e)}},{spell:l.a.ARCANE_MISSILES,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:l.a.ARCANE_BARRAGE,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:l.a.ARCANE_EXPLOSION,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:l.a.SUPERNOVA_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},cooldown:25,enabled:e.hasTalent(l.a.SUPERNOVA_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.NETHER_TEMPEST_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},enabled:e.hasTalent(l.a.NETHER_TEMPEST_TALENT.id)},{spell:l.a.ARCANE_ORB_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500},cooldown:20,enabled:e.hasTalent(l.a.ARCANE_ORB_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9},damageSpellIds:[l.a.ARCANE_ORB_DAMAGE.id]},{spell:l.a.TIME_WARP,buffSpellId:l.a.TIME_WARP.id,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:null,cooldown:300},{spell:l.a.ARCANE_FAMILIAR_TALENT,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:10,enabled:e.hasTalent(l.a.ARCANE_FAMILIAR_TALENT.id)},{spell:l.a.ARCANE_POWER,buffSpellId:l.a.ARCANE_POWER.id,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:null,cooldown:120,castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.EVOCATION,buffSpellId:l.a.EVOCATION.id,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:90,castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.PRESENCE_OF_MIND,buffSpellId:l.a.PRESENCE_OF_MIND.id,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:null,cooldown:60,castEfficiency:{suggestion:!1,recommendedEfficiency:.6}},{spell:l.a.RUNE_OF_POWER_TALENT,buffSpellId:l.a.RUNE_OF_POWER_BUFF.id,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:45,enabled:e.hasTalent(l.a.RUNE_OF_POWER_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.RADIANT_SPARK,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:30,enabled:e.hasCovenant(C.a.KYRIAN.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.DEATHBORNE,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:180,enabled:e.hasCovenant(C.a.NECROLORD.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.MIRRORS_OF_TORMENT,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:90,enabled:e.hasCovenant(C.a.VENTHYR.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.SHIFTING_POWER,category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:60,enabled:e.hasCovenant(C.a.NIGHT_FAE.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:l.a.PRISMATIC_BARRIER,buffSpellId:l.a.PRISMATIC_BARRIER.id,category:t.SPELL_CATEGORIES.DEFENSIVE,gcd:{base:1500},cooldown:25},{spell:l.a.ICE_BLOCK,buffSpellId:l.a.ICE_BLOCK.id,cooldown:e.hasConduitBySpellID(l.a.WINTERS_PROTECTION.id)?240-_.l[e.conduitRankBySpellID(l.a.WINTERS_PROTECTION.id)]:240,category:t.SPELL_CATEGORIES.DEFENSIVE,gcd:{base:1500}},{spell:l.a.MIRROR_IMAGE,category:t.SPELL_CATEGORIES.DEFENSIVE,gcd:{base:1500},cooldown:120},{spell:l.a.ARCANE_INTELLECT,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:l.a.FROST_NOVA,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:30,charges:e.hasTalent(l.a.ICE_WARD_TALENT.id)?2:1},{spell:l.a.SLOW,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:l.a.BLINK,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},enabled:!e.hasTalent(l.a.SHIMMER_TALENT.id),cooldown:e.hasConduitBySpellID(l.a.FLOW_OF_TIME.id)?15-_.d[e.conduitRankBySpellID(l.a.FLOW_OF_TIME.id)]:15},{spell:l.a.SHIMMER_TALENT,category:t.SPELL_CATEGORIES.UTILITY,gcd:null,cooldown:e.hasConduitBySpellID(l.a.FLOW_OF_TIME.id)?25-_.d[e.conduitRankBySpellID(l.a.FLOW_OF_TIME.id)]:25,charges:2,enabled:e.hasTalent(l.a.SHIMMER_TALENT.id)},{spell:l.a.COUNTERSPELL,category:t.SPELL_CATEGORIES.UTILITY,gcd:null,cooldown:24},{spell:l.a.REMOVE_CURSE,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:8},{spell:l.a.SLOW_FALL,buffSpellId:l.a.SLOW_FALL.id,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:l.a.SPELL_STEAL,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:l.a.FOCUS_MAGIC_TALENT,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:l.a.ALTER_TIME,buffSpellId:l.a.ALTER_TIME_BUFF.id,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:l.a.GREATER_INVISIBILITY,buffSpellId:l.a.GREATER_INVISIBILITY_BUFF.id,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:120},{spell:[l.a.POLYMORPH_SHEEP,l.a.POLYMORPH_PIG,l.a.POLYMORPH_BLACK_CAT,l.a.POLYMORPH_MONKEY,l.a.POLYMORPH_RABBIT,l.a.POLYMORPH_POLAR_BEAR_CUB,l.a.POLYMORPH_PORCUPINE,l.a.POLYMORPH_TURTLE,l.a.POLYMORPH_TURKEY,l.a.POLYMORPH_PENGUIN,l.a.POLYMORPH_BUMBLEBEE,l.a.POLYMORPH_PEACOCK,l.a.POLYMORPH_DIREHORN,l.a.POLYMORPH_MAWRAT],category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}}]}}]),t}(p.a),I=t(26),L=t(785),N=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return t}(L.b);N.cooldownSpells=[].concat(Object(I.a)(L.b.cooldownSpells),[{spell:l.a.ARCANE_POWER,startBufferMS:4e3,summary:[L.a.DAMAGE]},{spell:l.a.RUNE_OF_POWER_TALENT,summary:[L.a.DAMAGE]}]),N.castCooldowns=[].concat(Object(I.a)(L.b.castCooldowns),[{spell:l.a.MIRROR_IMAGE,duration:40,summary:[L.a.DAMAGE]}]);var S=N,P=t(120),w=t(66),k=t(814),M=t(43),j=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).addEventListener(d.f.removebuff.by(M.a).spell(l.a.EVOCATION),i.onRemoveBuff),i}return Object(o.a)(t,[{key:"onCast",value:function(e){var a=e.ability.guid;a!==l.a.ARCANE_MISSILES.id&&a!==l.a.EVOCATION.id?Object(P.a)(Object(w.a)(t.prototype),"onCast",this).call(this,e):this.beginChannel(e)}},{key:"onRemoveBuff",value:function(e){this.isChannelingSpell(l.a.EVOCATION.id)&&this.endChannel(e)}},{key:"cancelChannel",value:function(e,a){this.isChannelingSpell(l.a.ARCANE_MISSILES.id)||this.isChannelingSpell(l.a.EVOCATION.id)?this.endChannel(e):Object(P.a)(Object(w.a)(t.prototype),"cancelChannel",this).call(this,e,a)}}]),t}(k.a),B=t(7),U=t(203),F=t(767),G=t(757),D=t(777),W=t(746),H=t(58),z=t(748),Y=t(164),x=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).active=i.selectedCombatant.hasTalent(l.a.ARCANE_FAMILIAR_TALENT.id),i}return Object(o.a)(t,[{key:"suggestions",value:function(e){var a=this;e(this.arcaneFamiliarUptimeThresholds).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"Your ",A.a.createElement(y.a,{id:l.a.ARCANE_FAMILIAR_TALENT.id})," was up for ",Object(b.e)(a.uptime),"% of the fight. If your Arcane Familiar dies, make sure you recast it. If you are having trouble keeping the Arcane Familiar up for the entire fight, consider taking a different talent.")).icon(l.a.ARCANE_FAMILIAR_TALENT.icon).actual(T.i18n._({id:"mage.arcane.suggestions.arcaneFamiliar.uptime",defaults:"{0}% Uptime",values:{0:Object(b.e)(a.uptime)}})).recommended("".concat(Object(b.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return A.a.createElement(W.a,{size:"flexible",category:H.a.TALENTS,tooltip:"Your Arcane Familiar was up for ".concat(Object(b.e)(this.uptime),"% of the fight. If your Arcane Familiar dies, make sure you recast it. If you are having trouble keeping the Arcane Familiar up for the entire fight, consider taking a different talent.")},A.a.createElement(z.a,{spell:l.a.ARCANE_FAMILIAR_TALENT},A.a.createElement(A.a.Fragment,null,Object(b.e)(this.uptime,0),"% ",A.a.createElement("small",null,"Buff uptime"))))}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(l.a.ARCANE_FAMILIAR_BUFF.id)/this.owner.fightDuration}},{key:"arcaneFamiliarUptimeThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:1,average:.9,major:.8},style:Y.a.PERCENTAGE}}}]),t}(M.c),V=t(755),K=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.totalHits=0,i.badCasts=0,i.orbCast=!1,i.active=i.selectedCombatant.hasTalent(l.a.ARCANE_ORB_TALENT.id),i.addEventListener(d.f.cast.by(M.a).spell(l.a.ARCANE_ORB_TALENT),i.onOrbCast),i.addEventListener(d.f.damage.by(M.a).spell(l.a.ARCANE_ORB_DAMAGE),i.onOrbDamage),i.addEventListener(d.f.fightend,i.onFightEnd),i}return Object(o.a)(t,[{key:"onOrbDamage",value:function(e){this.totalHits+=1,this.orbCast=!1}},{key:"onOrbCast",value:function(e){this.orbCast&&(this.badCasts+=1),this.orbCast=!0}},{key:"onFightEnd",value:function(e){this.orbCast&&(this.badCasts+=1)}},{key:"suggestions",value:function(e){var a=this;e(this.missedOrbsThresholds).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"You cast ",A.a.createElement(y.a,{id:l.a.ARCANE_ORB_TALENT.id})," ",a.badCasts," times without hitting anything. While it is acceptable to use this ability on Single Target encounters, you need to ensure you are aiming the ability so that it will at least hit one target.")).icon(l.a.ARCANE_ORB_TALENT.icon).actual(T.i18n._({id:"mage.arcane.suggestions.arcaneOrb.badCasts",defaults:"{0} Missed Orbs",values:{0:Object(b.d)(a.badCasts)}})).recommended("".concat(Object(b.d)(n)," is recommended"))}))}},{key:"statistic",value:function(){return A.a.createElement(W.a,{size:"flexible",category:H.a.TALENTS,tooltip:"You averaged ".concat(Object(b.d)(this.averageHitsPerCast)," hits per cast of Arcane Orb. ").concat(this.badCasts>0?"Additionally, you cast Arcane Orb ".concat(this.badCasts," times without hitting anything."):""," Casting Arcane Orb when it will only hit one target is still beneficial and acceptable, but if you can aim it so that it hits multiple enemies then you should.")},A.a.createElement(z.a,{spell:l.a.ARCANE_ORB_TALENT},A.a.createElement(A.a.Fragment,null,Object(b.d)(this.averageHitsPerCast)," ",A.a.createElement("small",null,"Average hits per cast"))))}},{key:"averageHitsPerCast",get:function(){return this.totalHits/this.abilityTracker.getAbility(l.a.ARCANE_ORB_TALENT.id).casts}},{key:"missedOrbsThresholds",get:function(){return{actual:this.badCasts,isGreaterThan:{average:0,major:0},style:Y.a.NUMBER}}}]),t}(M.c);K.dependencies={abilityTracker:V.a};var q=K,X=t(53),J=t(88),Z=t(754),Q=t(857),$=t(877),ee=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).charges=0,i.addEventListener(d.f.energize.to(M.a),i.onEnergize),i.addEventListener(d.f.cast.by(M.a).spell(l.a.ARCANE_BARRAGE),i.onBarrage),i.addEventListener(d.f.death.to(M.a),i.onDeath),i}return Object(o.a)(t,[{key:"onEnergize",value:function(e){16===e.resourceChangeType&&(this.charges<4?(this.charges+=e.resourceChange,this.charges>4&&(this.charges=4)):this.charges<4&&1===e.waste&&(this.charges=4))}},{key:"onBarrage",value:function(e){this.charges=0}},{key:"onDeath",value:function(e){this.charges=0}}]),t}(M.c),ae=[l.a.ARCANE_BARRAGE,l.a.ARCANE_FAMILIAR_TALENT,l.a.ARCANE_INTELLECT,l.a.EVOCATION,l.a.SUPERNOVA_TALENT,l.a.NETHER_TEMPEST_TALENT,l.a.ARCANE_ORB_TALENT,l.a.RUNE_OF_POWER_TALENT],te=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.arcaneChargeTracker=void 0,i.spellUsable=void 0,i.deathTracker=void 0,i.spellManaCost=void 0,i.hasOverpowered=void 0,i.badUses=0,i.totalCastsDuringAP=0,i.badCastsDuringAP=0,i.runeTimestamp=0,i.outOfMana=0,i.buffEndTimestamp=0,i.arcanePowerCasted=!1,i.lowManaCast=0,i.lowChargesCast=0,i.hasOverpowered=i.selectedCombatant.hasTalent(l.a.OVERPOWERED_TALENT.id),i.addEventListener(d.f.cast.by(M.a),i.onCast),i.addEventListener(d.f.applybuff.to(M.a).spell(l.a.ARCANE_POWER),i.onApplyBuff),i.addEventListener(d.f.removebuff.to(M.a).spell(l.a.ARCANE_POWER),i.onRemoveBuff),i}return Object(o.a)(t,[{key:"onCast",value:function(e){var a=this,t=e.ability.guid;if(t===l.a.ARCANE_POWER.id){var n=e.classResources&&e.classResources.find((function(e){return e.type===J.a.MANA.id})),i=n.amount/n.max;return this.arcanePowerCasted=!0,(this.arcaneChargeTracker.charges<4||!this.hasOverpowered&&i<.4)&&(this.badUses+=1),this.selectedCombatant.hasBuff(l.a.ARCANE_POWER.id)&&(this.buffEndTimestamp=e.timestamp+1e4),this.arcaneChargeTracker.charges<4&&(this.lowChargesCast+=1),void(!this.hasOverpowered&&i<.4&&(this.lowManaCast+=1))}this.selectedCombatant.hasBuff(l.a.ARCANE_POWER.id)&&(this.totalCastsDuringAP+=1,ae.includes(e.ability)?this.badCastsDuringAP+=1:t!==l.a.ARCANE_BLAST.id&&t!==l.a.ARCANE_EXPLOSION.id||e.classResources&&e.classResources.forEach((function(n){if(n.type===J.a.MANA.id){var i=n.amount-(e.resourceCost&&e.resourceCost[J.a.MANA.id]+e.resourceCost[J.a.MANA.id]*a.arcaneChargeTracker.charges),r=a.buffEndTimestamp-e.timestamp;i<a.estimatedManaCost(t)&&r>1e3&&(a.outOfMana+=1)}})))}},{key:"onApplyBuff",value:function(e){this.arcanePowerCasted?this.buffEndTimestamp=e.timestamp+1e4:this.buffEndTimestamp=e.timestamp+8e3}},{key:"onRemoveBuff",value:function(e){this.arcanePowerCasted=!1}},{key:"estimatedManaCost",value:function(e){return e===l.a.ARCANE_EXPLOSION.id?this.hasOverpowered?800:2e3:e===l.a.ARCANE_BLAST.id?this.hasOverpowered?.4*(550+550*this.arcaneChargeTracker.charges):this.selectedCombatant.hasBuff(l.a.RULE_OF_THREES_BUFF.id)?0:550+550*this.arcaneChargeTracker.charges:0}},{key:"suggestions",value:function(e){var a=this;e(this.arcanePowerCooldownThresholds).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"You cast ",A.a.createElement(y.a,{id:l.a.ARCANE_POWER.id})," without proper setup ",a.badUses," times. Arcane Power has a short duration so you should get the most out of it by meeting all requirements before casting it.",A.a.createElement("ul",null,A.a.createElement("li",null,"You have 4 ",A.a.createElement(y.a,{id:l.a.ARCANE_CHARGE.id})," - You had this ",a.abilityTracker.getAbility(l.a.ARCANE_POWER.id).casts-a.lowChargesCast," out of ",a.abilityTracker.getAbility(l.a.ARCANE_POWER.id).casts," casts."),a.hasOverpowered?"":A.a.createElement("li",null,"You have more than 40% mana - You had this ",a.abilityTracker.getAbility(l.a.ARCANE_POWER.id).casts-a.lowManaCast," out of ",a.abilityTracker.getAbility(l.a.ARCANE_POWER.id).casts," casts.")))).icon(l.a.ARCANE_POWER.icon).actual(T.i18n._({id:"mage.arcane.suggestions.arcanePower.badCasts",defaults:"{0} Bad Casts",values:{0:a.badUses}})).recommended("0 is recommended")})),e(this.arcanePowerCastThresholds).addSuggestion((function(e,a,t){return e(A.a.createElement(A.a.Fragment,null,"You cast spells other than ",A.a.createElement(y.a,{id:l.a.ARCANE_BLAST.id}),",",A.a.createElement(y.a,{id:l.a.ARCANE_MISSILES.id}),", ",A.a.createElement(y.a,{id:l.a.ARCANE_EXPLOSION.id}),", and ",A.a.createElement(y.a,{id:l.a.PRESENCE_OF_MIND.id})," during ",A.a.createElement(y.a,{id:l.a.ARCANE_POWER.id}),". Arcane Power is a short duration, so you should ensure that you are getting the most use out of it. Buff spells like Rune of Power should be cast immediately before casting Arcane Power. Other spells such as Charged Up, Blink/Shimmer, etc are acceptable during Arcane Power, but should be avoided if possible.")).icon(l.a.ARCANE_POWER.icon).actual(T.i18n._({id:"mage.arcane.suggestions.arcanePower.utilization",defaults:"{0}% Utilization",values:{0:Object(b.e)(a)}})).recommended("".concat(Object(b.e)(t),"% is recommended"))})),e(this.arcanePowerManaUtilization).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"You ran dangerously low or ran out of mana during ",A.a.createElement(y.a,{id:l.a.ARCANE_POWER.id})," ",a.outOfMana," times. Running out of mana during Arcane Power is a massive DPS loss and should be avoided at all costs. ",a.hasOverpowered?"":"To avoid this, ensure you have at least 40% mana before casting Arcane Power to ensure you have enough mana to finish Arcane Power.")).icon(l.a.ARCANE_POWER.icon).actual(T.i18n._({id:"mage.arcane.suggestions.arcanePower.lowMana",defaults:"{0}% Utilization",values:{0:Object(b.e)(t)}})).recommended("".concat(Object(b.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return A.a.createElement(W.a,{size:"flexible",category:H.a.TALENTS,tooltip:A.a.createElement(A.a.Fragment,null,"Before casting Arcane Power, you should ensure that you meet all of the following requirements. If Arcane Power frequently comes off cooldown and these requirements are not already met, then consider modifying your rotation to ensure that they are met before Arcane Power comes off cooldown",A.a.createElement("ul",null,A.a.createElement("li",null,"You have 4 Arcane Charges - Missed ",this.lowChargesCast," times"),!this.hasOverpowered&&A.a.createElement("li",null,"You have more than 40% mana - Missed ",this.lowManaCast," times")),"Additionally, you should only be casting Arcane Blast and Arcane Missiles (If you have a Clearcasting Proc) during Arcane Power to maximize the short cooldown duration.")},A.a.createElement(z.a,{spell:l.a.ARCANE_FAMILIAR_TALENT},A.a.createElement(A.a.Fragment,null,A.a.createElement(X.a,{id:l.a.ARCANE_POWER.id,style:{height:"1.2em",marginBottom:".15em"}})," ",Object(b.e)(this.cooldownUtilization,0),"% ",A.a.createElement("small",null," Cooldown utilization"),A.a.createElement("br",null),A.a.createElement(X.a,{id:l.a.ARCANE_BLAST.id,style:{height:"1.2em",marginBottom:".15em"}})," ",Object(b.e)(this.castUtilization,0),"% ",A.a.createElement("small",null,"Cast utilization"))))}},{key:"requiredChecks",get:function(){var e=1;return this.hasOverpowered||(e+=1),e}},{key:"failedChecks",get:function(){return this.lowChargesCast+this.lowManaCast}},{key:"cooldownUtilization",get:function(){return 1-this.failedChecks/(this.abilityTracker.getAbility(l.a.ARCANE_POWER.id).casts*this.requiredChecks)}},{key:"castUtilization",get:function(){return 1-this.badCastsDuringAP/this.totalCastsDuringAP}},{key:"arcanePowerCooldownThresholds",get:function(){return{actual:this.cooldownUtilization,isLessThan:{minor:1,average:.8,major:.6},style:Y.a.PERCENTAGE}}},{key:"arcanePowerCastThresholds",get:function(){return{actual:this.castUtilization,isLessThan:{minor:1,average:.95,major:.9},style:Y.a.PERCENTAGE}}},{key:"arcanePowerManaUtilization",get:function(){return{actual:1-this.outOfMana/this.abilityTracker.getAbility(l.a.ARCANE_POWER.id).casts,isLessThan:{minor:1,average:.95,major:.9},style:Y.a.PERCENTAGE}}}]),t}(M.c);te.dependencies={abilityTracker:V.a,arcaneChargeTracker:ee,spellUsable:Z.b,deathTracker:Q.a,spellManaCost:$.a};var ne=te,ie=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.barrageWithRuleOfThrees=0,i.active=i.selectedCombatant.hasTalent(l.a.RULE_OF_THREES_TALENT.id),i.addEventListener(d.f.cast.by(M.a).spell(l.a.ARCANE_BARRAGE),i.onBarrageCast),i}return Object(o.a)(t,[{key:"onBarrageCast",value:function(e){this.selectedCombatant.hasBuff(l.a.RULE_OF_THREES_BUFF.id,e.timestamp+1)&&(this.barrageWithRuleOfThrees+=1)}},{key:"suggestions",value:function(e){var a=this;e(this.ruleOfThreesUtilizationThresholds).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"You cast ",A.a.createElement(y.a,{id:l.a.ARCANE_BARRAGE.id})," ",a.barrageWithRuleOfThrees," times while you had the ",A.a.createElement(y.a,{id:l.a.RULE_OF_THREES_BUFF.id})," buff. This buff makes your next ",A.a.createElement(y.a,{id:l.a.ARCANE_BLAST.id})," or ",A.a.createElement(y.a,{id:l.a.ARCANE_MISSILES.id})," free after you gain your third Arcane Charge, so you should ensure that you use the buff before clearing your charges.")).icon(l.a.RULE_OF_THREES_TALENT.icon).actual(T.i18n._({id:"mage.arcane.suggestions.ruleOfThrees.utilization",defaults:"{0}% Utilization",values:{0:Object(b.e)(a.utilization)}})).recommended("".concat(Object(b.e)(n),"% is recommended"))}))}},{key:"utilization",get:function(){return 1-this.barrageWithRuleOfThrees/this.abilityTracker.getAbility(l.a.ARCANE_BARRAGE.id).casts}},{key:"ruleOfThreesUtilizationThresholds",get:function(){return{actual:this.utilization,isLessThan:{minor:.95,average:.9,major:.8},style:Y.a.PERCENTAGE}}}]),t}(M.c);ie.dependencies={abilityTracker:V.a};var re=ie,se=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.conservedTooHigh=0,i.active=i.selectedCombatant.hasTalent(l.a.TIME_ANOMALY_TALENT.id),i.addEventListener(d.f.cast.by(M.a).spell(l.a.ARCANE_BARRAGE),i.onBarrageCast),i}return Object(o.a)(t,[{key:"onBarrageCast",value:function(e){if(e.ability.guid===l.a.ARCANE_BARRAGE.id){var a=e.classResources&&e.classResources.find((function(e){return e.type===J.a.MANA.id}));a.amount/a.max>.7&&(this.conservedTooHigh+=1)}}},{key:"suggestions",value:function(e){var a=this;e(this.timeAnomalyManaThresholds).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"You cast ",A.a.createElement(y.a,{id:l.a.ARCANE_BARRAGE.id})," with greater than 70% mana ",a.conservedTooHigh," times. Because of the way ",A.a.createElement(y.a,{id:l.a.TIME_ANOMALY_TALENT.id})," works, you can randomly gain the ",A.a.createElement(y.a,{id:l.a.EVOCATION.id})," effect causing your mana to rapidly increase. If you are conserving your mana too high, this can cause your mana to cap out at 100% which is a waste. So if you are using the Time Anomaly talent, you should make sure you conserve below 70% mana to help prevent mana capping.")).icon(l.a.TIME_ANOMALY_TALENT.icon).actual(T.i18n._({id:"mage.arcane.suggestions.timeAnomaly.utilization",defaults:"{0}% Utilization",values:{0:Object(b.e)(a.manaUtilization)}})).recommended("".concat(Object(b.e)(n),"% is recommended"))}))}},{key:"manaUtilization",get:function(){return 1-this.conservedTooHigh/this.abilityTracker.getAbility(l.a.ARCANE_BARRAGE.id).casts}},{key:"timeAnomalyManaThresholds",get:function(){return{actual:this.manaUtilization,isLessThan:{minor:.9,average:.8,major:.7},style:Y.a.PERCENTAGE}}}]),t}(M.c);se.dependencies={abilityTracker:V.a};var oe=se,le=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.castWithoutClearcasting=0,i.addEventListener(d.f.cast.by(M.a).spell(l.a.ARCANE_MISSILES),i.onCast),i}return Object(o.a)(t,[{key:"onCast",value:function(e){e.ability.guid!==l.a.ARCANE_MISSILES.id||this.selectedCombatant.hasBuff(l.a.CLEARCASTING_ARCANE.id)||(this.castWithoutClearcasting+=1)}},{key:"suggestions",value:function(e){var a=this;e(this.arcaneMissileUsageThresholds).addSuggestion((function(e,t,n){return e(A.a.createElement(A.a.Fragment,null,"You cast ",A.a.createElement(y.a,{id:l.a.ARCANE_MISSILES.id})," without ",A.a.createElement(y.a,{id:l.a.CLEARCASTING_ARCANE.id})," ",a.castWithoutClearcasting," times. Arcane Missiles is a very expensive spell (more expensive than a 4 Charge Arcane Blast) and therefore it should only be cast when you have the Clearcasting buff which makes the spell free.")).icon(l.a.ARCANE_MISSILES.icon).actual(T.i18n._({id:"mage.arcane.suggestions.arcaneMissiles.clearCasting.uptime",defaults:"{0}% Uptime",values:{0:Object(b.e)(a.missilesUtilization)}})).recommended("".concat(Object(b.e)(n),"% is recommended"))}))}},{key:"missilesUtilization",get:function(){return 1-this.castWithoutClearcasting/this.abilityTracker.getAbility(l.a.ARCANE_MISSILES.id).casts}},{key:"arcaneMissileUsageThresholds",get:function(){return{actual:this.missilesUtilization,isLessThan:{minor:1,average:.95,major:.9},style:Y.a.PERCENTAGE}}}]),t}(M.c);le.dependencies={abilityTracker:V.a};var ce=le,de=t(819),ue=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).deathTracker=void 0,i.deadOnKill=!1,i.active=!0,i.addEventListener(d.f.fightend,i.onFightend),i}return Object(o.a)(t,[{key:"onFightend",value:function(){this.deathTracker.isAlive||(this.deadOnKill=!0)}},{key:"suggestions",value:function(e){var a=this;this.deadOnKill||e(this.suggestionThresholds).addSuggestion((function(e,t,n){return e("You had mana left at the end of the fight. You should be aiming to complete the fight with as little mana as possible regardless of whether your cooldowns will be coming up or not. So dont be afraid to burn your mana before the boss dies.").icon("inv_elemental_mote_mana").actual("".concat(Object(b.e)(t),"% (").concat(Object(b.d)(a.endingMana),") ").concat(T.i18n._({id:"mage.arcane.suggestions.arcaneMana.manaLeft",defaults:"mana left"}))).recommended("<".concat(Object(b.e)(n),"% is recommended")).regular(a.suggestionThresholds.isGreaterThan.average).major(a.suggestionThresholds.isGreaterThan.major)}))}},{key:"suggestionThresholds",get:function(){return{actual:this.manaLeftPercentage,isGreaterThan:{minor:.2,average:.3,major:.4},style:Y.a.PERCENTAGE}}}]),t}(de.a);ue.dependencies={deathTracker:Q.a};var he=ue,Ee=t(883),me=t(884),ge=t(934),Ae=t(885),fe=t(770),be=t(762),Oe=t(763),ye=t(771),Te=t(772),Re=function(e){var a=e.combatant,t=e.castEfficiency,n=e.thresholds,i=function(e){return A.a.createElement(Te.a,Object.assign({castEfficiency:t.getCastEfficiencyForSpellId(e.spell)},e))};return A.a.createElement(fe.a,null,A.a.createElement(be.c,{name:"Use your cooldowns",description:A.a.createElement(A.a.Fragment,null,"Using your cooldown abilities as often as possible can help raise your dps significantly. Some help more than others, but as a general rule of thumb you should be looking to use most of your damaging abilities and damage cooldowns as often as possible unless you need to save them for a priority burst phase that is coming up soon.")},A.a.createElement(i,{spell:l.a.ARCANE_POWER.id}),A.a.createElement(i,{spell:l.a.EVOCATION.id}),a.hasTalent(l.a.SUPERNOVA_TALENT.id)&&A.a.createElement(i,{spell:l.a.SUPERNOVA_TALENT.id}),a.hasTalent(l.a.ARCANE_ORB_TALENT.id)&&A.a.createElement(i,{spell:l.a.ARCANE_ORB_TALENT.id}),a.hasTalent(l.a.RUNE_OF_POWER_TALENT.id)&&A.a.createElement(i,{spell:l.a.RUNE_OF_POWER_TALENT.id})),A.a.createElement(be.c,{name:"Use Arcane Power effectively",description:A.a.createElement(A.a.Fragment,null,"Using ",A.a.createElement(y.a,{id:l.a.ARCANE_POWER.id}),' properly is one of the most important aspects of playing Arcane well. Therefore it is critical that you make the most of the time that you have while Arcane Power is active. This include things such as not wasting time or GCDs while Arcane Power is active and ensuring that you properly setup for your "burn phase" before hitting Arcane Power.')},A.a.createElement(Oe.a,{name:"Spells Cast During Arcane Power",tooltip:"Your cast utilization during Arcane Power. You should be ensuring that you are using the most of the short Arcane Power window and only casting damage abilities like Arcane Blast, Arcane Missiles, and Arcane Explosion.",thresholds:n.arcanePowerCasts}),A.a.createElement(Oe.a,{name:"Arcane Power Pre-Cast Setup",tooltip:"In order to effectively utilize Arcane Power, there are certain things you need to ensure are setup before you cast Arcane Power. Making sure you have 4 Arcane Charges, You have more than 40% Mana (Unless you have the Overpowered Talent), and ensuring you cast Rune of Power immediately before Arcane Power (if you have Rune of Power talented) will all help make the most out of your burn phase.",thresholds:n.arcanePowerCooldown})),A.a.createElement(be.c,{name:"Use your talents effectively",description:"Regardless of which talents you select, you should ensure that you are utilizing them properly. If you are having trouble effectively using a particular talent, you should consider taking a different talent that you can utilize properly or focus on effectively using the talents that you have selected."},a.hasTalent(l.a.ARCANE_ORB_TALENT.id)&&A.a.createElement(Oe.a,{name:"Missed Arcane Orbs",tooltip:"Arcane Orb is a skillshot which means that it is important for you to aim it properly in order to get the most out of it. Therefore, on single target you should always ensure that the enemy gets hit by it, and if there are multiple enemies then you should do what you can to ensure all or most of them will get hit by the Orb as well.",thresholds:n.arcaneOrbMissedOrbs}),a.hasTalent(l.a.RULE_OF_THREES_TALENT.id)&&A.a.createElement(Oe.a,{name:"Rule of Threes Buff Usage",tooltip:"Rule of Threes gives you a free cast of Arcane Blast when you hit 3 Arcane Charges so you shoud always ensure you are using that free charge before you clear your Arcane Charges with Barrage since there is no negative mana impact to doing so.",thresholds:n.ruleOfThreesUsage}),a.hasTalent(l.a.RUNE_OF_POWER_TALENT.id)&&A.a.createElement(Oe.a,{name:"Rune of Power Uptime",tooltip:"Using Rune of Power effectively means being able to stay within the range of it for it's entire duration. If you are unable to do so or if you frequently have to move out of the range of the buff, consider taking a different talent instead.",thresholds:n.runeOfPowerBuffUptime})),A.a.createElement(be.c,{name:"Avoid downtime",description:A.a.createElement(A.a.Fragment,null,"As a DPS, it is important to spend as much time casting as possible as if you arent casting you arent doing damage. Therefore it is important to minimize your movements, stay within range of the target, and try to avoid cancelling casts (unless you have to). While some fights will have an amount of time that is unavoidable downtime; the more you can minimize that downtime, the better.")},A.a.createElement(Oe.a,{name:"Downtime",thresholds:n.downtimeSuggestionThresholds}),A.a.createElement(Oe.a,{name:"Cancelled Casts",thresholds:n.cancelledCasts})),A.a.createElement(be.c,{name:"Maintain your buffs",description:A.a.createElement(A.a.Fragment,null,"You should ensure that you maintain ",A.a.createElement(y.a,{id:l.a.ARCANE_INTELLECT.id})," for the entire fight and recast it whenever you are ressurected and likewise, if you have the appropriate classes/specs in your group you should also ensure that you maintain their buffs as possible. Additionally, you should also maintain other buffs such as ",A.a.createElement(y.a,{id:l.a.ARCANE_FAMILIAR_TALENT.id})," if you are talented into them.")},A.a.createElement(Oe.a,{name:"Arcane Intellect Uptime",thresholds:n.arcaneIntellectUptime}),a.hasTalent(l.a.ARCANE_FAMILIAR_TALENT.id)&&A.a.createElement(Oe.a,{name:"Arcane Familiar Uptime",thresholds:n.arcaneFamiliarUptime})),A.a.createElement(be.c,{name:A.a.createElement(A.a.Fragment,null,"Manage your mana"),description:A.a.createElement(A.a.Fragment,null,"The biggest aspect of playing Arcane properly is managing your mana effectively. Essentially your mana dictates how much damage you can do and therefore needs to be managed properly. Things such as running out of mana during ",A.a.createElement(y.a,{id:l.a.ARCANE_POWER.id}),", letting your mana cap out at 100% for too long, or ending the fight with mana remaining all have negative effects on your DPS.")},A.a.createElement(Oe.a,{name:"Mana left on boss kill",thresholds:n.manaOnKill}),A.a.createElement(Oe.a,{name:"Arcane Power Mana Mgmt.",thresholds:n.arcanePowerManaUtilization}),A.a.createElement(Oe.a,{name:"Arcane Missiles only with Clearcasting",thresholds:n.arcaneMissilesUtilization}),a.hasTalent(l.a.TIME_ANOMALY_TALENT.id)&&A.a.createElement(Oe.a,{name:"Time Anomaly Mana Mgmt.",thresholds:n.timeAnomalyManaUtilization})),A.a.createElement(ye.a,{thresholds:n}))},Ce=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).combatants=void 0,e.castEfficiency=void 0,e.arcaneFamiliar=void 0,e.arcaneOrb=void 0,e.arcanePower=void 0,e.ruleOfThrees=void 0,e.timeAnomaly=void 0,e.arcaneMissiles=void 0,e.manaValues=void 0,e.arcaneIntellect=void 0,e.cancelledCasts=void 0,e.mirrorImage=void 0,e.runeOfPower=void 0,e.alwaysBeCasting=void 0,e.preparationRuleAnalyzer=void 0,e}return Object(o.a)(t,[{key:"render",value:function(){return A.a.createElement(Re,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(B.a)(Object(B.a)({},this.preparationRuleAnalyzer.thresholds),{},{downtimeSuggestionThresholds:this.alwaysBeCasting.downtimeSuggestionThresholds,arcaneFamiliarUptime:this.arcaneFamiliar.arcaneFamiliarUptimeThresholds,arcaneOrbMissedOrbs:this.arcaneOrb.missedOrbsThresholds,arcanePowerCooldown:this.arcanePower.arcanePowerCooldownThresholds,arcanePowerManaUtilization:this.arcanePower.arcanePowerManaUtilization,arcanePowerCasts:this.arcanePower.arcanePowerCastThresholds,ruleOfThreesUsage:this.ruleOfThrees.ruleOfThreesUtilizationThresholds,timeAnomalyManaUtilization:this.timeAnomaly.timeAnomalyManaThresholds,arcaneMissilesUtilization:this.arcaneMissiles.arcaneMissileUsageThresholds,manaOnKill:this.manaValues.suggestionThresholds,arcaneIntellectUptime:this.arcaneIntellect.suggestionThresholds,cancelledCasts:this.cancelledCasts.suggestionThresholds,runeOfPowerBuffUptime:this.runeOfPower.roundedSecondsSuggestionThresholds})})}}]),t}(U.a);Ce.dependencies={combatants:G.a,castEfficiency:F.a,arcaneFamiliar:x,arcaneOrb:q,arcanePower:ne,ruleOfThrees:re,timeAnomaly:oe,arcaneMissiles:ce,manaValues:he,arcaneIntellect:Ee.a,cancelledCasts:me.a,mirrorImage:ge.a,runeOfPower:Ae.a,alwaysBeCasting:R,preparationRuleAnalyzer:D.a};var pe=Ce,_e=t(797),ve=t(810),Ie=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"buffs",value:function(){var e=this.selectedCombatant;return[{spellId:l.a.CLEARCASTING_ARCANE.id,timelineHighlight:!0},{spellId:l.a.EVOCATION.id,timelineHighlight:!0},{spellId:l.a.ARCANE_POWER.id,triggeredBySpellId:l.a.ARCANE_POWER.id,timelineHighlight:!0},{spellId:l.a.PRESENCE_OF_MIND.id,triggeredBySpellId:l.a.PRESENCE_OF_MIND.id,timelineHighlight:!0},{spellId:l.a.RUNE_OF_POWER_BUFF.id,enabled:e.hasTalent(l.a.RUNE_OF_POWER_TALENT),timelineHighlight:!0},{spellId:l.a.PRISMATIC_BARRIER.id,triggeredBySpellId:l.a.PRISMATIC_BARRIER.id,timelineHighlight:!0},{spellId:l.a.ICE_BLOCK.id,triggeredBySpellId:l.a.ICE_BLOCK.id,timelineHighlight:!0},{spellId:l.a.MIRROR_IMAGE.id,triggeredBySpellId:l.a.MIRROR_IMAGE.id,timelineHighlight:!0},{spellId:Object.keys(ve.a).map((function(e){return Number(e)})),timelineHighlight:!0}]}}]),t}(_e.a),Le=t(49),Ne=t(31),Se=t(41),Pe={borderCapStyle:"butt",borderJoinStyle:"miter",pointBorderWidth:0,pointHoverRadius:0,pointHoverBorderWidth:0,pointRadius:0,pointHitRadius:0,borderWidth:2,spanGaps:!0},we={"Boss-0":Object(B.a)(Object(B.a)({backgroundColor:"rgba(215,2,6,0.08)",borderColor:"rgba(215,2,6,0.6)"},Pe),{},{fill:!0}),"Boss-1":Object(B.a)(Object(B.a)({backgroundColor:"rgba(250,102,56,0.08)",borderColor:"rgba(250,102,56,0.6)"},Pe),{},{fill:!0}),"Boss-2":Object(B.a)(Object(B.a)({backgroundColor:"rgba(255,211,191,0.08)",borderColor:"rgba(255,211,191,0.6)"},Pe),{},{fill:!0}),"Boss-3":Object(B.a)(Object(B.a)({backgroundColor:"rgba(0,0,0,0.08)",borderColor:"rgba(153,196,57,0.6)"},Pe),{},{fill:!0}),"Boss-4":Object(B.a)(Object(B.a)({backgroundColor:"rgba(0,0,0,0.08)",borderColor:"rgba(86,76,172,0.6)"},Pe),{},{fill:!0}),"Boss-5":Object(B.a)(Object(B.a)({backgroundColor:"rgba(0,0,0,0.08)",borderColor:"rgba(243,234,143,0.6)"},Pe),{},{fill:!0}),Mana:Object(B.a)(Object(B.a)({backgroundColor:"rgba(2,109,215,0.25)",borderColor:"rgba(2,109,215,0.6)"},Pe),{},{fill:!0}),Deaths:Object(B.a)(Object(B.a)({backgroundColor:"rgba(255,0,0,0.2)",borderColor:"rgba(255,0,0,0.8)"},Pe),{},{showLine:!1}),ManaUsed:Object(B.a)(Object(B.a)({backgroundColor:"rgba(215, 2, 6, 0.4)",borderColor:"rgba(215, 2, 6, 0.6)"},Pe),{},{showLine:!0}),HPS:Object(B.a)(Object(B.a)({backgroundColor:"rgba(2, 217, 110, 0.2)",borderColor:"rgba(2, 217, 110, 0.6)"},Pe),{},{showLine:!0}),gridLines:{display:!0,color:"rgba(255, 255, 255, 0.6)",borderDash:[2,2]},legend:{display:!0,labels:{fontSize:16,boxWidth:20}}},ke=t(898),Me=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).state={bossHealth:null},i}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(e){e.reportCode===this.props.reportCode&&e.start===this.props.start&&e.end===this.props.end||this.load()}},{key:"load",value:function(){var e=this,a=this.props,t=a.reportCode,n=a.start,i=a.end;Object(Se.i)("report/tables/resources/".concat(t),{start:n,end:i,sourceclass:"Boss",hostility:1,abilityid:1e3}).then((function(a){e.setState({bossHealth:a})}))}},{key:"render",value:function(){var e=this;if(!this.state.bossHealth)return A.a.createElement("div",null,"Loading...");var a=this.props,t=a.start,n=a.end,i=a.manaUpdates,r=a.offsetTime,s=i.map((function(e){var a=e.timestamp,n=e.current,i=e.max;return{x:Math.max(a,t)-t,y:n/i*100}})),o=[];this.state.bossHealth.deaths&&(o=this.state.bossHealth.deaths.filter((function(a){return a.targetID===e.props.actorId})).map((function(e){var a=e.timestamp,n=e.killingAbility;return{x:a-t,ability:n?n.name:"Unknown Ability"}})));var l=this.state.bossHealth.series.map((function(e,a){var n=e.data.map((function(e){var a=Object(Ne.a)(e,2),n=a[0],i=a[1];return{x:n-t,y:i}}));return{title:"".concat(e.name," Health"),borderColor:we["Boss-".concat(a)].borderColor,backgroundColor:we["Boss-".concat(a)].backgroundColor,data:n}}));return A.a.createElement("div",null,"Playing Arcane well typically involves managing your mana properly. Things such as not going OOM during Arcane Power, not letting your mana cap, and ensuring you end the fight with as little mana as possible will all help in improving your DPS.",A.a.createElement("br",null),A.a.createElement("br",null),A.a.createElement("div",{className:"graph-container"},A.a.createElement(ke.a,{mana:s,deaths:o,bossData:l,offsetTime:r,startTime:t,endTime:n})))}}]),t}(A.a.PureComponent),je=function(e){var a=e.parser;return A.a.createElement(Le.a,{style:{padding:"15px 22px"}},A.a.createElement("h1",null,"Mana pool"),A.a.createElement(Me,{reportCode:a.report.code,actorId:a.playerId,start:a.fight.start_time,end:a.fight.end_time,offsetTime:a.fight.offset_time,manaUpdates:a.getModule(de.a).manaUpdates}))},Be=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"tab",value:function(){var e=this;return{title:"Mana",url:"mana",render:function(){return A.a.createElement(je,{parser:e.owner})}}}}]),t}(M.c),Ue=t(972),Fe=t(18),Ge=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(l.a.MASTER_OF_TIME_TALENT.id),i.addEventListener(d.f.removebuff.by(Fe.a).spell(l.a.ALTER_TIME_BUFF),i.resetBlink),i}return Object(o.a)(t,[{key:"resetBlink",value:function(e){this.spellUsable.isOnCooldown(l.a.BLINK.id)&&this.spellUsable.endCooldown(l.a.BLINK.id)}}]),t}(M.c);Ge.dependencies={spellUsable:Z.b};var De=Ge,We=t(751),He=t(752),ze=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.bonusDamage=0,i.stacks=0,i.totalStacks=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(l.a.ARCANE_HARMONY.bonusID),i.addEventListener(d.f.cast.by(Fe.a).spell(l.a.ARCANE_BARRAGE),i.onBarrageCast),i.addEventListener(d.f.damage.by(Fe.a).spell(l.a.ARCANE_BARRAGE),i.onBarrageDamage),i}return Object(o.a)(t,[{key:"onBarrageCast",value:function(e){var a=this.selectedCombatant.getBuff(l.a.ARCANE_HARMONY_BUFF.id);a&&a.stacks&&(this.stacks=a.stacks)}},{key:"onBarrageDamage",value:function(e){this.stacks>0&&(this.bonusDamage+=Object(He.a)(e,.06*this.stacks),this.totalStacks+=this.stacks,this.stacks=0)}},{key:"statistic",value:function(){return A.a.createElement(W.a,{category:H.a.ITEMS,size:"flexible"},A.a.createElement(z.a,{spell:l.a.ARCANE_HARMONY},A.a.createElement(We.a,{amount:this.bonusDamage}),A.a.createElement("br",null),this.averageStacks.toFixed(2)," ",A.a.createElement("small",null,"Avg. stacks per Barrage")))}},{key:"averageStacks",get:function(){return this.totalStacks/this.abilityTracker.getAbility(l.a.ARCANE_BARRAGE.id).casts}}]),t}(M.c);ze.dependencies={abilityTracker:V.a};var Ye=ze,xe=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).abilityTracker=void 0,i.bonusDamage=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(l.a.ARCANE_BOMBARDMENT.bonusID),i.addEventListener(d.f.damage.by(Fe.a).spell(l.a.ARCANE_BARRAGE),i.onBarrageDamage),i}return Object(o.a)(t,[{key:"onBarrageDamage",value:function(e){e.hitPoints&&e.maxHitPoints&&(e.hitPoints/e.maxHitPoints<=.35&&(this.bonusDamage+=Object(He.a)(e,.8)))}},{key:"statistic",value:function(){return A.a.createElement(W.a,{category:H.a.ITEMS,size:"flexible"},A.a.createElement(z.a,{spell:l.a.ARCANE_BOMBARDMENT},A.a.createElement(We.a,{amount:this.bonusDamage}),A.a.createElement("br",null)))}}]),t}(M.c);xe.dependencies={abilityTracker:V.a};var Ve=xe,Ke=t(973),qe=t(119),Xe=t(760),Je=[0,200,200,200,200,200,200,200,300,300,300,300,300,300,300,400],Ze=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).spellUsable=void 0,i.conduitRank=0,i.cooldownReduction=0,i.wastedReduction=0,i.active=i.selectedCombatant.hasConduitBySpellID(l.a.ARCANE_PRODIGY.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(l.a.ARCANE_PRODIGY.id),i.addEventListener(d.f.cast.by(Fe.a).spell(l.a.ARCANE_MISSILES),i.onMissilesCast),i):Object(qe.a)(i)}return Object(o.a)(t,[{key:"onMissilesCast",value:function(e){this.spellUsable.isOnCooldown(l.a.ARCANE_POWER.id)?this.cooldownReduction+=this.spellUsable.reduceCooldown(l.a.ARCANE_POWER.id,Je[this.conduitRank]):this.wastedReduction+=Je[this.conduitRank]}},{key:"statistic",value:function(){return A.a.createElement(W.a,{category:H.a.ITEMS,size:"flexible",tooltip:A.a.createElement(A.a.Fragment,null,"You reduced the cooldown on Arcane Power by a total of ",this.reductionSeconds,"s. Additionally, by casting Arcane Missiles while Arcane Power was not on cooldown, you wasted ",this.wastedReductionSeconds,"s that could have reduced the cooldown on Arcane Power further. ")},A.a.createElement(z.a,{spell:l.a.ARCANE_PRODIGY},A.a.createElement(Xe.a,null)," ",this.reductionSeconds,"s ",A.a.createElement("small",null,"Arcane Power CDR"),A.a.createElement("br",null),this.wastedReductionSeconds,"s ",A.a.createElement("small",null,"Wasted CDR")))}},{key:"reductionSeconds",get:function(){return this.cooldownReduction/1e3}},{key:"wastedReductionSeconds",get:function(){return this.wastedReduction/1e3}}]),t}(M.c);Ze.dependencies={spellUsable:Z.b};var Qe=Ze,$e=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).spellUsable=void 0,i.freeCharges=0,i.active=i.selectedCombatant.hasConduitBySpellID(l.a.ARTIFICE_OF_THE_ARCHMAGE.id),i.addEventListener(d.f.energize.by(Fe.a).spell(l.a.ARTIFICE_OF_THE_ARCHMAGE_ENERGIZE),i.onEnergize),i}return Object(o.a)(t,[{key:"onEnergize",value:function(e){this.freeCharges+=2}},{key:"statistic",value:function(){return A.a.createElement(W.a,{category:H.a.ITEMS,size:"flexible",tooltip:A.a.createElement(A.a.Fragment,null,"The number of Arcane Charges you received from the Artifice of the Archmage conduit. ")},A.a.createElement(z.a,{spell:l.a.ARTIFICE_OF_THE_ARCHMAGE},this.freeCharges," ",A.a.createElement("small",null,"Free Arcane Charges")))}},{key:"chargesPerMinute",get:function(){return this.freeCharges/(this.owner.fightDuration/6e4)||0}}]),t}(M.c);$e.dependencies={spellUsable:Z.b};var ea=$e,aa=t(974),ta=t(975),na=t(976),ia=t(977),ra=t(978),sa=function(e){Object(i.a)(t,e);var a=Object(r.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return t}(s.a);sa.specModules={arcaneChargesNormalizer:h,arcanePowerNormalizer:E,shiftingPowerNormalizer:m.a,checklist:pe,buffs:Ie,alwaysBeCasting:R,abilities:v,cooldownThroughputTracker:S,channeling:j,mana:Be,manaValues:he,cancelledCasts:me.a,arcaneChargeTracker:ee,arcanePower:ne,arcaneMissiles:ce,mirrorImage:ge.a,elementalBarrier:Ue.a,arcaneFamiliar:x,arcaneIntellect:Ee.a,runeOfPower:Ae.a,arcaneOrb:q,ruleOfThrees:re,timeAnomaly:oe,masterOfTime:De,arcaneHarmony:Ye,arcaneBombardment:Ve,shiftingPower:Ke.a,arcaneProdigy:Qe,artificeOfTheArchmage:ea,divertedEnergy:aa.a,groundingSurge:ta.a,ireOfTheAscended:na.a,tempestBarrier:ia.a,siphonedMalice:ra.a};a.default=sa},898:function(e,a,t){"use strict";var n=t(7),i=t(8),r=t(9),s=t(10),o=t(11),l=t(0),c=t.n(l),d=t(788),u=t(779),h=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).colors={mana:{border:"rgba(2, 109, 215, 0.6)",background:"rgba(2, 109, 215, 0.25)"},death:"rgba(255, 0, 0, 0.8)"},e}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props,a=e.mana,t=e.deaths,i=e.bossData,r={x:{field:"x",type:"quantitative",axis:{labelExpr:Object(u.c)("datum.value"),grid:!1},title:null,scale:{zero:!0,nice:!1}},y:{field:"y",type:"quantitative",axis:{tickCount:4},title:null}},s={layer:[{data:{name:"bosses"},transform:[{flatten:["data"]},{calculate:"datum.data.x",as:"x"},{calculate:"datum.data.y",as:"y"}],mark:{type:"area",opacity:.6,line:{interpolate:"linear",strokeWidth:1}},encoding:Object(n.a)(Object(n.a)({},r),{},{color:{field:"title",type:"nominal",title:"Enemy",legend:{orient:"top"},scale:{scheme:"accent"}}})},{data:{name:"mana"},mark:{type:"area",line:{interpolate:"linear",color:this.colors.mana.border,strokeWidth:1},color:this.colors.mana.background},encoding:r},{data:{name:"deaths"},mark:{type:"rule",color:"red",strokeWidth:2},encoding:{x:r.x,tooltip:[{field:"name",type:"nominal",title:"Target"},{field:"ability",type:"nominal",title:"Killing Ability"}]}}]},o={mana:a,deaths:t,bosses:i};return c.a.createElement(d.a,{disableHeight:!0},(function(e){var a=e.width;return c.a.createElement(u.a,{height:400,width:a,spec:s,data:o})}))}}]),t}(c.a.PureComponent);h.defaultProps={deaths:[]},a.a=h}}]);
//# sourceMappingURL=ArcaneMage.b19366ab.chunk.js.map
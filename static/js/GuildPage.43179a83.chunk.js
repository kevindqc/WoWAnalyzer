(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[32],{1050:function(e,t,a){},1051:function(e,t,a){e.exports=a.p+"static/media/ally_guild_banner_bwl.1b35f21a.jpg"},1052:function(e,t,a){e.exports=a.p+"static/media/horde_guild_banner_onyx.f9d433f9.jpg"},1315:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var r=a(27),n=a(0),s=a.n(n),o=a(90),i=a(219),l=a(16),c=a.n(l),u=a(25),m=a(8),p=a(9),d=a(23),h=a(10),g=a(11),f=a(6),E=a(17),v=a(925),b=a(41),N=a(40),R=a(38),w=a(62),O=a(101),y=a(134),I=a(215),D=a(220),S=a(14),_=(a(1050),a(30));var k=function(e){var t=e.reports;return s.a.createElement("ul",{className:"list reports-list"},s.a.createElement("li",{style:{fontWeight:"bold"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-2"},"Report Date"),s.a.createElement("div",{className:"col-sm-5"},"Title"),s.a.createElement("div",{className:"col-sm-2"},"Zone"),s.a.createElement("div",{className:"col-sm-2"},"Owner"))),t.map((function(e){var t=Object(_.d)(e.id);return s.a.createElement("li",{key:t},s.a.createElement(E.b,{to:t},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-2"},new Date(e.start).toLocaleString()),s.a.createElement("div",{className:"col-sm-5"},e.title),s.a.createElement("div",{className:"col-sm-2"},function(e){var t;return null===(t=v.a.find((function(t){return t.id===e})))||void 0===t?void 0:t.name}(e.zone)),s.a.createElement("div",{className:"col-sm-2"},e.owner),s.a.createElement("div",{className:"col-sm-1",style:{color:"white",textAlign:"right"}},s.a.createElement("span",{className:"glyphicon glyphicon-chevron-right","aria-hidden":"true",style:{marginLeft:10}})))))})))},L=a(1051),T=a.n(L),x=a(1052),C=a.n(x),P=[25,50,100],U={GUILD_NOT_FOUND:{id:"interface.guildReports.errors.guildNotFound",defaults:"We couldn't find your guild on Warcraft Logs"},NO_REPORTS_FOR_FILTER:{id:"interface.guildReports.errors.noReportsForFilter",defaults:"We couldn't find any reports"},WCL_API_ERROR:{id:"interface.guildReports.errors.wclAPIError",defaults:"Something went wrong talking to Warcraft Logs"},UNKNOWN_API_ERROR:{id:"interface.guildReports.errors.unknownAPIError",defaults:"Something went wrong talking to the server"},UNEXPECTED:{id:"interface.guildReports.errors.unexpected",defaults:"Something went wrong"},NOT_RESPONDING:{id:"interface.guildReports.errors.notResponding",defaults:"Request timed out"}},j=function(e){Object(h.a)(r,e);var t=Object(g.a)(r);function r(e){var a;return Object(m.a)(this,r),(a=t.call(this,e)).state={activeZoneID:-1,reports:[],reportsToShow:25,isLoading:!0,error:null,errorMessage:null,realmSlug:e.realm,factionImage:C.a},a.load=a.load.bind(Object(d.a)(a)),a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchBattleNetInfo();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchBattleNetInfo",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,r,n,s,o,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.region,r=t.realm,n=t.name,"CN"!==a){e.next=4;break}return this.setState({factionImage:C.a},(function(){i.load()})),e.abrupt("return");case 4:return e.next=6,fetch(Object(w.c)(a,r,n));case 6:if(500!==(s=e.sent).status){e.next=12;break}return this.setState({isLoading:!1,error:U.NOT_RESPONDING}),e.abrupt("return");case 12:if(404!==s.status){e.next=17;break}return this.setState({isLoading:!1,error:U.GUILD_NOT_FOUND}),e.abrupt("return");case 17:if(s.ok){e.next=20;break}return this.setState({isLoading:!1,error:U.UNEXPECTED}),e.abrupt("return");case 20:return e.next=22,s.json();case 22:if((o=e.sent).faction){e.next=26;break}return this.setState({isLoading:!1,error:U.UNEXPECTED,errorMessage:"Corrupt Battle.net API response received."}),e.abrupt("return");case 26:this.setState({factionImage:1===o.faction?C.a:T.a},(function(){i.load()}));case 27:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findRealm",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,r,n,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.a)((function(){return Promise.resolve().then(a.bind(null,163)).then((function(e){return e.default}))}));case 2:if(t=e.sent,r=t[this.props.region]){e.next=7;break}return console.warn("Region could not be found: ".concat(this.props.region,". This generally indicates a bug.")),e.abrupt("return",null);case 7:return n=this.props.realm.toLowerCase(),(s=r.find((function(e){return e.name.toLowerCase()===n})))||console.warn("Realm could not be found: ".concat(this.props.realm,". This generally indicates a bug.")),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRealmSlug",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findRealm();case 2:return t=e.sent,e.abrupt("return",t?t.slug:this.props.realm);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,r,n,s=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.next=3,this.getRealmSlug();case 3:return t=e.sent,this.setState({realmSlug:t}),a=encodeURIComponent(this.props.name),r=encodeURIComponent(t),(n=new Date).setMonth(n.getMonth()-3),e.abrupt("return",Object(b.i)("reports/guild/".concat(a,"/").concat(r,"/").concat(this.props.region),{start:n.getTime()}).then((function(e){0!==e.length?s.setState({reports:e,isLoading:!1,error:null}):s.setState({reports:[],isLoading:!1,error:U.NO_REPORTS_FOR_FILTER})})).catch((function(e){var t;e instanceof b.d?s.setState({error:U.GUILD_NOT_FOUND,isLoading:!1}):(Object(N.a)(e),t=e instanceof b.h?U.WCL_API_ERROR:e instanceof b.g?U.UNKNOWN_API_ERROR:U.UNEXPECTED,s.setState({error:t,errorMessage:e.message,isLoading:!1}))})));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.filterReports,r=s.a.createElement("a",{href:"https://discord.gg/AxphPxU",target:"_blank",rel:"noopener noreferrer"},"Discord"),n=s.a.createElement("a",{href:"https://github.com/WoWAnalyzer/WoWAnalyzer",target:"_blank",rel:"noopener noreferrer"},"Github"),o=s.a.createElement("a",{href:"https://www.warcraftlogs.com/help/start/",target:"_blank",rel:"noopener noreferrer"},"Warcraft Logs guide");this.state.error===U.GUILD_NOT_FOUND?e=s.a.createElement(f.Trans,{id:"interface.guildReports.errors.guildNotFoundDetails",values:{WCL_GUIDE:o,DISCORD:r,GITHUB:n},components:[s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("br",null)]}):this.state.error===U.NOT_RESPONDING?e=s.a.createElement(f.Trans,{id:"interface.guildReports.errors.notRespondingDetails",components:[s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(E.b,{to:"/"}),s.a.createElement("br",null),s.a.createElement("br",null)]}):this.state.error===U.WCL_API_ERROR||this.state.error===U.UNKNOWN_API_ERROR||this.state.error===U.UNEXPECTED?e=s.a.createElement(f.Trans,{id:"interface.guildReports.errors.details",values:{0:this.state.errorMessage,DISCORD:r,GITHUB:n},components:[s.a.createElement("br",null)]}):this.state.error!==U.NO_REPORTS_FOR_FILTER&&0!==a.length||(e=s.a.createElement(f.Trans,{id:"interface.guildReports.errors.noReportsForFilterDetails",values:{WCL_GUIDE:o},components:[s.a.createElement("br",null),s.a.createElement("br",null)]}));var i=this.props.name.replace(/\s/g,"-").toLowerCase(),l="https://worldofwarcraft.com/en-".concat(this.props.region,"/guild/").concat(this.props.region,"/").concat(this.state.realmSlug,"/").concat(i);return"CN"===this.props.region&&(l="https://www.wowchina.com/zh-cn/guild/".concat(this.state.realmSlug,"/").concat(i)),s.a.createElement("div",{className:"results"},s.a.createElement("header",null,s.a.createElement("div",{className:"background"},s.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(this.state.factionImage,")"),backgroundSize:"cover",backgroundPosition:"center center"}})),s.a.createElement("div",{className:"info container"},s.a.createElement("div",null,s.a.createElement("a",{href:"https://www.warcraftlogs.com/guild/".concat(this.props.region,"/").concat(this.state.realmSlug,"/").concat(this.props.name),target:"_blank",rel:"noopener noreferrer",className:"btn",style:{fontSize:22}},s.a.createElement(I.a,null)," Warcraft Logs"),s.a.createElement("br",null),s.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"btn",style:{fontSize:22}},s.a.createElement(y.a,null)," Armory"),s.a.createElement("br",null),"CN"!==this.props.region&&s.a.createElement("a",{href:"https://www.wipefest.gg/guild/".concat(this.props.name,"/").concat(this.state.realmSlug,"/").concat(this.props.region),target:"_blank",rel:"noopener noreferrer",className:"btn",style:{fontSize:22}},s.a.createElement(D.a,null)," Wipefest")),s.a.createElement("div",{className:"player"},s.a.createElement("h2",null,this.props.region," - ",this.props.realm),s.a.createElement("h1",null,this.props.name))),s.a.createElement("nav",null,s.a.createElement("div",{className:"container"},s.a.createElement("ul",null,s.a.createElement("li",{style:{height:"auto"}},s.a.createElement("select",{className:"form-control",value:this.state.activeZoneID,onChange:function(e){return t.setState({activeZoneID:Number(e.target.value)})}},s.a.createElement("option",{key:-1,value:-1},"All Zones"),Object.values(v.a).reverse().map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e.name)})))),s.a.createElement("li",{style:{height:"auto"}},s.a.createElement("select",{className:"form-control",value:this.state.reportsToShow,onChange:function(e){return t.setState({reportsToShow:Number(e.target.value)})},style:{width:"auto",float:"right"}},P.map((function(e){return s.a.createElement("option",{key:e,value:e},e," reports")})))))))),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},this.state.error&&s.a.createElement("span",null,s.a.createElement(E.b,{to:"/"},s.a.createElement(f.Trans,{id:"interface.guildReports.home"}))," ",">"," ",s.a.createElement("span",null,this.props.region," > ",this.props.realm," >"," ",this.props.name),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("div",{className:"panel",style:{overflow:"auto"}},!this.state.isLoading&&s.a.createElement("div",{className:"panel-heading"},s.a.createElement("div",{className:"pull-right"},s.a.createElement(E.b,{to:"",onClick:function(e){e.preventDefault(),t.load()}},s.a.createElement("span",{className:"glyphicon glyphicon-refresh","aria-hidden":"true"})," ",s.a.createElement(f.Trans,{id:"interface.guildReports.refresh"}))),s.a.createElement("h1",{style:{display:"inline-block"}},this.state.error?S.b._(this.state.error):s.a.createElement(f.Trans,{id:"interface.guildReports.guildReports"})),s.a.createElement("small",null,s.a.createElement(f.Trans,{id:"interface.guildReports.guildReportsDetails"}))),s.a.createElement("div",{className:"panel-body"},s.a.createElement("div",{className:"flex-main",style:{padding:e?20:0}},this.state.isLoading&&!this.state.error&&s.a.createElement("div",{style:{textAlign:"center",fontSize:"2em",margin:"20px 0"}},s.a.createElement(O.a,{text:s.a.createElement(f.Trans,{id:"interface.guildReports.fetchingReports"})})),!this.state.isLoading&&e,!this.state.isLoading&&a.length>0&&s.a.createElement(k,{reports:a}))))))))}},{key:"filterReports",get:function(){var e=this,t=this.state.reports;return-1!==this.state.activeZoneID&&(t=t.filter((function(t){return e.state.activeZoneID===t.zone}))),t.sort((function(e,t){return t.start-e.start})),t.slice(0,this.state.reportsToShow)}}]),r}(s.a.Component),W=function(e){var t=e.region,a=e.realm,n=e.name,l=Object(r.a)(e,["region","realm","name"]);return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{title:"".concat(n,"-").concat(a," (").concat(t,")")}),s.a.createElement(i.a,null),s.a.createElement(j,Object.assign({region:t,realm:a,name:n},l)))}},925:function(e,t,a){"use strict";t.a=[{id:26,name:"Castle Nathria",frozen:!1,brackets:{min:173,max:230,bucket:3,type:"Item Level"},encounters:[{id:2398,name:"Shriekwing",npcID:164406},{id:2418,name:"Huntsman Altimor",npcID:165066},{id:2383,name:"Hungering Destroyer",npcID:164261},{id:2402,name:"Sun King's Salvation",npcID:168973},{id:2405,name:"Artificer Xy'mox",npcID:166644},{id:2406,name:"Lady Inerva Darkvein",npcID:165521},{id:2412,name:"The Council of Blood",npcID:166969},{id:2399,name:"Sludgefist",npcID:164407},{id:2417,name:"Stone Legion Generals",npcID:168113},{id:2407,name:"Sire Denathrius",npcID:167406}]}]}}]);
//# sourceMappingURL=GuildPage.43179a83.chunk.js.map
(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[4],{859:function(e,t,a){"use strict";var n=a(6),i=a(0),r=a.n(i),l=a(33);t.a=function(e){var t=e.value;return r.a.createElement("div",{className:"flex",style:{textAlign:"center",marginTop:12}},r.a.createElement(n.Trans,{id:"interface.statistics.components.gauge.low",render:"div",className:"flex-main text-right text-muted",style:{paddingTop:23,paddingRight:8,fontSize:12}}),r.a.createElement("div",{className:"flex-sub",style:{position:"relative"}},r.a.createElement("svg",{width:"98",height:"85",viewBox:"19 19 101 88",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{fill:"none"}},r.a.createElement("path",{d:"M101.459 101.459C119.033 83.8858 119.033 55.3934 101.459 37.8198C83.8859 20.2462 55.3934 20.2462 37.8198 37.8198C20.2463 55.3934 20.2463 83.8858 37.8198 101.459",stroke:"#f8b700",strokeWidth:"8",strokeLinecap:"round"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M68.6396 28.6396H70.6396V32.6396H68.6396V28.6396Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M87.7656 32.8389L89.5485 33.7451L87.7368 37.3097L85.9539 36.4035L87.7656 32.8389Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M101.207 50.1829L100.077 48.5324L103.378 46.2732L104.508 47.9236L101.207 50.1829Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M106.622 67.3762L106.417 65.3868L110.398 64.9765L110.603 66.966L106.622 67.3762Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M103.658 84.4276L104.376 82.5609L108.11 83.9969L107.392 85.8635L103.658 84.4276Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.0547 32.5298L50.2627 33.4179L52.039 37.0019L53.831 36.1137L52.0547 32.5298Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.1157 45.9784L34.965 47.6142L38.2354 49.9147L39.3861 48.2789L36.1157 45.9784Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.8926 64.968L28.6883 66.9576L32.6626 67.3657L32.8669 65.3761L28.8926 64.968Z",fill:"#f8b700"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3486 84.3921L32.0806 86.2533L35.8031 84.7895L35.0711 82.9282L31.3486 84.3921Z",fill:"#f8b700"})),r.a.createElement("div",{style:{position:"absolute",top:49,left:"50%",width:32,height:32,transform:"translate(-50%, -50%)",marginTop:-13}},r.a.createElement("svg",{width:"10",height:"32",viewBox:"0 0 10 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{fill:"none",margin:0,transformOrigin:"5px 27px",transform:"rotate(".concat(280*t-140,"deg)")}},r.a.createElement("path",{d:"M9 27C9 29.2091 7.20914 31 5 31C2.79086 31 1 29.2091 1 27C1 24.7909 2.79086 23 5 23C7.20914 23 9 24.7909 9 27Z",stroke:"#f8b700",strokeWidth:"2"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 0L6 23H4L4 0L6 0Z",fill:"#f8b700"}))),r.a.createElement("div",{className:"value",style:{marginTop:-18,fontSize:"1.25em"}},Object(l.e)(t,0),"%")),r.a.createElement(n.Trans,{id:"interface.statistics.components.gauge.high",render:"div",className:"flex-main text-left text-muted",style:{paddingTop:23,paddingLeft:8,fontSize:12}}))}},870:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(120),l=a(66),c=a(10),s=a(11),o=a(6),d=a(0),m=a.n(d),u=a(33),h=a(780),g=a(750),p=a(746),f=a(859),b=a(13),v=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).healingTime=0,e._lastHealingCastFinishedTimestamp=null,e.showStatistic=!0,e}return Object(i.a)(a,[{key:"onGCD",value:function(e){return!!Object(r.a)(Object(l.a)(a.prototype),"onGCD",this).call(this,e)&&(this.countsAsHealingAbility(e)&&(this.healingTime+=e.duration),!0)}},{key:"onEndChannel",value:function(e){return!!Object(r.a)(Object(l.a)(a.prototype),"onEndChannel",this).call(this,e)&&(this.countsAsHealingAbility(e)&&(this.healingTime+=e.duration),!0)}},{key:"countsAsHealingAbility",value:function(e){return this.constructor.HEALING_ABILITIES_ON_GCD.includes(e.ability.guid)}},{key:"statistic",value:function(){if(!this.showStatistic)return null;var e=this.activeTimePercentage,t=this.healingTimePercentage,a=this.downtimePercentage;return m.a.createElement(p.a,{position:g.a.CORE(10),tooltip:m.a.createElement(o.Trans,{id:"shared.alwaysBeCastingHealing.statistic.tooltip",values:{0:Object(u.e)(e),1:Object(u.e)(t),2:Object(u.e)(e-t),3:Object(u.e)(a)},components:[m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("strong",null),m.a.createElement("strong",null),m.a.createElement("strong",null),m.a.createElement("strong",null),m.a.createElement("br",null),m.a.createElement("br",null)]}),drilldown:"timeline"},m.a.createElement("div",{className:"pad"},m.a.createElement(o.Trans,{id:"shared.alwaysBeCastingHealing.statistic",render:"label"}),m.a.createElement(f.a,{value:e})))}},{key:"suggestions",value:function(e){e(this.nonHealingTimeSuggestionThresholds).addSuggestion((function(e,t,a){return e("Your time spent healing can be improved. Try to reduce the amount of time you're not healing, for example by reducing the delay between casting spells, moving during the GCD and if you have to move try to continue healing with instant spells.").icon("petbattle_health-down").actual(b.i18n._({id:"shared.suggestions.alwaysBeCastingHealing.timeSpentHealing",defaults:"{0}% time spent healing",values:{0:1-Object(u.e)(t)}})).recommended(">".concat(Object(u.e)(1-a),"% is recommended"))})),e(this.downtimeSuggestionThresholds).addSuggestion((function(e,t,a){return e("Your active time can be improved. Try to reduce your downtime, for example by reducing the delay between casting spells and when you're not healing try to contribute some damage.").icon("spell_mage_altertime").actual(b.i18n._({id:"shared.suggestions.alwaysBeCasting.activeTime",defaults:"{0}% active time",values:{0:Object(u.e)(1-t)}})).recommended(">".concat(Object(u.e)(1-a),"% is recommended"))}))}},{key:"healingTimePercentage",get:function(){return this.healingTime/this.owner.fightDuration}},{key:"nonHealingTimePercentage",get:function(){return 1-this.healingTimePercentage}},{key:"nonHealingTimeSuggestionThresholds",get:function(){return{actual:this.nonHealingTimePercentage,isGreaterThan:{minor:.3,average:.4,major:.45},style:"percentage"}}},{key:"downtimeSuggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.2,average:.35,major:1},style:"percentage"}}}]),a}(h.a);v.HEALING_ABILITIES_ON_GCD=[],v.icons={healingTime:"/img/healing.png",activeTime:"/img/sword.png",downtime:"/img/afk.png"},t.a=v},874:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),l=a(11),c=a(6),s=a(0),o=a.n(s),d=a(812),m=a(43),u=a(819),h=a(793),g=a(26),p=a(7),f=a(788),b=a(779),v={background:"rgba(2, 109, 215, 0.25)",border:"rgba(2, 109, 215, 0.6)"},y={background:"rgba(2, 217, 110, 0.2)",border:"rgba(2, 217, 110, 0.6)"},E={background:"rgba(215, 2, 6, 0.4)",border:"rgba(215, 2, 6, 0.6)"},O=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mana,a=e.healing,n=e.manaUsed,i={x:{field:"x",type:"quantitative",axis:{labelExpr:Object(b.c)("datum.value * 1000"),grid:!1},title:null,scale:{zero:!0,nice:!1}},y:{field:"y",type:"quantitative",title:null}},r={data:{name:"combined"},mark:{type:"area",line:{strokeWidth:1}},encoding:Object(p.a)(Object(p.a)({},i),{},{color:{field:"kind",scale:{scheme:[y.border,v.border,E.border]},title:null,legend:{orient:"top"}}})},l={combined:[].concat(Object(g.a)(t.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{kind:"Mana"})}))),Object(g.a)(a.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{kind:"HPS"})}))),Object(g.a)(n.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{kind:"Mana Used"})}))))};return o.a.createElement(f.a,{disableHeight:!0},(function(e){var t=e.width;return o.a.createElement(b.a,{height:400,width:t,spec:r,data:l})}))}}]),a}(o.a.Component),j=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"groupHealingBySeconds",value:function(e,t){return Object.keys(e).reduce((function(a,n){var i=e[n],r=Math.floor(n/t);return a[r]?a[r]=a[r].add(i.regular,i.absorbed,i.overheal):a[r]=i,a}),{})}},{key:"render",value:function(){var e=this.props,t=e.start,a=e.end,n=e.offset,i=e.healingBySecond,r=e.manaUpdates,l=this.groupHealingBySeconds(i,5),c=0;Object.keys(l).map((function(e){return l[e]})).forEach((function(e){var t=e.effective;t>c&&(c=t)})),c/=5;var s={0:0},d={0:1};r.forEach((function(e){var a=Math.floor((e.timestamp-t)/1e3/5);s[a]=(s[a]||0)+e.used/e.max,d[a]=e.current/e.max}));for(var m=Math.ceil((a-t)/1e3),u=[],h=0;h<=m/5;h+=1)u.push(Math.ceil(n/1e3)+5*h),l[h]=void 0!==l[h]?l[h].effective:0,s[h]=void 0!==s[h]?s[h]:0,d[h]=void 0!==d[h]?d[h]:null;var g=null,p=Object.values(d).map((function(e,t){return null!==e&&(g=e),{x:u[t],y:g*c}})),f=Object.values(l).map((function(e,t){return{x:u[t],y:e/5}})),b=Object.values(s).map((function(e,t){return{x:u[t],y:e*c}}));return o.a.createElement("div",{className:"graph-container",style:{marginBottom:20}},o.a.createElement(O,{mana:p,healing:f,manaUsed:b}))}}]),a}(o.a.PureComponent),w=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"statistic",value:function(){var e=this.owner.report.code,t=this.owner.playerId,a=this.owner.fight.start_time,n=this.owner.fight.end_time,i=this.owner.fight.offset_time;return o.a.createElement(d.a,{title:o.a.createElement(c.Trans,{id:"shared.manaUsageChart.statistic.title"}),explanation:o.a.createElement(c.Trans,{id:"shared.manaUsageChart.statistic.explanation"}),position:110},o.a.createElement(j,{reportCode:e,actorId:t,start:a,end:n,offset:i,manaUpdates:this.manaValues.manaUpdates,healingBySecond:this.healingDone.bySecond}))}}]),a}(m.c);w.dependencies={manaValues:u.a,healingDone:h.a};t.a=w},875:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),l=a(11),c=a(6),s=a(0),o=a.n(s),d=a(49),m=a(43),u=a(15),h=a(757),g=a(994),p=(a(950),a(5)),f=a(4),b=a(28),v=a(33),y=a(207),E=a(22),O=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={maxPlayerHealthPercentage:.35,minHealOfMaxHealthPercentage:.1},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.fightStart,n=t.combatants,i=t.healEvents,r=0,l=0,s=0,d=0,m={min:0,max:1,step:.05,marks:{0:"0%",.1:"10%",.2:"20%",.3:"30%",.4:"40%",.5:"50%",.6:"60%",.7:"70%",.8:"80%",.9:"90%",1:"100%"},style:{marginBottom:"2em"}};return o.a.createElement("div",null,o.a.createElement("div",{style:{padding:"15px 30px"}},o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.slider.maxHealth"})," ",o.a.createElement(g.a,Object.assign({},m,{defaultValue:this.state.maxPlayerHealthPercentage,onChange:function(t){e.setState({maxPlayerHealthPercentage:t})}})),o.a.createElement("br",null),o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.slider.minEffective"})," ",o.a.createElement(g.a,Object.assign({},m,{defaultValue:this.state.minHealOfMaxHealthPercentage,onChange:function(t){e.setState({minHealOfMaxHealthPercentage:t})}}))),o.a.createElement("table",{className:"data-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(c.Trans,{id:"common.time"})),o.a.createElement("th",null,o.a.createElement(c.Trans,{id:"common.ability"})),o.a.createElement("th",null,o.a.createElement(c.Trans,{id:"common.target"})),o.a.createElement("th",{colSpan:"2"},o.a.createElement(c.Trans,{id:"common.healingDone"})))),o.a.createElement("tbody",null,i.map((function(t){var i=t.amount+(t.absorbed||0),m=t.hitPoints-i,u=m/t.maxHitPoints;if(u>e.state.maxPlayerHealthPercentage)return!1;if(r+=i,l+=1,i/t.maxHitPoints<e.state.minHealOfMaxHealthPercentage)return!1;d+=1,s+=i;var h=n.getEntity(t);if(!h)return console.error("Missing combatant for event:",t),null;var g=p.a[h.specId],O=g.className.replace(" ","");return o.a.createElement("tr",{key:"".concat(t.timestamp).concat(i).concat(m)},o.a.createElement("td",{style:{width:"5%"}},Object(v.a)((t.timestamp-a)/1e3)),o.a.createElement("td",{style:{width:"25%"}},o.a.createElement(f.a,{id:t.ability.guid,icon:!1},o.a.createElement(b.a,{icon:t.ability.abilityIcon,alt:t.ability.abilityIcon})," ",t.ability.name)),o.a.createElement("td",{style:{width:"20%"},className:O},o.a.createElement(y.a,{id:g.id})," ",h.name),o.a.createElement("td",{style:{width:170,paddingRight:5,textAlign:"right"}},Object(v.d)(i)," @"," ",u<0?o.a.createElement(E.a,{content:o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.table.event.tooltip"})},o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.table.event",values:{0:Object(v.e)(u)}})):o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.table.event",values:{0:Object(v.e)(u)}})),o.a.createElement("td",{style:{width:"35%"}},o.a.createElement("div",{className:"flex performance-bar-container"},o.a.createElement("div",{className:"flex-sub performance-bar ".concat(O,"-bg"),style:{width:"".concat(100*u,"%")}}),o.a.createElement("div",{className:"flex-sub performance-bar Hunter-bg",style:{width:"".concat(i/t.maxHitPoints*100,"%"),opacity:.4}}))))})),o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"7"},o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.table.total",values:{0:100*this.state.maxPlayerHealthPercentage,1:Object(v.d)(r),2:100*this.state.maxPlayerHealthPercentage,3:Math.round(100*this.state.minHealOfMaxHealthPercentage),4:Object(v.d)(s),count:l,bigHealCount:d},components:[o.a.createElement("br",null)]}))))))}}]),a}(o.a.Component),j=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"tab",value:function(){var e=this;return{title:"Triage",url:"triage",render:function(){return o.a.createElement(d.a,{title:o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.tab.title"}),explanation:o.a.createElement(c.Trans,{id:"shared.lowHealthHealing.tab.explanation"}),pad:!1},o.a.createElement(O,{healEvents:e.owner.eventHistory.filter((function(t){return t.type===u.b.Heal&&(e.owner.byPlayer(t)||e.owner.byPlayerPet(t))})),fightStart:e.owner.fight.start_time-e.owner.fight.offset_time,combatants:e.combatants}))}}}}]),a}(m.c);j.dependencies={combatants:h.a};t.a=j},876:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),l=a(11),c=a(6),s=a(0),o=a.n(s),d=a(812),m=a(43),u=a(819),h=a(757),g=a(31),p=a(26),f=a(41),b=a(898),v=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={bossHealth:null},i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(e){e.reportCode===this.props.reportCode&&e.start===this.props.start&&e.end===this.props.end&&e.offset===this.props.offset||this.load()}},{key:"load",value:function(){var e=this,t=this.props,a=t.reportCode,n=t.start,i=t.end;Object(f.i)("report/tables/resources/".concat(a),{start:n,end:i,sourceclass:"Boss",hostility:1,abilityid:1e3}).then((function(t){e.setState({bossHealth:t})}))}},{key:"render",value:function(){if(!this.state.bossHealth)return o.a.createElement("div",null,"Loading...");var e=this.props,t=e.start,a=e.offset,n=e.manaUpdates,i=e.combatants,r=n[0]?n[0].current/n[0].max:1,l=0===a?[{x:0,y:100}]:[{x:0,y:100*r}];l.push.apply(l,Object(p.a)(n.map((function(e){var a=e.timestamp,n=e.current,i=e.max;return{x:Math.max(a,t)-t,y:n/i*100}}))));var c=this.state.bossHealth.series.map((function(e){var a=e.data.map((function(e){var a=Object(g.a)(e,2),n=a[0],i=a[1];return{x:n-t,y:i}}));return{id:e.id,title:"".concat(e.name," Health"),data:a}})),s=[];return this.state.bossHealth.deaths&&(s=this.state.bossHealth.deaths.filter((function(e){return Boolean(e.targetIsFriendly)})).map((function(e){var a=e.timestamp,n=e.targetID,r=e.killingAbility;return{x:a-t,name:i.players[n].name,ability:r?r.name:"Unknown Ability"}}))),o.a.createElement("div",{className:"graph-container"},o.a.createElement(b.a,{mana:l,bossData:c,deaths:s}))}}]),a}(o.a.PureComponent),y=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"statistic",value:function(){var e=this.owner.report.code,t=this.owner.playerId,a=this.owner.fight.start_time,n=this.owner.fight.end_time,i=this.owner.fight.offset_time;return o.a.createElement(d.a,{title:o.a.createElement(c.Trans,{id:"shared.manaLevelChart.statistic.title"}),explanation:o.a.createElement(c.Trans,{id:"shared.manaLevelChart.statistic.explanation"}),position:100},o.a.createElement(v,{reportCode:e,actorId:t,start:a,end:n,offset:i,combatants:this.combatants,manaUpdates:this.manaValues.manaUpdates}))}}]),a}(m.c);y.dependencies={manaValues:u.a,combatants:h.a};t.a=y},898:function(e,t,a){"use strict";var n=a(7),i=a(8),r=a(9),l=a(10),c=a(11),s=a(0),o=a.n(s),d=a(788),m=a(779),u=function(e){Object(l.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).colors={mana:{border:"rgba(2, 109, 215, 0.6)",background:"rgba(2, 109, 215, 0.25)"},death:"rgba(255, 0, 0, 0.8)"},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.mana,a=e.deaths,i=e.bossData,r={x:{field:"x",type:"quantitative",axis:{labelExpr:Object(m.c)("datum.value"),grid:!1},title:null,scale:{zero:!0,nice:!1}},y:{field:"y",type:"quantitative",axis:{tickCount:4},title:null}},l={layer:[{data:{name:"bosses"},transform:[{flatten:["data"]},{calculate:"datum.data.x",as:"x"},{calculate:"datum.data.y",as:"y"}],mark:{type:"area",opacity:.6,line:{interpolate:"linear",strokeWidth:1}},encoding:Object(n.a)(Object(n.a)({},r),{},{color:{field:"title",type:"nominal",title:"Enemy",legend:{orient:"top"},scale:{scheme:"accent"}}})},{data:{name:"mana"},mark:{type:"area",line:{interpolate:"linear",color:this.colors.mana.border,strokeWidth:1},color:this.colors.mana.background},encoding:r},{data:{name:"deaths"},mark:{type:"rule",color:"red",strokeWidth:2},encoding:{x:r.x,tooltip:[{field:"name",type:"nominal",title:"Target"},{field:"ability",type:"nominal",title:"Killing Ability"}]}}]},c={mana:t,deaths:a,bosses:i};return o.a.createElement(d.a,{disableHeight:!0},(function(e){var t=e.width;return o.a.createElement(m.a,{height:400,width:t,spec:l,data:c})}))}}]),a}(o.a.PureComponent);u.defaultProps={deaths:[]},t.a=u}}]);
//# sourceMappingURL=4.9ccc0f7c.chunk.js.map
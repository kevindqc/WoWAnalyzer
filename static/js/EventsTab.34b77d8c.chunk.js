(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[25],{1169:function(e,a,t){},1309:function(e,a,t){"use strict";t.r(a);var n=t(12),r=t(7),l=t(8),i=t(9),c=t(23),s=t(10),o=t(11),u=t(0),m=t.n(u),f=t(1152),d=t.n(f),b=t(1155),h=t.n(b),g=t(69),p=t.n(g),y=(t(221),t(124)),v=t(33),E=t(28),w=t(4),N=t(88),k=t(766),C=t(22),O=t(15),T=(t(1168),t(1169),{damage:{name:"Damage"},heal:{name:"Heal"},healabsorbed:{name:"Heal Absorbed",explanation:"Triggered in addition to the regular heal event whenever a heal is absorbed. Can be used to determine what buff or debuff was absorbing the healing. This should only be used if you need to know which ability soaked the healing."},absorbed:{name:"Absorb",explanation:"Triggered whenever an absorb effect absorbs damage. These are friendly shields to avoid damage and NOT healing absorption shields."},begincast:{name:"Begin Cast"},cast:{name:"Cast Success",explanation:"Triggered whenever a cast was successful. Blizzard also sometimes uses this event type for mechanics and spell ticks or bolts."},applybuff:{name:"Buff Apply"},removebuff:{name:"Buff Remove"},applybuffstack:{name:"Buff Stack Gained"},removebuffstack:{name:"Buff Stack Lost"},refreshbuff:{name:"Buff Refresh"},applydebuff:{name:"Debuff Apply"},removedebuff:{name:"Debuff Remove"},applydebuffstack:{name:"Debuff Stack Gained"},removedebuffstack:{name:"Debuff Stack Lost"},refreshdebuff:{name:"Debuff Refresh"},summon:{name:"Summon"},combatantinfo:{name:"Player Info",explanation:"Triggered at the start of the fight with advanced combat logging on. This includes gear, talents, etc."},energize:{name:"Energize"},interrupt:{name:"Interrupt"},death:{name:"Death"},resurrect:{name:"Resurrect"},dispel:{name:"Dispel"}}),R=function(e){Object(s.a)(t,e);var a=Object(o.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state=Object(r.a)(Object(r.a)({},Object.keys(T).reduce((function(e,a){return e[a]=!0,e}),{})),{},{rawNames:!1,showFabricated:!1,search:""}),e.handleRowClick=e.handleRowClick.bind(Object(c.a)(e)),e.toggleAllOff=Object.keys(T).reduce((function(e,a){return e[a]=!1,e}),{}),e}return Object(i.a)(t,[{key:"findEntity",value:function(e){var a=this.props.parser.report.friendlies.find((function(a){return a.id===e}));if(a)return a;var t=this.props.parser.report.enemies.find((function(a){return a.id===e}));if(t)return t;var n=this.props.parser.playerPets.find((function(a){return a.id===e}));return n||null}},{key:"renderEntity",value:function(e){return e?m.a.createElement("span",{className:e.type},e.name):null}},{key:"renderAbility",value:function(e){if(!e)return null;var a=e.guid;return m.a.createElement(w.a,{id:a,icon:!1},e.abilityIcon&&m.a.createElement(E.a,{icon:e.abilityIcon})," ",e.name)}},{key:"eventTypeName",value:function(e){return this.state.rawNames?e:T[e]?T[e].name:e}},{key:"renderEventTypeToggle",value:function(e){var a=this.eventTypeName(e),t=T[e]?T[e].explanation:void 0;return this.renderToggle(e,a,t)}},{key:"renderToggle",value:function(e,a){var t=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return m.a.createElement("div",{key:e,className:"flex toggle-control"},m.a.createElement("label",{className:"flex-main",htmlFor:"".concat(e,"-toggle")},a),r&&m.a.createElement("div",{className:"flex-sub",style:{padding:"0 10px"}},m.a.createElement(C.b,{content:r},m.a.createElement("div",null,m.a.createElement(y.a,{style:{fontSize:"1.4em"}})))),m.a.createElement(p.a,{checked:this.state[e],icons:!1,onChange:function(a){return t.setState(Object(n.a)({},e,a.target.checked))},id:"".concat(e,"-toggle"),className:"flex-sub"}))}},{key:"renderRow",value:function(e){var a=e.rowData;return Object(b.defaultRowRenderer)(Object(r.a)(Object(r.a)({},e),{},{className:"".concat(e.className," ").concat(a.__modified?"modified":""," ").concat(a.__fabricated?"fabricated":"")}))}},{key:"handleRowClick",value:function(e){var a=e.rowData;console.log(a)}},{key:"toggleAllFiltersOff",value:function(){this.setState(this.toggleAllOff)}},{key:"renderSearchBox",value:function(){var e=this;return m.a.createElement("input",{type:"text",name:"search",className:"form-control",onChange:function(a){return e.setState({search:a.target.value.trim().toLowerCase()})},placeholder:"Search events",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})}},{key:"render",value:function(){var e=this,a=this.props.parser,t=/"([^"]*)"|(\S+)/g,n=(this.state.search.match(t)||[]).map((function(e){return e.replace(t,"$1$2")})),r=a.eventHistory.filter((function(a){if(!1===e.state[a.type])return!1;if(!e.state.showFabricated&&!0===a.__fabricated)return!1;if(0===n.length)return!0;var t=e.findEntity(a.sourceID),r=e.findEntity(a.targetID);return n.some((function(e){if(void 0!==a.ability){if(a.ability.guid==e)return!0;if(a.ability.name&&a.ability.name.toLowerCase().includes(e))return!0}return!(null===t||!t.name.toLowerCase().includes(e))||(!(null===r||!r.name.toLowerCase().includes(e))||!(null===a.type||!a.type.toLowerCase().includes(e)))}))}));return m.a.createElement("div",{className:"panel"},m.a.createElement("div",{className:"panel-heading"},m.a.createElement("h1",null,"Events"),m.a.createElement("small",null,"This only includes events involving the selected player.")),m.a.createElement("div",{className:"panel-body events-tab flex"},m.a.createElement("div",{className:"flex-sub config",style:{padding:"0 15px"}},this.renderSearchBox(),m.a.createElement("br",null),Object.keys(T).map((function(a){return e.renderEventTypeToggle(a)})),m.a.createElement("br",null),m.a.createElement("div",{className:"flex",style:{paddingLeft:5}},m.a.createElement("button",{className:"btn btn-link",onClick:function(){return e.toggleAllFiltersOff()}},"Toggle off all filters")),m.a.createElement("br",null),this.renderToggle("showFabricated","Fabricated events","These events were not originally found in the combatlog. They were created by us to fix bugs, inconsistencies, or to provide new functionality. You can recognize these events by their green background."),this.renderToggle("rawNames","Raw names"),m.a.createElement("br",null),m.a.createElement("div",{className:"modified-legend",style:{width:240,padding:10}},"Events with an orange background were ",m.a.createElement(C.a,{content:"This generally means their order was changed from the original combatlog to fix inconsistencies or bugs, but it may include other modifications."},"modified"),".")),m.a.createElement("div",{className:"flex-main",style:{background:"hsla(44, 1%, 8%, 0.5)",paddingTop:10}},m.a.createElement(d.a,{disableHeight:!0},(function(t){t.height;var n=t.width;return m.a.createElement(h.a,{headerHeight:30,height:780,rowCount:r.length,rowGetter:function(e){var a=e.index;return r[a]},rowHeight:25,rowRenderer:e.renderRow,onRowClick:e.handleRowClick,width:n},m.a.createElement(b.Column,{dataKey:"timestamp",label:"Time",cellRenderer:function(e){var t=e.cellData;return Object(v.a)((t-a.fight.start_time+a.fight.offset_time)/1e3,3)},disableSort:!0,width:30,flexGrow:1}),m.a.createElement(b.Column,{dataKey:"type",label:"Event",cellRenderer:function(a){var t=a.cellData;return m.a.createElement("div",{className:t},e.eventTypeName(t))},disableSort:!0,width:50,flexGrow:1}),m.a.createElement(b.Column,{dataKey:"sourceID",label:"Source",cellRenderer:function(a){var t=a.cellData;return e.renderEntity(e.findEntity(t))},disableSort:!0,width:50,flexGrow:1}),m.a.createElement(b.Column,{dataKey:"targetID",label:"Target",cellRenderer:function(a){var t=a.cellData;return e.renderEntity(e.findEntity(t))},disableSort:!0,width:50,flexGrow:1}),m.a.createElement(b.Column,{dataKey:"ability",label:"Ability",cellRenderer:function(a){var t=a.cellData;return e.renderAbility(t)},disableSort:!0,width:90,flexGrow:1}),m.a.createElement(b.Column,{dataKey:"effective",label:"Effective",className:"effect",cellRenderer:function(e){var a=e.rowData;if(a.type===O.b.Damage)return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:"".concat(a.type," ").concat(a.hitType===k.a.CRIT||a.hitType===k.a.BLOCKED_CRIT?"crit":"")},Object(v.f)(a.amount))," ",a.absorbed?m.a.createElement("span",{className:"absorbed"},"A: ",Object(v.f)(a.absorbed)):null," ",m.a.createElement("img",{src:"/img/sword.png",alt:"Damage",className:"icon"}));if(a.type===O.b.Heal)return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:"".concat(a.type," ").concat(a.hitType===k.a.CRIT||a.hitType===k.a.BLOCKED_CRIT?"crit":"")},Object(v.f)(a.amount))," ",a.absorbed?m.a.createElement("span",{className:"absorbed"},"A: ",Object(v.f)(a.absorbed)):null," ",m.a.createElement("img",{src:"/img/healing.png",alt:"Healing",className:"icon"}));if(a.type===O.b.Absorbed)return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:a.type},Object(v.f)(a.amount))," ",m.a.createElement("img",{src:"/img/absorbed.png",alt:"Absorbed",className:"icon"}));if(a.type===O.b.ApplyBuff&&void 0!==a.absorb)return m.a.createElement(m.a.Fragment,null,"Applied an absorb of"," ",m.a.createElement("span",{className:"absorbed"},Object(v.f)(a.absorb))," ",m.a.createElement("img",{src:"/img/absorbed.png",alt:"Absorbed",className:"icon"}));if(a.type===O.b.Energize){var t=N.a[a.resourceChangeType];if(t)return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:t.url},Object(v.f)(a.resourceChange-a.waste)," ",t.name)," ",t.icon&&m.a.createElement(E.a,{icon:t.icon,alt:t.name}))}return null},disableSort:!0,width:60,flexGrow:1}),m.a.createElement(b.Column,{dataKey:"rest",label:"Rest",className:"effect",cellRenderer:function(e){var a=e.rowData;if(a.type===O.b.Damage)return m.a.createElement("span",{className:a.type},a.blocked?m.a.createElement("span",{className:"overheal"},"B: ",Object(v.f)(a.blocked)):null);if(a.type===O.b.Heal)return m.a.createElement("span",{className:a.type},a.overheal?m.a.createElement("span",{className:"overheal"},"O: ",Object(v.f)(a.overheal)):null);if(a.type===O.b.Energize){var t=N.a[a.resourceChangeType];if(t)return m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:t.url},a.waste>0?"".concat(Object(v.f)(a.waste)," wasted"):""))}return null},disableSort:!0,width:35,flexGrow:1}))})))))}}]),t}(m.a.Component);a.default=R},766:function(e,a,t){"use strict";a.a={MISS:0,NORMAL:1,CRIT:2,ABSORB:3,BLOCKED_NORMAL:4,BLOCKED_CRIT:5,DODGE:7,PARRY:8,IMMUNE:10}}}]);
//# sourceMappingURL=EventsTab.34b77d8c.chunk.js.map
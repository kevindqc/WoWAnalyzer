(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[13],{725:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a(10),i=a(11),r=a(776),o=a(815),c=a(9),l=a(3),u=a(753),d=a(121),h=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:l.a.ENVENOM,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3},buffSpellId:l.a.ENVENOM.id},{spell:l.a.GARROTE,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(){return e.hasTalent(l.a.SUBTERFUGE_TALENT.id)&&(e.hasBuff(l.a.SUBTERFUGE_BUFF.id)||e.hasBuff(l.a.STEALTH.id)||e.hasBuff(l.a.STEALTH_BUFF.id)||e.hasBuff(l.a.VANISH_BUFF.id))?0:6},gcd:{static:1e3},buffSpellId:l.a.GARROTE.id},{spell:l.a.MUTILATE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:l.a.POISONED_KNIFE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:l.a.RUPTURE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3},buffSpellId:l.a.RUPTURE.id},{spell:l.a.BLINDSIDE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:l.a.MARKED_FOR_DEATH_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,gcd:null,castEfficiency:{suggestion:!0},enabled:e.hasTalent(l.a.MARKED_FOR_DEATH_TALENT.id)},{spell:l.a.CRIMSON_TEMPEST_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{static:1e3},buffSpellId:l.a.CRIMSON_TEMPEST_TALENT.id,enabled:e.hasTalent(l.a.CRIMSON_TEMPEST_TALENT.id)},{spell:l.a.FAN_OF_KNIVES,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{static:1e3}},{spell:l.a.VENDETTA,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,castEfficiency:{suggestion:!0},gcd:{base:1e3},buffSpellId:l.a.VENDETTA.id},{spell:l.a.VANISH,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,castEfficiency:{suggestion:!0},buffSpellId:e.hasTalent(l.a.SUBTERFUGE_TALENT.id)?l.a.SUBTERFUGE_BUFF.id:l.a.MASTER_ASSASSIN_BUFF.id},{spell:l.a.EXSANGUINATE_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:45,gcd:{static:1e3},enabled:e.hasTalent(l.a.EXSANGUINATE_TALENT.id),castEfficiency:{suggestion:!0}},{spell:l.a.CLOAK_OF_SHADOWS,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:120,gcd:null,buffSpellId:l.a.CLOAK_OF_SHADOWS.id},{spell:l.a.CRIMSON_VIAL,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:30,gcd:{base:1e3},buffSpellId:l.a.CRIMSON_VIAL.id},{spell:l.a.EVASION,category:a.SPELL_CATEGORIES.DEFENSIVE,buffSpellId:l.a.EVASION.id,cooldown:120,gcd:null},{spell:l.a.FEINT,category:a.SPELL_CATEGORIES.DEFENSIVE,buffSpellId:l.a.FEINT.id,cooldown:15,gcd:{static:1e3}},{spell:l.a.DEADLY_POISON,category:a.SPELL_CATEGORIES.OTHERS},{spell:l.a.WOUND_POISON,category:a.SPELL_CATEGORIES.OTHERS},{spell:l.a.CRIPPLING_POISON,category:a.SPELL_CATEGORIES.OTHERS},{spell:l.a.SHADOWSTEP,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:null,buffSpellId:l.a.SHADOWSTEP.id},{spell:l.a.SPRINT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:60,gcd:null,buffSpellId:l.a.SPRINT.id},{spell:l.a.TRICKS_OF_THE_TRADE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:null},{spell:l.a.BLIND,category:a.SPELL_CATEGORIES.UTILITY,cooldown:120,gcd:{static:1e3},buffSpellId:l.a.BLIND.id},{spell:l.a.CHEAP_SHOT,category:a.SPELL_CATEGORIES.UTILITY,gcd:{static:1e3},buffSpellId:l.a.CHEAP_SHOT.id},{spell:l.a.DISTRACT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{static:1e3}},{spell:l.a.KICK,category:a.SPELL_CATEGORIES.UTILITY,cooldown:15,gcd:null},{spell:l.a.KIDNEY_SHOT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:20,gcd:{static:1e3},buffSpellId:l.a.KIDNEY_SHOT.id},{spell:l.a.SHROUD_OF_CONCEALMENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:360,gcd:{base:1e3},buffSpellId:l.a.SHROUD_OF_CONCEALMENT.id},{spell:l.a.SAP,category:a.SPELL_CATEGORIES.UTILITY,buffSpellId:l.a.SAP.id},{spell:l.a.PICK_LOCK,category:a.SPELL_CATEGORIES.UTILITY},{spell:l.a.PICK_POCKET,category:a.SPELL_CATEGORIES.UTILITY},{spell:l.a.SEPSIS,category:a.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1e3},cooldown:90,enabled:e.hasCovenant(d.a.NIGHT_FAE.id)},{spell:l.a.FLAGELLATION,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1e3},enabled:e.hasCovenant(d.a.VENTHYR.id)},{spell:l.a.ECHOING_REPRIMAND,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1e3},cooldown:45,enabled:e.hasCovenant(d.a.KYRIAN.id)},{spell:l.a.SERRATED_BONE_SPIKE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1e3},cooldown:30,enabled:e.hasCovenant(d.a.NECROLORD.id)}]}}]),a}(u.a),E=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"downtimeSuggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.4,average:.45,major:.5},style:"percentage"}}}]),a}(a(780).a),f=a(26),T=a(785),g=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(T.b);g.cooldownSpells=[].concat(Object(f.a)(T.b.cooldownSpells),[{spell:l.a.VENDETTA,summary:[T.a.DAMAGE]},{spell:l.a.SUBTERFUGE_BUFF,summary:[T.a.DAMAGE]},{spell:l.a.MASTER_ASSASSIN_BUFF,summary:[T.a.DAMAGE]}]);var m=g,b=a(7),p=a(0),O=a.n(p),S=a(203),y=a(767),A=a(757),R=a(777),I=a(4),v=a(53),L=a(33),N=a(43),C=a(756),_=a(750),D=a(747),P=a(13),U=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(O.a.createElement(O.a.Fragment,null,"Your ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," uptime can be improved. Try to pay more attention to your ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," on the boss.")).icon(l.a.GARROTE.icon).actual(P.i18n._({id:"rogue.assassination.suggestions.garrote.uptime",defaults:"{0}% Garrote uptime",values:{0:Object(L.e)(t)}})).recommended(">".concat(Object(L.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return O.a.createElement(_.b,{position:D.a.CORE(11),icon:O.a.createElement(v.a,{id:l.a.GARROTE.id}),value:"".concat(Object(L.e)(this.percentUptime)," %"),label:"Garrote uptime"})}},{key:"percentUptime",get:function(){return this.enemies.getBuffUptime(l.a.GARROTE.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.percentUptime,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),a}(N.c);U.dependencies={enemies:C.a};var j=U,k=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(O.a.createElement(O.a.Fragment,null,"Your ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," uptime can be improved. Try to pay more attention to your ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," on the boss.")).icon(l.a.RUPTURE.icon).actual(P.i18n._({id:"rogue.assassination.suggestions.rupture.uptime",defaults:"{0}% Rupture uptime",values:{0:Object(L.e)(t)}})).recommended(">".concat(Object(L.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return O.a.createElement(_.b,{position:D.a.CORE(10),icon:O.a.createElement(v.a,{id:l.a.RUPTURE.id}),value:"".concat(Object(L.e)(this.percentUptime)," %"),label:"Rupture uptime"})}},{key:"percentUptime",get:function(){return this.enemies.getBuffUptime(l.a.RUPTURE.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.percentUptime,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),a}(N.c);k.dependencies={enemies:C.a};var G=k,B=a(120),F=a(66),M=a(88),w=a(881);var H=function(e,t){e(t).addSuggestion((function(e,a,n){return e(O.a.createElement(O.a.Fragment,null,"You refreshed ",O.a.createElement(I.a,{id:t.spell.id})," early ",t.count," times, resulting in ",Object(L.a)(t.wastedDuration/1e3)," seconds lost. The individual casts are highlighted on the timeline.")).icon(t.spell.icon).actual(P.i18n._({id:"shared.suggestions.dots.earlyRefreshes",defaults:"{0}% effective refresh duration",values:{0:Object(L.e)(a)}})).recommended(">".concat(Object(L.e)(n),"% is recommended"))}))},x=a(15),V=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).addEventListener(x.f.SpendResource.by(N.a),s.onSpendResource),s}return Object(c.a)(a,[{key:"suggestionThresholdsRuptureEfficiency",get:function(){return this.makeSuggestionThresholds(l.a.RUPTURE,.975,.95,.9)}},{key:"suggestionThresholdsGarroteEfficiency",get:function(){return this.makeSuggestionThresholds(l.a.GARROTE,.975,.95,.9)}}]),Object(c.a)(a,[{key:"onSpendResource",value:function(e){var t=e.resourceChange;e.resourceChangeType===M.a.COMBO_POINTS.id&&(this.getDot(l.a.RUPTURE.id).duration=1e3*(4*t+4))}},{key:"getLastBadCastText",value:function(e,t){return t.castId===l.a.RUPTURE.id?Object(B.a)(Object(F.a)(a.prototype),"getLastBadCastText",this).call(this,e,t)+" *Based on the amount of CPs spent.":Object(B.a)(Object(F.a)(a.prototype),"getLastBadCastText",this).call(this,e,t)}},{key:"suggestions",value:function(e){H(e,this.suggestionThresholdsRuptureEfficiency),H(e,this.suggestionThresholdsGarroteEfficiency)}}]),a}(w.a);V.dots=[{name:"Rupture",debuffId:l.a.RUPTURE.id,castId:l.a.RUPTURE.id,duration:2e4},{name:"Garrote",debuffId:l.a.GARROTE.id,castId:l.a.GARROTE.id,duration:18e3}];var K=V,Y=a(774),W=a(764),z=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).casts=0,e.badMutilates=0,e.active=e.selectedCombatant.hasTalent(l.a.BLINDSIDE_TALENT.id),e.addEventListener(x.f.cast.by(N.a).spell([l.a.BLINDSIDE_TALENT,l.a.MUTILATE]),e.onCast),e}return Object(c.a)(a,[{key:"efficiency",get:function(){return this.casts/this.casts+this.badMutilates||1}},{key:"suggestionThresholds",get:function(){return{actual:this.efficiency,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),Object(c.a)(a,[{key:"onCast",value:function(e){var t=e.ability.guid;if(t===l.a.BLINDSIDE_TALENT.id&&(this.casts+=1),t===l.a.MUTILATE.id){this.selectedCombatant.hasBuff(l.a.BLINDSIDE_BUFF.id,e.timestamp-100)&&this.registerBadMutilate(e,"you had a Blindside Proc");var a=this.enemies.getEntity(e);a&&a.hpPercent<.3&&this.registerBadMutilate(e,"health of your target was < ".concat(.3,"% "))}}},{key:"registerBadMutilate",value:function(e,t){this.badMutilates+=1,e.meta=e.meta||{},e.meta.isInefficientCast=!0,e.meta.inefficientCastReason="You could cast Blindside, because ".concat(t)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(O.a.createElement(O.a.Fragment,null,"Use ",O.a.createElement(I.a,{id:l.a.BLINDSIDE_TALENT.id})," instead of ",O.a.createElement(I.a,{id:l.a.MUTILATE.id})," when the target is bellow 30% HP or when you have the ",O.a.createElement(I.a,{id:l.a.BLINDSIDE_BUFF.id})," proc. ")).icon(l.a.BLINDSIDE_TALENT.icon).actual(P.i18n._({id:"rogue.assassination.suggestions.blindside.efficiency",defaults:"You used Mutilate {0} times when Blindside was available",values:{0:t.badMutilates}})).recommended("0 is recommended")}))}},{key:"statistic",value:function(){return O.a.createElement(Y.a,{talent:l.a.BLINDSIDE_TALENT.id,position:D.a.OPTIONAL(1),value:"".concat(Object(L.e)(this.efficiency)," %."),label:"Blindside efficiency",tooltip:"The efficiency is the number of Blindside casts divided by the number of Blindside casts plus the number of Mutilate casts while Blindside was available."})}}]),a}(N.c);z.dependencies={enemies:W.a};var q=z,X=a(919),J=a(886),Q=a(918),Z=a(751),$=a(752),ee=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];if((e=t.call.apply(t,[this].concat(i))).stateByTarget={},e.talentName="",e.multiplier=1,e.bonusDamage=0,e.lostSnapshotTime=0,e.snapshotTime=0,!e.constructor.spellCastId||!e.constructor.debuffId)throw e.active=!1,new Error("Snapshot should be extended and provided with spellCastId, debuffId and spellIcon.");return e.selectedCombatant.hasTalent(l.a.NIGHTSTALKER_TALENT.id)?(e.talentName="Nightstalker",e.multiplier=1.5):e.selectedCombatant.hasTalent(l.a.SUBTERFUGE_TALENT.id)?(e.talentName="Subterfuge",e.multiplier=1.8):e.active=!1,e.addEventListener(x.f.cast.by(N.a),e.onCast),e.addEventListener(x.f.prefiltercd.by(N.a),e.onCast),e.addEventListener(x.f.damage.by(N.a),e.onDamage),e.addEventListener(x.f.removedebuff.by(N.a),e.onRemoveDebuff),e.addEventListener(x.f.applydebuff.by(N.a),e.onApplyDebuff),e.addEventListener(x.f.refreshdebuff.by(N.a),e.onRefreshDebuff),e.addEventListener(x.f.fightend,e.onFightend),e}return Object(c.a)(a,[{key:"lostSnapshotTimePercent",get:function(){return this.lostSnapshotTime/this.snapshotTime||0}},{key:"suggestionThresholds",get:function(){return{actual:this.lostSnapshotTimePercent,isGreaterThan:{minor:.05,average:.1,major:.2},style:"percentage"}}}]),Object(c.a)(a,[{key:"onFightend",value:function(){}},{key:"onCast",value:function(e){this.constructor.spellCastId===e.ability.guid&&(this.lastDoTCastEvent=e)}},{key:"onDamage",value:function(e){if(this.constructor.debuffId===e.ability.guid&&(e.amount||0)+(e.absorbed||0)!==0){var t=this.stateByTarget[Object(W.b)(e.targetID,e.targetInstance)];!t||e.timestamp>t.expireTime+200||t.buffed&&(this.bonusDamage+=Object($.a)(e,this.multiplier-1))}}},{key:"onRemoveDebuff",value:function(e){if(this.constructor.debuffId===e.ability.guid){var t=Object(W.b)(e.targetID,e.targetInstance),a=this.stateByTarget[t];a.expireTime=e.timestamp,a.buffed&&(this.snapshotTime+=a.expireTime-a.startTime)}}},{key:"onApplyDebuff",value:function(e){this.constructor.debuffId===e.ability.guid&&this.dotApplied(e)}},{key:"onRefreshDebuff",value:function(e){this.constructor.debuffId===e.ability.guid&&this.dotApplied(e)}},{key:"dotApplied",value:function(e){var t=Object(W.b)(e.targetID,e.targetInstance),a=this.stateByTarget[t],n=this.makeNewState(e,a);this.stateByTarget[t]=n,this.checkRefreshRule(n)}},{key:"makeNewState",value:function(e,t){var a=t?t.expireTime-e.timestamp:0,n=e.timestamp+this.durationOfFresh;a>0&&(n+=Math.min(.3*this.durationOfFresh,a));var s=this.selectedCombatant,i={expireTime:n,pandemicTime:n-.3*this.durationOfFresh,buffed:s.hasBuff(l.a.STEALTH.id,null,60)||s.hasBuff(l.a.SUBTERFUGE_BUFF.id,null,60)||s.hasBuff(l.a.STEALTH_BUFF.id,null,60)||s.hasBuff(l.a.VANISH_BUFF.id,null,60),startTime:e.timestamp,castEvent:this.lastDoTCastEvent,prev:t};return!i.castEvent||i.castEvent.timestamp,i}},{key:"checkRefreshRule",value:function(e){var t=e.prev,a=e.castEvent;if(e.buffed&&(a.meta=a.meta||{},a.meta.isEnhancedCast=!0,a.meta.enhancedCastReason="This cast snapshotted "+this.talentName),t&&!(t.expireTime<e.startTime)&&(t.buffed&&(this.snapshotTime+=e.startTime-t.startTime),t.buffed&&!e.buffed)){var n=t.expireTime-e.startTime;this.lostSnapshotTime+=n,this.snapshotTime+=n,n>500&&(a.meta=a.meta||{},a.meta.isInefficientCast=!0,a.meta.inefficientCastReason="You lost ".concat((n/1e3).toFixed(1)," seconds of a snapshotted DoT by refreshing early without a buff."))}}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(O.a.createElement(O.a.Fragment,null,"You overwrote your snapshotted ",O.a.createElement(I.a,{id:t.constructor.spellCastId}),". Try to always let a snapshotted ",O.a.createElement(I.a,{id:t.constructor.spellCastId})," expire before applying a non buffed one.")).icon(t.constructor.spellIcon).actual(P.i18n._({id:"rogue.assassination.suggestions.snapshot.timeLost",defaults:"{0}% snapshot time lost",values:{0:Object(L.e)(a)}})).recommended("<".concat(Object(L.e)(n),"% is recommended"))}))}}]),a}(N.c);ee.spellCastId=null,ee.debuffId=null,ee.spellIcon=null;var te=ee,ae=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"durationOfFresh",get:function(){return 18e3}}]),a}(te);ae.spellCastId=l.a.GARROTE.id,ae.debuffId=l.a.GARROTE.id,ae.spellIcon=l.a.GARROTE.icon;var ne=ae,se=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).stealthSequences=[],e.latestStealth=null,e.usedStealthOnPull=!1,e.addEventListener(x.f.cast.by(N.a),e.evaluateCast),e}return Object(c.a)(a,[{key:"evaluateCast",value:function(e){(this.selectedCombatant.hasBuff(l.a.STEALTH_BUFF.id,null,50)||this.selectedCombatant.hasBuff(l.a.STEALTH.id,null,50))&&(this.usedStealthOnPull=!0),this.selectedCombatant.hasBuff(l.a.STEALTH_BUFF.id)||this.selectedCombatant.hasBuff(l.a.STEALTH.id)||this.selectedCombatant.hasBuff(l.a.VANISH_BUFF.id)||this.selectedCombatant.hasBuff(l.a.SUBTERFUGE_BUFF.id)||this.selectedCombatant.hasBuff(l.a.MASTER_ASSASSIN_BUFF.id)?(this.latestStealth||(this.latestStealth=[],this.stealthSequences.push(this.latestStealth)),this.latestStealth.push(e)):this.latestStealth&&(this.latestStealth=null)}}]),a}(N.c),ie=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).active=e.selectedCombatant.hasTalent(l.a.SUBTERFUGE_TALENT.id),e}return Object(c.a)(a,[{key:"bonusDamage",get:function(){return this.garroteSnapshot.bonusDamage}},{key:"stealthsWithAtleastOneGarrote",get:function(){var e=0;return this.stealthSequences.forEach((function(t){t.find((function(e){return e.ability.guid===l.a.GARROTE.id}))&&(e+=1)})),e}},{key:"stealthCasts",get:function(){return this.stealthSequences.length}},{key:"percentGoodStealthCasts",get:function(){return this.stealthsWithAtleastOneGarrote/this.stealthCasts||0}},{key:"suggestionThresholds",get:function(){return{actual:this.percentGoodStealthCasts,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),Object(c.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(O.a.createElement(O.a.Fragment,null,"Your failed to cast atleast one ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," during ",O.a.createElement(I.a,{id:l.a.SUBTERFUGE_BUFF.id})," ",t.stealthCasts-t.stealthsWithAtleastOneGarrote," time(s). Make sure to prioritize snapshotting ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," during ",O.a.createElement(I.a,{id:l.a.SUBTERFUGE_BUFF.id}),".")).icon(l.a.GARROTE.icon).actual(P.i18n._({id:"rogue.assassinations.suggestions.subterfuge.efficiency",defaults:"{0}% of Subterfuges with atleast one Garrote cast",values:{0:Object(L.e)(a)}})).recommended(">".concat(Object(L.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return O.a.createElement(Y.a,{talent:l.a.SUBTERFUGE_TALENT.id,position:D.a.OPTIONAL(2),value:O.a.createElement(Z.a,{amount:this.bonusDamage}),tooltip:"You casted atleast one Garrote during Subterfuge ".concat(this.stealthsWithAtleastOneGarrote," times out of ").concat(this.stealthCasts,".")})}}]),a}(se);ie.dependencies={garroteSnapshot:ne};var re=ie,oe=a(770),ce=a(762),le=a(763),ue=a(771),de=a(772),he=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,s=function(e){return O.a.createElement(de.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return O.a.createElement(oe.a,null,O.a.createElement(ce.c,{name:"Maintain your DoTs on the boss",description:"DoTs are a big part of your damage. You should try to keep as high uptime on them as possible, but do not refresh them too early"},O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.GARROTE.id})," uptime"),thresholds:n.garroteUptime}),O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.RUPTURE.id})," uptime"),thresholds:n.ruptureUptime}),O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.GARROTE.id})," effective refresh duration"),thresholds:n.garroteEfficiency}),O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.RUPTURE.id})," effective refresh duration"),thresholds:n.ruptureEfficiency})),O.a.createElement(ce.c,{name:"Do not overcap your resources",description:"You should try to always avoid overcapping your Energy and Combo Points."},O.a.createElement(le.a,{name:"Energy generator efficiency",thresholds:n.energyEfficiency}),O.a.createElement(le.a,{name:"Combo Point efficiency",thresholds:n.comboPointEfficiency}),O.a.createElement(le.a,{name:"Energy regeneration efficiency",thresholds:n.energyCapEfficiency}),t.hasTalent(l.a.BLINDSIDE_TALENT.id)&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.BLINDSIDE_TALENT.id})," efficiency"),thresholds:n.blindsideEfficiency})),O.a.createElement(ce.c,{name:"Use your cooldowns",description:"Your cooldowns are a major contributor to your DPS, and should be used as frequently as possible throughout a fight. A cooldown should be held on to only if a priority DPS phase is coming soon. Holding cooldowns too long will hurt your DPS."},O.a.createElement(s,{spell:l.a.VENDETTA.id}),t.hasTalent(l.a.EXSANGUINATE_TALENT.id)&&O.a.createElement(s,{spell:l.a.EXSANGUINATE_TALENT.id}),t.hasTalent(l.a.MARKED_FOR_DEATH_TALENT.id)&&O.a.createElement(s,{spell:l.a.MARKED_FOR_DEATH_TALENT.id})),O.a.createElement(ce.c,{name:"Maximize Vanish usage",description:"Your level 30 talent turns Vanish into a powerful DPS cooldown, significantly buffing the next 1-3 casts. Making sure to cast the correct abilities during this short window is important to maximizing your DPS. Check Suggestions for more details."},O.a.createElement(s,{spell:l.a.VANISH.id}),t.hasTalent(l.a.SUBTERFUGE_TALENT.id)&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.SUBTERFUGE_BUFF.id}),"s with atleast one ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," cast"),thresholds:n.subterfugeEfficiency}),t.hasTalent(l.a.MASTER_ASSASSIN_TALENT.id)&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,"Good casts during ",O.a.createElement(I.a,{id:l.a.MASTER_ASSASSIN_TALENT.id})),thresholds:n.masterAssassinEfficiency}),t.hasTalent(l.a.NIGHTSTALKER_TALENT.id)&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,O.a.createElement(I.a,{id:l.a.VANISH.id}),"es spent on snapshotting ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})),thresholds:n.nightstalkerEfficiency}),t.hasTalent(l.a.NIGHTSTALKER_TALENT.id)&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,"On pull opener spent on snapshotting ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," or ",O.a.createElement(I.a,{id:l.a.GARROTE.id})),thresholds:n.nightstalkerOpenerEfficiency}),t.hasTalent(l.a.NIGHTSTALKER_TALENT.id)&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,"Lost snapshotted ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," due to early refreshes"),thresholds:n.garroteSnapshotEfficiency}),(t.hasTalent(l.a.SUBTERFUGE_TALENT.id)||t.hasTalent(l.a.NIGHTSTALKER_TALENT.id))&&O.a.createElement(le.a,{name:O.a.createElement(O.a.Fragment,null,"Lost snapshotted ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," due to early refreshes"),thresholds:n.garroteSnapshotEfficiency})),O.a.createElement(ue.a,{thresholds:n}))},Ee=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];(e=t.call.apply(t,[this].concat(i))).comboPointsOnLastCast=0;var o=e.selectedCombatant;return o.hasTalent(l.a.SUBTERFUGE_TALENT.id)&&(e.active=!1),e.addEventListener(x.f.SpendResource.by(N.a).spell(l.a.RUPTURE),e.onSpendResource),e}return Object(c.a)(a,[{key:"durationOfFresh",get:function(){return 4e3+4e3*this.comboPointsOnLastCast}}]),Object(c.a)(a,[{key:"onSpendResource",value:function(e){e.resourceChangeType===M.a.COMBO_POINTS.id&&(this.comboPointsOnLastCast=e.resourceChange)}}]),a}(te);Ee.spellCastId=l.a.RUPTURE.id,Ee.debuffId=l.a.RUPTURE.id,Ee.spellIcon=l.a.RUPTURE.icon;var fe=Ee,Te=a(119),ge=[l.a.MELEE,l.a.BLINDSIDE_TALENT,l.a.CRIMSON_TEMPEST_TALENT,l.a.ENVENOM,l.a.FAN_OF_KNIVES,l.a.GARROTE,l.a.MUTILATE,l.a.MUTILATE_MAINHAND,l.a.MUTILATE_OFFHAND,l.a.POISON_BOMB,l.a.POISONED_KNIFE,l.a.RUPTURE,l.a.DOUBLE_DOSE,l.a.INTERNAL_BLEEDING_TALENT,l.a.DEADLY_POISON_DOT,l.a.DEADLY_POISON_PROC,l.a.WOUND_POISON],me=[l.a.DEADLY_POISON_DOT,l.a.DEADLY_POISON_PROC,l.a.WOUND_POISON],be=[l.a.MELEE,l.a.RUPTURE,l.a.GARROTE,l.a.CRIMSON_TEMPEST_TALENT,l.a.DEADLY_POISON_DOT],pe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];if((e=t.call.apply(t,[this].concat(i))).bonusDamage=0,e.active=e.selectedCombatant.hasTalent(l.a.NIGHTSTALKER_TALENT.id),!e.active)return Object(Te.a)(e);var o=ge.filter((function(e){return!be.includes(e)}));return e.addEventListener(x.f.damage.by(N.a).spell(o),e.addBonusDamageIfBuffed),e}return Object(c.a)(a,[{key:"bonusDamageTotal",get:function(){return this.bonusDamage+this.garroteSnapshot.bonusDamage+this.ruptureSnapshot.bonusDamage}},{key:"vanishCastsSpentOnRupture",get:function(){var e=this,t=0;return this.stealthSequences.forEach((function(a){e.usedStealthOnPull&&a===e.stealthSequences[0]||a.find((function(e){return e.ability.guid===l.a.RUPTURE.id}))&&(t+=1)})),t}},{key:"goodOpenerCasts",get:function(){if(!this.usedStealthOnPull||!this.stealthSequences.length)return!1;var e=this.stealthSequences[0].find((function(e){return e.ability.guid===l.a.RUPTURE.id})),t=this.stealthSequences[0].find((function(e){return e.ability.guid===l.a.GARROTE.id}));return!(!e&&!t)}},{key:"vanishCasts",get:function(){return this.stealthSequences.length-(this.usedStealthOnPull?1:0)}},{key:"percentGoodVanishCasts",get:function(){return this.vanishCastsSpentOnRupture/this.vanishCasts||0}},{key:"suggestionThresholds",get:function(){return{actual:this.percentGoodVanishCasts,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}},{key:"suggestionThresholdsOpener",get:function(){return{actual:this.goodOpenerCasts,isEqual:!1,style:"boolean"}}}]),Object(c.a)(a,[{key:"addBonusDamageIfBuffed",value:function(e){(this.selectedCombatant.hasBuff(l.a.STEALTH.id)||this.selectedCombatant.hasBuff(l.a.STEALTH_BUFF.id)||this.selectedCombatant.hasBuff(l.a.VANISH_BUFF.id))&&(this.bonusDamage+=Object($.a)(e,.5))}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(O.a.createElement(O.a.Fragment,null,"Your failed to cast ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," after ",O.a.createElement(I.a,{id:l.a.VANISH.id})," ",t.vanishCasts-t.vanishCastsSpentOnRupture," time(s). Make sure to prioritize spending your Vanish on snapshotting ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," when using ",O.a.createElement(I.a,{id:l.a.NIGHTSTALKER_TALENT.id}),".")).icon(l.a.GARROTE.icon).actual(P.i18n._({id:"rogue.assassination.suggestions.nightstalker.snapshots",defaults:"{0}% of Vanishes used to snapshot Rupture",values:{0:Object(L.e)(a)}})).recommended(">".concat(Object(L.e)(n),"% is recommended"))})),e(this.suggestionThresholdsOpener).isFalse().addSuggestion((function(e,t,a){return e(O.a.createElement(O.a.Fragment,null,"You failed to snapshot a ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," or ",O.a.createElement(I.a,{id:l.a.GARROTE.id})," on pull from stealth. Make sure your first cast when using ",O.a.createElement(I.a,{id:l.a.NIGHTSTALKER_TALENT.id})," is a ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," or ",O.a.createElement(I.a,{id:l.a.GARROTE.id}),".")).icon(l.a.NIGHTSTALKER_TALENT.icon)}))}},{key:"statistic",value:function(){return O.a.createElement(Y.a,{talent:l.a.NIGHTSTALKER_TALENT.id,position:D.a.OPTIONAL(2),value:O.a.createElement(Z.a,{amount:this.bonusDamageTotal})})}}]),a}(se);pe.dependencies={garroteSnapshot:ne,ruptureSnapshot:fe};var Oe=pe,Se=a(122),ye=[l.a.MUTILATE.id,l.a.ENVENOM.id,l.a.FAN_OF_KNIVES.id],Ae=[].concat(ye,[l.a.GARROTE.id,l.a.RUPTURE.id]),Re=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).bonusDamage=0,e.active=e.selectedCombatant.hasTalent(l.a.MASTER_ASSASSIN_TALENT.id),e.active?(e.addEventListener(x.f.damage.by(N.a).spell(ge),e.addBonusDamageIfBuffed),e):Object(Te.a)(e)}return Object(c.a)(a,[{key:"goodStealthCasts",get:function(){var e=this,t=0;return this.stealthSequences.forEach((function(a){var n=a===e.stealthSequences[0]||e.usedStealthOnPull&&a===e.stealthSequences[1]?Ae:ye,s=0;a.forEach((function(e){n.includes(e.ability.guid)&&(s+=1)})),t+=Math.min(s,3)})),t}},{key:"stealthCasts",get:function(){return this.stealthSequences.length}},{key:"percentGoodCasts",get:function(){return this.goodStealthCasts/(3*this.stealthCasts)||0}},{key:"suggestionThresholds",get:function(){return{actual:this.percentGoodCasts,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),Object(c.a)(a,[{key:"addBonusDamageIfBuffed",value:function(e){if(this.selectedCombatant.hasBuff(l.a.MASTER_ASSASSIN_BUFF.id)){var t=this.statTracker.currentCritPercentage,a=Math.min(.5,1-t),n=a/(1+a+t);this.bonusDamage+=Object($.a)(e,n)}}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(O.a.createElement(O.a.Fragment,null,"You failed to take full advantage of ",O.a.createElement(I.a,{id:l.a.MASTER_ASSASSIN_TALENT.id}),". Make sure to prioritize spending the buff on ",O.a.createElement(I.a,{id:l.a.MUTILATE.id})," or ",O.a.createElement(I.a,{id:l.a.ENVENOM.id})," (",O.a.createElement(I.a,{id:l.a.FAN_OF_KNIVES.id})," is acceptable for AOE). During your opener ",O.a.createElement(I.a,{id:l.a.GARROTE.id}),", ",O.a.createElement(I.a,{id:l.a.RUPTURE.id})," and ",O.a.createElement(I.a,{id:l.a.TOXIC_BLADE_TALENT.id})," is also okay.")).icon(l.a.MASTER_ASSASSIN_TALENT.icon).actual(P.i18n._({id:"rogue.assassination.suggestions.masterAssassin.efficiency",defaults:"{0}% good casts during Master Assassin",values:{0:Object(L.e)(t)}})).recommended(">".concat(Object(L.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return O.a.createElement(Y.a,{talent:l.a.MASTER_ASSASSIN_TALENT.id,position:D.a.OPTIONAL(2),value:O.a.createElement(Z.a,{amount:this.bonusDamage})})}}]),a}(se);Re.dependencies={statTracker:Se.a};var Ie=Re,ve=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return O.a.createElement(he,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(b.a)(Object(b.a)({},this.preparationRuleAnalyzer.thresholds),{},{garroteUptime:this.garroteUptime.suggestionThresholds,ruptureUptime:this.ruptureUptime.suggestionThresholds,garroteEfficiency:this.earlyDotRefresh.suggestionThresholdsGarroteEfficiency,ruptureEfficiency:this.earlyDotRefresh.suggestionThresholdsRuptureEfficiency,blindsideEfficiency:this.blindside.suggestionThresholds,energyEfficiency:this.energyDetails.suggestionThresholds,energyCapEfficiency:this.energyCapTracker.suggestionThresholds,comboPointEfficiency:this.comboPointDetails.suggestionThresholds,subterfugeEfficiency:this.subterfuge.suggestionThresholds,nightstalkerEfficiency:this.nightstalker.suggestionThresholds,nightstalkerOpenerEfficiency:this.nightstalker.suggestionThresholdsOpener,masterAssassinEfficiency:this.masterAssassin.suggestionThresholds,ruptureSnapshotEfficiency:this.ruptureSnapshot.suggestionThresholds,garroteSnapshotEfficiency:this.garroteSnapshot.suggestionThresholds})})}}]),a}(S.a);ve.dependencies={combatants:A.a,castEfficiency:y.a,preparationRuleAnalyzer:R.a,garroteUptime:j,ruptureUptime:G,earlyDotRefresh:K,blindside:q,energyDetails:X.a,energyCapTracker:J.a,comboPointDetails:Q.a,subterfuge:re,nightstalker:Oe,masterAssassin:Ie,garroteSnapshot:ne,ruptureSnapshot:fe};var Le=ve,Ne=a(937),Ce=a(768),_e=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"normalize",value:function(e){var t=[],a=0;return e.forEach((function(e,n){if(t.push(e),e.type===x.b.ApplyDebuff&&e.ability.guid===l.a.GARROTE.id)for(var s=n-a;s>=0;s-=1){var i=t[s];if(e.timestamp>i.timestamp)break;if(i.type===x.b.RemoveDebuff&&i.ability.guid===l.a.GARROTE.id){e.type=x.b.RefreshDebuff,e.__modified=!0,t.splice(s,1),a+=1;break}}})),t}}]),a}(Ce.a),De=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"normalize",value:function(e){var t=[];return e.forEach((function(e,a){if(t.push(e),e.type===x.b.Cast&&e.ability.guid===l.a.GARROTE.id)for(var n=e.timestamp,s=a;s>=0;s-=1){var i=t[s];if(n-i.timestamp>100)break;if(i.type===x.b.Energize&&i.ability.guid===l.a.GARROTE.id){e.timestamp=i.timestamp,t.splice(a,1),t.splice(s,0,e),e.__modified=!0;break}}})),t}}]),a}(Ce.a),Pe=a(863),Ue=a(836),je=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).comboPointTracker=void 0,e}return Object(c.a)(a,[{key:"makeExtraSuggestion",value:function(e){return O.a.createElement(O.a.Fragment,null,"Avoid wasting combo points when casting ",O.a.createElement(I.a,{id:e}),". Combo points for Seal Fate are not considered."," ")}},{key:"suggestions",value:function(e){Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.MARKED_FOR_DEATH_TALENT,minor:0,avg:.05,major:.1,extraSuggestion:this.makeExtraSuggestion(l.a.MARKED_FOR_DEATH_TALENT.id)}),Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.MUTILATE,minor:0,avg:.05,major:.1,extraSuggestion:this.makeExtraSuggestion(l.a.MUTILATE.id)}),Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.GARROTE,minor:0,avg:.1,major:.2,extraSuggestion:this.makeExtraSuggestion(l.a.GARROTE.id)}),Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.FAN_OF_KNIVES,minor:0,avg:.05,major:.1,extraSuggestion:this.makeExtraSuggestion(l.a.FAN_OF_KNIVES.id)}),Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.BLINDSIDE_TALENT,minor:0,avg:.05,major:.1,extraSuggestion:this.makeExtraSuggestion(l.a.BLINDSIDE_TALENT.id)}),Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.POISONED_KNIFE,minor:0,avg:.05,major:.1,extraSuggestion:this.makeExtraSuggestion(l.a.POISONED_KNIFE.id)}),Object(Ue.a)(e,this.comboPointTracker,{spell:l.a.CHEAP_SHOT,minor:0,avg:.1,major:.2,extraSuggestion:this.makeExtraSuggestion(l.a.CHEAP_SHOT.id)})}}]),a}(N.c);je.dependencies={comboPointTracker:Pe.a};var ke=je,Ge=a(873),Be=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).energyTracker=void 0,e}return Object(c.a)(a,[{key:"suggestions",value:function(e){Object(Ue.a)(e,this.energyTracker,{spell:l.a.URGE_TO_KILL,minor:.05,avg:.1,major:.15,extraSuggestion:O.a.createElement(O.a.Fragment,null,"Try to spend energy before using ",O.a.createElement(I.a,{id:l.a.VENDETTA.id})," ")})}}]),a}(N.c);Be.dependencies={energyTracker:Ge.a};var Fe=Be,Me=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).addEventListener(x.f.damage,s.onDamage),s}return Object(c.a)(a,[{key:"onDamage",value:function(e){if(!e.targetIsFriendly){var t=this.enemies.getEntity(e);t&&e.hitPoints&&e.maxHitPoints&&0!==e.maxHitPoints&&(t.hpPercent=e.hitPoints/e.maxHitPoints)}}}]),a}(N.c);Me.dependencies={enemies:W.a};var we=Me,He=a(936),xe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"statistic",value:function(){return O.a.createElement(_.b,{position:D.a.CORE(12),icon:O.a.createElement(v.a,{id:l.a.ENVENOM.id}),value:"".concat(Object(L.e)(this.percentUptime),"%"),label:"Envenom uptime"})}},{key:"percentUptime",get:function(){return this.selectedCombatant.getBuffUptime(l.a.ENVENOM.id)/this.owner.fightDuration}}]),a}(N.c),Ve=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];(e=t.call.apply(t,[this].concat(i))).comboPointsOnLastCast=0;var o=e.selectedCombatant;return!o.hasTalent(l.a.SUBTERFUGE_TALENT.id)&&o.hasTalent(l.a.CRIMSON_TEMPEST_TALENT.id)||(e.active=!1),e.addEventListener(x.f.SpendResource.by(N.a).spell(l.a.CRIMSON_TEMPEST_TALENT),e.onSpendResource),e}return Object(c.a)(a,[{key:"durationOfFresh",get:function(){return 2e3+2e3*this.comboPointsOnLastCast}}]),Object(c.a)(a,[{key:"onSpendResource",value:function(e){e.resourceChangeType===M.a.COMBO_POINTS.id&&(this.comboPointsOnLastCast=e.resourceChange)}}]),a}(te);Ve.spellCastId=l.a.CRIMSON_TEMPEST_TALENT.id,Ve.debuffId=l.a.CRIMSON_TEMPEST_TALENT.id,Ve.spellIcon=l.a.CRIMSON_TEMPEST_TALENT.icon;var Ke=Ve,Ye=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).bonusDmg=0,e.active=e.selectedCombatant.hasTalent(l.a.ELABORATE_PLANNING_TALENT.id),e.active?(e.addEventListener(x.f.damage.by(N.a).spell(ge),e.addBonusDamageIfBuffed),e):Object(Te.a)(e)}return Object(c.a)(a,[{key:"percentUptime",get:function(){return this.selectedCombatant.getBuffUptime(l.a.ELABORATE_PLANNING_BUFF.id)/this.owner.fightDuration}}]),Object(c.a)(a,[{key:"addBonusDamageIfBuffed",value:function(e){(this.selectedCombatant.hasBuff(l.a.ELABORATE_PLANNING_BUFF.id)||this.selectedCombatant.hasBuff(l.a.VANISH_BUFF.id))&&(this.bonusDmg+=Object($.a)(e,.1))}},{key:"statistic",value:function(){return O.a.createElement(Y.a,{talent:l.a.ELABORATE_PLANNING_TALENT.id,position:D.a.OPTIONAL(1),value:O.a.createElement(Z.a,{amount:this.bonusDmg}),tooltip:"".concat(Object(L.e)(this.percentUptime)," % uptime.")})}}]),a}(N.c),We=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).bonusDmg=0,e.active=e.selectedCombatant.hasTalent(l.a.MASTER_POISONER_TALENT.id),e.active?(e.addEventListener(x.f.damage.by(N.a).spell(me),e.addBonusDamage),e):Object(Te.a)(e)}return Object(c.a)(a,[{key:"addBonusDamage",value:function(e){this.bonusDmg+=Object($.a)(e,.3)}},{key:"statistic",value:function(){return O.a.createElement(Y.a,{talent:l.a.MASTER_POISONER_TALENT.id,position:D.a.OPTIONAL(1),value:O.a.createElement(Z.a,{amount:this.bonusDmg})})}}]),a}(N.c),ze=a(982),qe=a(983),Xe=a(984),Je=a(985),Qe=a(746),Ze=a(58),$e=a(748),et=a(786),tt=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).critCount=0,s.comboPointsGained=0,s.comboPointsWasted=0,s.abilities=void 0,s.active=s.selectedCombatant.hasLegendaryByBonusID(l.a.DASHING_SCOUNDREL.bonusID),s.addEventListener(x.f.energize.by(N.a).spell(l.a.DASHING_SCOUNDREL),s.onEnergize),s}return Object(c.a)(a,[{key:"onEnergize",value:function(e){this.critCount+=1,this.comboPointsGained+=e.resourceChange,this.comboPointsWasted+=e.waste}},{key:"statistic",value:function(){return O.a.createElement(Qe.a,{category:Ze.a.ITEMS,tooltip:O.a.createElement(O.a.Fragment,null,"Dashing Scoundrel was responsible for ",this.critCount," critical hits resulting in"," ",this.comboPointsGained+this.comboPointsWasted," bonus ComboPoints being earned.")},O.a.createElement($e.a,{spell:l.a.DASHING_SCOUNDREL},O.a.createElement(et.a,{id:M.a.COMBO_POINTS.id,noLink:!0})," ",this.comboPointsGained,"/",this.comboPointsWasted+this.comboPointsGained," ",O.a.createElement("small",null," extra Combo Points gained.")))}}]),a}(N.c);tt.dependencies={abilities:u.a};var at=tt,nt=a(754),st=a(1030),it=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).effectiveVendettaReductionMs=0,s.wastedVendettaReductionMs=0,s.lastEnergyCost=0,s.spellUsable=void 0,s.active=s.selectedCombatant.hasLegendaryByBonusID(l.a.DUSKWALERS_PATCH.bonusID),s.addEventListener(x.f.cast.by(N.a),s.onCast),s}return Object(c.a)(a,[{key:"onCast",value:function(e){var t,a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===M.a.FOCUS.id}));if(a){this.lastEnergyCost=a.cost||0;var n=st.b*(a.cost||0),s=n-this.spellUsable.cooldownRemaining(l.a.EXHILERATION.id);s<n&&(this.wastedVendettaReductionMs+=n-s),this.effectiveVendettaReductionMs+=this.spellUsable.reduceCooldown(l.a.EXHILERATION.id,n)}}},{key:"statistic",value:function(){return O.a.createElement(Qe.a,{position:D.a.OPTIONAL(14),size:"flexible",category:Ze.a.ITEMS},O.a.createElement($e.a,{spell:l.a.DUSKWALKERS_PATCH},Object(L.d)(this.effectiveVendettaReductionMs/1e3),"s/",Object(L.d)((this.wastedVendettaReductionMs+this.effectiveVendettaReductionMs)/1e3),"s ",O.a.createElement("small",null," cooldown reduction")))}}]),a}(N.c);it.dependencies={spellUsable:nt.b};var rt=it,ot=a(986),ct=a(987),lt=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);lt.specModules={garroteNormalizer:_e,garroteOpenerNormalizer:De,enemyHpTracker:we,abilities:h,alwaysBeCasting:E,cooldownThroughputTracker:m,checklist:Le,spellUsable:Ne.a,comboPointTracker:Pe.a,comboPointDetails:Q.a,comboPoints:ke,energyTracker:Ge.a,energyCapTracker:J.a,energyDetails:X.a,energy:Fe,spellEnergyCost:He.a,envenomUptime:xe,garroteUptime:j,ruptureUptime:G,earlyDotRefresh:K,garroteSnapshot:ne,ruptureSnapshot:fe,crimsonTempestSnapshot:Ke,blindside:q,elaboratePlanning:Ye,masterPoisoner:We,nightstalker:Oe,subterfuge:re,masterAssassin:Ie,serratedBoneSpike:ze.a,echoingReprimand:qe.a,flagellation:Je.a,sepsis:Xe.a,dashingScoundrel:at,duskwalkersPatch:rt,essenceOfBloodfang:ot.a,invigoratingShadowdust:ct.a,arcaneTorrent:[o.a,{gcd:1e3}]};t.default=lt},752:function(e,t,a){"use strict";function n(e,t){var a=(e.amount||0)+(e.absorbed||0);return a-a/(1+t)}a.d(t,"a",(function(){return n}))},774:function(e,t,a){"use strict";var n=a(27),s=a(0),i=a.n(s),r=a(4),o=a(53),c=a(58),l=a(750),u=(a(747),function(e){var t=e.talent,a=e.icon,s=e.label,c=Object(n.a)(e,["talent","icon","label"]);return i.a.createElement(l.b,Object.assign({},c,{icon:a||i.a.createElement(o.a,{id:t}),label:s||i.a.createElement(r.a,{id:t,icon:!1})}))});u.defaultProps={category:c.a.TALENTS},t.a=u},881:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(10),r=a(11),o=a(43),c=a(756),l=a(755),u=a(764),d=a(33),h=a(15),E=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).targets={},e.lastGCD=null,e.lastCast=null,e.lastCastGoodExtension=!1,e.lastCastMinWaste=Number.MAX_SAFE_INTEGER,e.lastCastMaxEffect=0,e.casts={},e.constructor.dots.forEach((function(t){e.targets[t.debuffId]={},e.casts[t.castId]={badCasts:0,addedDuration:0,wastedDuration:0}})),e.addEventListener(h.f.refreshdebuff.by(o.a),e.onRefreshDebuff),e.addEventListener(h.f.applydebuff.by(o.a),e.onApplyDebuff),e.addEventListener(h.f.GlobalCooldown.by(o.a),e.onGCD),e.addEventListener(h.f.cast.by(o.a),e.onCast),e}return Object(s.a)(a,[{key:"addBadCast",value:function(e,t){this.casts[this.lastCast.ability.guid].badCasts+=1,this.casts[this.lastCast.ability.guid].wastedDuration+=this.lastCastMinWaste,e.meta=e.meta||{},e.meta.isInefficientCast=!0,e.meta.inefficientCastReason=t}},{key:"onRefreshDebuff",value:function(e){var t=this.getDot(e.ability.guid);if(t){var a=Object(u.b)(e.targetID,e.targetInstance),n=this.extendDot(t.debuffId,a,t.duration,e.timestamp);this.lastCastGoodExtension||(this.lastCastGoodExtension=0===n.wasted,this.lastCastMinWaste=Math.min(this.lastCastMinWaste,n.wasted),this.lastCastMaxEffect=Math.max(this.lastCastMaxEffect,n.effective))}}},{key:"onApplyDebuff",value:function(e){var t=this.getDot(e.ability.guid);t&&(this.targets[t.debuffId][Object(u.b)(e.targetID,e.targetInstance)]=e.timestamp+t.duration,this.lastCastGoodExtension=!0,this.lastCastMinWaste=0,this.lastCastMaxEffect=t.duration)}},{key:"onGCD",value:function(e){this.getDotByCast(e.ability.guid)&&(this.lastGCD=e)}},{key:"onCast",value:function(e){this.checkLastCast(e),this.getDotByCast(e.ability.guid)&&(this.lastCast=e,this.lastCastGoodExtension=!1,this.lastCastMinWaste=Number.MAX_SAFE_INTEGER,this.lastCastMaxEffect=0,this.afterLastCastSet(e))}},{key:"afterLastCastSet",value:function(e){}},{key:"checkLastCast",value:function(e){this.lastGCD&&this.lastCast&&(e.timestamp-this.lastGCD.timestamp<this.lastCastBuffer||(this.casts[this.lastCast.ability.guid].addedDuration+=this.lastCastMaxEffect,this.isLastCastBad(e),this.lastGCD=null,this.lastCast=null))}},{key:"isLastCastBad",value:function(e){if(!this.lastCastGoodExtension){var t=this.getDotByCast(this.lastCast.ability.guid),a=this.getLastBadCastText(e,t);""!==a&&this.addBadCast(this.lastCast,a)}}},{key:"getLastBadCastText",value:function(e,t){return"".concat(t.name," was refreshed ").concat(Object(d.a)(this.lastCastMinWaste/1e3)," seconds before the pandemic window. It should be refreshed with at most ").concat(Object(d.a)(.3*t.duration/1e3)," left or part of the dot will be wasted.")}},{key:"getDot",value:function(e){return this.constructor.dots.find((function(t){return t.debuffId===e}))}},{key:"getDotByCast",value:function(e){return this.constructor.dots.find((function(t){return t.castId===e}))}},{key:"extendDot",value:function(e,t,a,n){var s=this.getDot(e);if(!s)throw new Error("The spellID ".concat(e," is not in the list of dots to track"));var i=(this.targets[s.debuffId][t]-n||0)+a,r=1.3*s.duration,o=i-r;return o<=0?(this.targets[s.debuffId][t]=n+i,{wasted:0,effective:a}):(this.targets[s.debuffId][t]=n+r,{wasted:o,effective:a-o})}},{key:"badCastsPercent",value:function(e){var t=this.abilityTracker.getAbility(e);return this.casts[e].badCasts/t.casts||0}},{key:"badCastsEffectivePercent",value:function(e){return this.casts[e].addedDuration?this.casts[e].addedDuration/(this.casts[e].addedDuration+this.casts[e].wastedDuration):1}},{key:"makeSuggestionThresholds",value:function(e,t,a,n){return{spell:e,count:this.casts[e.id].badCasts,wastedDuration:this.casts[e.id].wastedDuration,actual:this.badCastsEffectivePercent(e.id),isLessThan:{minor:t,average:a,major:n},style:"percentage"}}},{key:"lastCastBuffer",get:function(){return 2*this.lastGCD.duration-100}}]),a}(o.c);E.dependencies={enemies:c.a,abilityTracker:l.a},E.dots=[],t.a=E}}]);
//# sourceMappingURL=AssassinationRogue.02c489e2.chunk.js.map
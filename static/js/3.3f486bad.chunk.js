(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[3],{748:function(e,t,n){"use strict";var a=n(0),i=n.n(a),s=n(53),r=n(4);t.a=function(e){var t=e.spell,n=e.children,a=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(a||"")},i.a.createElement("label",null,i.a.createElement(s.a,{id:t.id})," ",i.a.createElement(r.a,{id:t.id,icon:!1})),i.a.createElement("div",{className:"value"},n))}},773:function(e,t,n){"use strict";var a=n(8),i=n(9),s=n(10),r=n(11),o=n(43),c=n(123),l=n(15),u=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).eventEmitter=void 0,i.current=0,i.resourceUpdates=[],i.buildersObj={},i.spendersObj={},i.resource=void 0,i.maxResource=void 0,i.addEventListener(l.f.energize.to(o.a),i.onEnergize),i.addEventListener(l.f.cast.by(o.a),i.onCast),i}return Object(i.a)(n,[{key:"initBuilderAbility",value:function(e){this.buildersObj[e]={generated:0,wasted:0,casts:0}}},{key:"initSpenderAbility",value:function(e){this.spendersObj[e]={spent:0,spentByCast:[],casts:0}}},{key:"onEnergize",value:function(e){var t=e.ability.guid;if(e.resourceChangeType===this.resource.id){var n=e.waste,a=e.resourceChange-n;this._applyBuilder(t,a,n,this.getResource(e),e.timestamp)}}},{key:"processInvisibleEnergize",value:function(e,t){var n=void 0!==this.maxResource?this.maxResource-this.current:t,a=Math.min(t,n),i=Math.max(t-n,0);this._applyBuilder(e,a,i)}},{key:"_applyBuilder",value:function(e,t,n,a,i){this.buildersObj[e]||this.initBuilderAbility(e),this.buildersObj[e].wasted+=n,this.buildersObj[e].generated+=t,this.buildersObj[e].casts+=1,null!==a&&void 0!==a&&void 0!==a.amount?(this.current=a.amount,void 0!==a.max&&(this.maxResource=a.max)):this.current+=t,this.resourceUpdates.push({timestamp:i,current:this.current,waste:n,generated:t,used:0})}},{key:"onCast",value:function(e){var t=e.ability.guid;if(this.shouldProcessCastEvent(e)){var n=this.getResource(e);if(n){n.max&&(this.maxResource=n.max);var a=this.getReducedCost(e);this.spendersObj[t]||this.initSpenderAbility(t),a&&0!==a&&(this.spendersObj[t].casts+=1,this.spendersObj[t].spentByCast.push(a),a>0&&(this.spendersObj[t].spent+=a),this.current=n.amount-a,this.resourceUpdates.push({timestamp:e.timestamp,current:this.current,waste:0,generated:0,used:n.amount}),this.triggerSpendEvent(a,e))}}}},{key:"getReducedCost",value:function(e){var t;return e.resourceCost&&void 0!==e.resourceCost[this.resource.id]?e.resourceCost[this.resource.id]:null===(t=this.getResource(e))||void 0===t?void 0:t.cost}},{key:"getResource",value:function(e){var t=this;return e.classResources?e.classResources.find((function(e){return e.type===t.resource.id})):void 0}},{key:"triggerSpendEvent",value:function(e,t){var n={type:l.b.SpendResource,timestamp:t.timestamp,sourceID:t.sourceID,targetID:t.targetID,resourceChange:e,resourceChangeType:this.resource.id,ability:t.ability,__fabricated:!0};this.eventEmitter.fabricateEvent(n,t)}},{key:"shouldProcessCastEvent",value:function(e){return Boolean(this.getResource(e))}},{key:"getGeneratedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].generated||0}},{key:"getWastedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].wasted||0}},{key:"getBuilderCastsBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].casts||0}},{key:"generated",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.generated}),0)}},{key:"wasted",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.wasted}),0)}},{key:"spent",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.spent}),0)}},{key:"spendersCasts",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.casts}),0)}}]),n}(o.c);u.dependencies={eventEmitter:c.a},t.a=u},781:function(e,t,n){"use strict";var a=n(8),i=n(9),s=n(10),r=n(11),o=n(0),c=n.n(o),l=n(4),u=n(33),h=n(22),d=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"prepareGenerated",value:function(e){return Object.keys(e).map((function(t){return{abilityId:Number(t),generated:e[Number(t)].generated,wasted:e[Number(t)].wasted}})).sort((function(e,t){return t.generated-e.generated})).filter((function(e){return e.generated>0||e.wasted}))}},{key:"prepareSpent",value:function(e){return Object.keys(e).map((function(t){return{abilityId:Number(t),spent:e[Number(t)].spent,casts:e[Number(t)].casts}})).sort((function(e,t){return t.spent-e.spent})).filter((function(e){return e.spent>0}))}},{key:"render",value:function(){var e=this.props,t=e.tracker,n=e.showSpenders,a=t.resource.name,i=this.prepareGenerated(t.buildersObj),s=this.prepareSpent(t.spendersObj),r=t.generated,o=t.wasted,d=t.spent,m=t.spendersCasts;return r=0===r?1:r,o=0===o?1:o,d=0===d?1:d,m=0===m?1:m,c.a.createElement(c.a.Fragment,null,c.a.createElement("table",{className:"data-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Ability"),c.a.createElement("th",{colSpan:2},a," generated"),c.a.createElement("th",{colSpan:2},c.a.createElement(h.a,{content:"This is the amount of resources that were generated while you were already at cap."},a," wasted")))),c.a.createElement("tbody",null,i&&i.map((function(e){return c.a.createElement("tr",{key:e.abilityId},c.a.createElement("td",{style:{width:"30%"}},c.a.createElement(l.a,{id:e.abilityId})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(h.a,{content:"".concat(Object(u.e)(e.generated/r)," %")},e.generated.toFixed(0))),c.a.createElement("td",{style:{width:"40%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.generated/r*100,"%")}})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(h.a,{content:"".concat(Object(u.e)(e.wasted/o)," %")},e.wasted.toFixed(0))),c.a.createElement("td",{style:{width:"30%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.wasted/o*100,"%")}})))})))),n&&c.a.createElement("table",{className:"data-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Ability"),c.a.createElement("th",{colSpan:2},a," spent"),c.a.createElement("th",{colSpan:2},"Casts"))),c.a.createElement("tbody",null,s&&s.map((function(e){return c.a.createElement("tr",{key:e.abilityId},c.a.createElement("td",{style:{width:"30%"}},c.a.createElement(l.a,{id:e.abilityId})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(h.a,{content:"".concat(Object(u.e)(e.spent/d)," %")},e.spent.toFixed(0))),c.a.createElement("td",{style:{width:"40%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.spent/d*100,"%")}})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(h.a,{content:"".concat(Object(u.e)(e.casts/m)," %")},e.casts)),c.a.createElement("td",{style:{width:"30%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.casts/m*100,"%")}})))})))))}}]),n}(c.a.Component);t.a=d},786:function(e,t,n){"use strict";var a=n(27),i=n(0),s=n.n(i),r=n(88),o=n(796),c=n(28);t.a=function(e){var t=e.id,n=e.noLink,i=Object(a.a)(e,["id","noLink"]);var l=r.a[t]||{name:"Spell not recognized",icon:"inv_misc_questionmark"},u=s.a.createElement(c.a,Object.assign({icon:l.icon,alt:l.name},i));return n?u:s.a.createElement(o.a,{id:t,icon:!1},u)}},796:function(e,t,n){"use strict";var a=n(31),i=n(27),s=n(0),r=n.n(s),o=n(81),c=n(88),l=n(786);t.a=function(e){var t=e.icon,n=void 0===t||t,u=Object(i.a)(e,["icon"]),h=Object(s.useState)(null),d=Object(a.a)(h,2),m=d[0],f=d[1];Object(s.useEffect)((function(){o.a.refresh(m)}));var p=u.id,g=u.children,b=u.category,y=void 0===b?void 0:b,v=Object(i.a)(u,["id","children","category"]);return r.a.createElement("a",Object.assign({href:o.a.resource(p),target:"_blank",rel:"noopener noreferrer",className:y,ref:function(e){f(e)}},v),n&&r.a.createElement(l.a,{id:p,noLink:!0})," ",g||c.a[p].name)}},798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=l(n(0)),o=l(n(37)),c=l(n(395));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},d=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function m(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;for(var i={},s=Object.keys(e),r=0;r<s.length;r++){var o=s[r];-1===n.indexOf(o)&&(i[o]=e[o])}return i}function f(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function g(e){return"string"===typeof e&&e.search("%")===e.length-1&&p(e.substr(0,e.length-1))}function b(e,t){e&&"function"===typeof e&&e(t)}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.animationFrameIDs=[];var a="auto",s="visible";p(e.height)?(a=e.height<0||"0"===e.height?0:e.height,s="hidden"):g(e.height)&&(a="0%"===e.height?0:e.height,s="hidden"),n.animationStateClasses=i({},h,e.animationStateClasses);var r=n.getStaticStateClasses(a);return n.state={animationStateClasses:r,height:a,overflow:s,shouldUseTransitions:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=this.props,i=a.delay,s=a.duration,r=a.height,o=a.onAnimationEnd,l=a.onAnimationStart;if(this.contentElement&&r!==e.height){var h;this.showContent(t.height),this.contentElement.style.overflow="hidden";var d=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var m=s+i,y=null,v={height:null,overflow:"hidden"},E="auto"===t.height;p(r)?(y=r<0||"0"===r?0:r,v.height=y):g(r)?(y="0%"===r?0:r,v.height=y):(y=d,v.height="auto",v.overflow=null),E&&(v.height=y,y=d);var w=(0,c.default)((u(h={},this.animationStateClasses.animating,!0),u(h,this.animationStateClasses.animatingUp,"auto"===e.height||r<e.height),u(h,this.animationStateClasses.animatingDown,"auto"===r||r>e.height),u(h,this.animationStateClasses.animatingToHeightZero,0===v.height),u(h,this.animationStateClasses.animatingToHeightAuto,"auto"===v.height),u(h,this.animationStateClasses.animatingToHeightSpecific,v.height>0),h)),O=this.getStaticStateClasses(v.height);this.setState({animationStateClasses:w,height:y,overflow:"hidden",shouldUseTransitions:!E}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),E?(v.shouldUseTransitions=!0,f(this.animationFrameIDs),this.animationFrameIDs=function(e){var t=[];return t[0]=requestAnimationFrame((function(){t[1]=requestAnimationFrame((function(){e()}))})),t}((function(){n.setState(v),b(l,{newHeight:v.height})})),this.animationClassesTimeoutID=setTimeout((function(){n.setState({animationStateClasses:O,shouldUseTransitions:!1}),n.hideContent(v.height),b(o,{newHeight:v.height})}),m)):(b(l,{newHeight:y}),this.timeoutID=setTimeout((function(){v.animationStateClasses=O,v.shouldUseTransitions=!1,n.setState(v),"auto"!==r&&n.hideContent(y),b(o,{newHeight:y})}),m))}}},{key:"componentWillUnmount",value:function(){f(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,c.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.animateOpacity,s=n.applyInlineTransitions,o=n.children,l=n.className,h=n.contentClassName,f=n.delay,p=n.duration,g=n.easing,b=n.id,y=n.style,v=this.state,E=v.height,w=v.overflow,O=v.animationStateClasses,j=v.shouldUseTransitions,S=i({},y,{height:E,overflow:w||y.overflow});j&&s&&(S.transition="height "+p+"ms "+g+" "+f+"ms",y.transition&&(S.transition=y.transition+", "+S.transition),S.WebkitTransition=S.transition);var C={};a&&(C.transition="opacity "+p+"ms "+g+" "+f+"ms",C.WebkitTransition=C.transition,0===E&&(C.opacity=0));var k=(0,c.default)((u(e={},O,!0),u(e,l,l),e)),T="undefined"!==typeof this.props["aria-hidden"]?this.props["aria-hidden"]:0===E;return r.default.createElement("div",i({},m.apply(void 0,[this.props].concat(d)),{"aria-hidden":T,className:k,id:b,style:S}),r.default.createElement("div",{className:h,style:C,ref:function(e){return t.contentElement=e}},o))}}]),t}(r.default.Component);y.propTypes={"aria-hidden":o.default.bool,animateOpacity:o.default.bool,animationStateClasses:o.default.object,applyInlineTransitions:o.default.bool,children:o.default.any.isRequired,className:o.default.string,contentClassName:o.default.string,delay:o.default.number,duration:o.default.number,easing:o.default.string,height:function(e,t,n){var i=e[t];return"number"===typeof i&&i>=0||g(i)||"auto"===i?null:new TypeError('value "'+i+'" of type "'+("undefined"===typeof i?"undefined":a(i))+'" is invalid type for '+t+" in "+n+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:o.default.string,onAnimationEnd:o.default.func,onAnimationStart:o.default.func,style:o.default.object},y.defaultProps={animateOpacity:!1,animationStateClasses:h,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=y},808:function(e,t,n){"use strict";var a=n(0),i=n.n(a),s=n(786);n(868);t.a=function(e){var t=e.resource,n=e.value,a=e.label,r=e.extra,o=e.className;return i.a.createElement("div",{className:"flex boring-value ".concat(o||"")},i.a.createElement("div",{className:"flex-sub icon"},i.a.createElement(s.a,{id:t.id})),i.a.createElement("div",{className:"flex-main value"},i.a.createElement("div",null,n),i.a.createElement("small",null,a),r))}},868:function(e,t,n){}}]);
//# sourceMappingURL=3.3f486bad.chunk.js.map
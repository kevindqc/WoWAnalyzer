(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[37],{716:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),s=a(11),r=a(776),c=a(815),l=a(7),o=a(9),u=a(120),d=a(66),h=a(3),m=a(754),E=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).lastPotentialTriggerForRapidFireReset=null,e.rapidFireResets=0,e}return Object(o.a)(a,[{key:"onCast",value:function(e){var t=e.ability.guid;this.selectedCombatant.hasLegendaryByBonusID(h.a.SURGING_SHOTS_EFFECT.bonusID)&&(t===h.a.AIMED_SHOT.id?this.lastPotentialTriggerForRapidFireReset=e:t===h.a.RAPID_FIRE.id&&(this.lastPotentialTriggerForRapidFireReset=null)),Object(u.a)(Object(d.a)(a.prototype),"onCast",this).call(this,e)}},{key:"beginCooldown",value:function(e,t){e===h.a.RAPID_FIRE.id&&this.selectedCombatant.hasLegendaryByBonusID(h.a.SURGING_SHOTS_EFFECT.bonusID)&&this.isOnCooldown(e)&&(this.rapidFireResets+=1,this.endCooldown(e,void 0,this.lastPotentialTriggerForRapidFireReset?this.lastPotentialTriggerForRapidFireReset.timestamp:void 0)),Object(u.a)(Object(d.a)(a.prototype),"beginCooldown",this).call(this,e,t)}}]),a}(m.b);E.dependencies=Object(l.a)({},m.b.dependencies);var f=E,T=a(753),p=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:h.a.AIMED_SHOT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(e){return 12/(1+e)},charges:2,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.95}},{spell:h.a.RAPID_FIRE,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:20,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.95}},{spell:h.a.ARCANE_SHOT,buffSpellId:h.a.PRECISE_SHOTS.id,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:!e.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT.id),gcd:{base:1500}},{spell:h.a.STEADY_SHOT,buffSpellId:h.a.STEADY_FOCUS_BUFF.id,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:h.a.MULTISHOT_MM,buffSpellId:h.a.PRECISE_SHOTS.id,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:h.a.TRUESHOT,buffSpellId:h.a.TRUESHOT.id,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,gcd:{static:0},castEfficiency:{suggestion:!0,recommendedEfficiency:.95}},{spell:h.a.EXHILARATION,category:a.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0,cooldown:120,gcd:{base:1500}},{spell:h.a.ASPECT_OF_THE_TURTLE,buffSpellId:h.a.ASPECT_OF_THE_TURTLE.id,category:a.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0,cooldown:180*(1-(e.hasTalent(h.a.BORN_TO_BE_WILD_TALENT.id)?.2:0)),gcd:{static:0}},{spell:[h.a.SURVIVAL_OF_THE_FITTEST_LONE_WOLF,h.a.SURVIVAL_OF_THE_FITTEST],category:a.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0,cooldown:180,gcd:{static:0}},{spell:h.a.DISENGAGE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:20,gcd:{static:0}},{spell:h.a.BURSTING_SHOT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:24,gcd:{base:1500}},{spell:h.a.CONCUSSIVE_SHOT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:5,gcd:{base:1500}},{spell:h.a.COUNTER_SHOT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:24,gcd:{static:0}},{spell:h.a.MISDIRECTION,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{static:0}},{spell:h.a.ASPECT_OF_THE_CHEETAH,category:a.SPELL_CATEGORIES.UTILITY,cooldown:180*(1-(e.hasTalent(h.a.BORN_TO_BE_WILD_TALENT.id)?.2:0)),gcd:{static:0}},{spell:h.a.FREEZING_TRAP,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500}},{spell:h.a.TAR_TRAP,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500}},{spell:h.a.FLARE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:20,gcd:{base:1500}},{spell:h.a.HUNTERS_MARK,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1e3}},{spell:h.a.CHIMAERA_SHOT_MM_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:e.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT.id),gcd:{base:1500}},{spell:h.a.EXPLOSIVE_SHOT_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,gcd:{base:1500},buffSpellId:h.a.EXPLOSIVE_SHOT_TALENT.id,enabled:e.hasTalent(h.a.EXPLOSIVE_SHOT_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.95}},{spell:h.a.SERPENT_STING_TALENT,buffSpellId:h.a.SERPENT_STING_TALENT.id,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:e.hasTalent(h.a.SERPENT_STING_TALENT.id),gcd:{base:1500}},{spell:h.a.DOUBLE_TAP_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,enabled:e.hasTalent(h.a.DOUBLE_TAP_TALENT.id),gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.8}},{spell:h.a.BARRAGE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:20,enabled:e.hasTalent(h.a.BARRAGE_TALENT.id),gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:h.a.VOLLEY_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:45,enabled:e.hasTalent(h.a.VOLLEY_TALENT.id),gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:h.a.CAMOUFLAGE_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:60,enabled:e.hasTalent(h.a.CAMOUFLAGE_TALENT.id),gcd:{base:1500}},{spell:[h.a.PRIMAL_RAGE_1,h.a.PRIMAL_RAGE_2],buffSpellId:[h.a.PRIMAL_RAGE_1.id,h.a.PRIMAL_RAGE_2.id],category:a.SPELL_CATEGORIES.UTILITY,cooldown:360,gcd:{static:0}},{spell:h.a.MASTERS_CALL,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,gcd:{static:0}},{spell:h.a.INTIMIDATION,category:a.SPELL_CATEGORIES.UTILITY,cooldown:60,gcd:{base:1500}},{spell:[h.a.CALL_PET_1,h.a.CALL_PET_2,h.a.CALL_PET_3,h.a.CALL_PET_4,h.a.CALL_PET_5],category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:h.a.DISMISS_PET,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:h.a.MEND_PET,category:a.SPELL_CATEGORIES.UTILITY,cooldown:10,gcd:{base:1500}}]}}]),a}(T.a),g=a(814),b=a(15),O=a(43),v=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).addEventListener(b.f.removebuff.by(O.a).spell(h.a.BARRAGE_TALENT),i.onRemoveBuff),i}return Object(o.a)(a,[{key:"onCast",value:function(e){e.ability.guid!==h.a.BARRAGE_TALENT.id?Object(u.a)(Object(d.a)(a.prototype),"onCast",this).call(this,e):this.beginChannel(e)}},{key:"cancelChannel",value:function(e,t){this.isChannelingSpell(h.a.BARRAGE_TALENT.id)||this.isChannelingSpell(h.a.RAPID_FIRE.id)?this.endChannel(e):Object(u.a)(Object(d.a)(a.prototype),"cancelChannel",this).call(this,e,t)}},{key:"onRemoveBuff",value:function(e){this.isChannelingSpell(h.a.BARRAGE_TALENT.id)&&this.endChannel(e)}}]),a}(g.a),A=a(26),S=a(785),_=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(S.b);_.cooldownSpells=[].concat(Object(A.a)(S.b.cooldownSpells),[{spell:h.a.TRUESHOT,summary:[S.a.DAMAGE]}]),_.ignoredSpells=[].concat(Object(A.a)(S.b.ignoredSpells),[h.a.BINDING_SHOT_TETHER.id,h.a.BINDING_SHOT_ROOT.id]);var R=_,y=a(0),C=a.n(y),L=a(780),I=a(164),N=a(33),F=a(4),D=a(13),k=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(C.a.createElement(C.a.Fragment,null,"Your downtime can be improved. Try to Always Be Casting (ABC), this means you should try to reduce the delay between casting spells. If you have to move, try casting something like ",C.a.createElement(F.a,{id:h.a.STEADY_SHOT.id}),", since it's castable while moving and doesn't cost any focus. Spells like ",C.a.createElement(F.a,{id:h.a.RAPID_FIRE.id})," and ",C.a.createElement(F.a,{id:h.a.ARCANE_SHOT.id})," are also castable whilst moving and good for single target - for multiple targets ",C.a.createElement(F.a,{id:h.a.MULTISHOT_MM.id})," might take their place. ")).icon("spell_mage_altertime").actual(D.i18n._({id:"hunter.marksmanship.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(N.e)(1-t)}})).recommended("<".concat(Object(N.e)(1-a),"% is recommended"))}))}},{key:"suggestionThresholds",get:function(){return{actual:this.activeTimePercentage,isLessThan:{minor:.95,average:.9,major:.875},style:I.a.PERCENTAGE}}}]),a}(L.a),P=a(869),j=a(750),w=a(746),M=a(761),H=a(211),U=a(833),B=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).IGNORED_ABILITIES=Object(A.a)(U.a),i}return Object(o.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(C.a.createElement(C.a.Fragment,null,"You cancelled ",Object(N.e)(t.cancelledPercentage),"% of your spells. While it is expected that you will have to cancel a few casts to react to a boss mechanic or to move, you should try to ensure that you are cancelling as few casts as possible. This is generally done by planning ahead in terms of positioning, and moving while you're casting instant cast spells.")).icon("inv_misc_map_01").actual(D.i18n._({id:"hunter.marksmanship.suggestions.castsCanceled.efficiency",defaults:"{0}% casts cancelled",values:{0:Object(N.e)(1-a)}})).recommended("<".concat(Object(N.e)(1-n),"% is recommended"))}))}},{key:"statistic",value:function(){var e=Object.values(this.cancelledSpellList).map((function(e){return C.a.createElement("li",{key:e.spellName},e.spellName,": ",e.amount)}));return C.a.createElement(w.a,{position:j.a.CORE(14),size:"flexible",tooltip:C.a.createElement(C.a.Fragment,null,"You started casting a total of ",this.totalCasts," spells with a cast timer. You cancelled ",this.castsCancelled," of those casts.",C.a.createElement("ul",null,e))},C.a.createElement(M.a,{label:"Cancelled Casts"},C.a.createElement(H.a,null)," ",Object(N.e)(this.cancelledPercentage),"% ",C.a.createElement("small",null,"casts cancelled")))}},{key:"suggestionThresholds",get:function(){return{actual:1-this.cancelledPercentage,isLessThan:{minor:.975,average:.95,major:.9},style:I.a.PERCENTAGE}}}]),a}(P.a),x=a(810),G=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"buffs",value:function(){return[{spellId:h.a.TRUESHOT.id,timelineHighlight:!0,triggeredBySpellId:h.a.TRUESHOT.id},{spellId:h.a.PRECISE_SHOTS.id,timelineHighlight:!0,triggeredBySpellId:h.a.AIMED_SHOT.id},{spellId:h.a.LOCK_AND_LOAD_BUFF.id,timelineHighlight:!0,triggeredBySpellId:h.a.LOCK_AND_LOAD_TALENT.id},{spellId:h.a.ASPECT_OF_THE_TURTLE.id,timelineHighlight:!0,triggeredBySpellId:h.a.ASPECT_OF_THE_TURTLE.id},{spellId:Object.keys(x.a).map((function(e){return Number(e)})),timelineHighlight:!0}]}}]),a}(a(797).a),W=a(203),Y=a(767),z=a(757),K=a(777),V=a(871),q=a(882),X=a(747),Z=a(58),J=a(748),Q=a(126),$=a(792),ee=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).active=i.selectedCombatant.hasTalent(h.a.STEADY_FOCUS_TALENT.id),i}return Object(o.a)(a,[{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.STEADY_FOCUS_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(Q.a,null)," ",Object(N.e)(this.avgHaste),"% ",C.a.createElement("small",null,"average Haste gained"))))}},{key:"suggestions",value:function(e){e(this.uptimeThresholds).addSuggestion((function(e,t,a){return e(C.a.createElement(C.a.Fragment,null,"Your uptime on the buff from ",C.a.createElement(F.a,{id:h.a.STEADY_FOCUS_TALENT.id})," could be better. When using this talent you should always try and couple your ",C.a.createElement(F.a,{id:h.a.STEADY_SHOT.id})," together to maintain this buff.")).icon(h.a.STEADY_FOCUS_TALENT.icon).actual(D.i18n._({id:"hunter.marksmanship.suggestions.steadyFocus.uptime",defaults:"{0}% uptime",values:{0:Object(N.e)(t)}})).recommended(">".concat(Object(N.e)(a),"% is recommended"))}))}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(h.a.STEADY_FOCUS_BUFF.id)/this.owner.fightDuration}},{key:"avgHaste",get:function(){return this.uptime*$.C}},{key:"uptimeThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:.95,average:.9,major:.85},style:I.a.PERCENTAGE}}}]),a}(O.c),te=a(759),ae=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).procChances=0,i.lastDamageEvent=0,i.badCasts=0,i.shotInFlight=null,i.spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(h.a.LETHAL_SHOTS_TALENT.id),i.addEventListener(b.f.cast.by(O.a).spell([h.a.ARCANE_SHOT,h.a.MULTISHOT_MM,h.a.CHIMAERA_SHOT_MM_TALENT]),i.castChecker),i.addEventListener(b.f.damage.by(O.a).spell([h.a.ARCANE_SHOT,h.a.MULTISHOT_MM,h.a.CHIMAERA_SHOT_MM_NATURE_DAMAGE,h.a.CHIMAERA_SHOT_MM_FROST_DAMAGE]),i.onPotentialProc),i}return Object(o.a)(a,[{key:"castChecker",value:function(e){this.shotInFlight=e.timestamp}},{key:"onPotentialProc",value:function(e){this.shotInFlight&&(this.shotInFlight>e.timestamp+$.c&&(this.shotInFlight=null),e.timestamp<this.lastDamageEvent+te.s||(this.procChances+=1,this.spellUsable.isOnCooldown(h.a.RAPID_FIRE.id)||(this.badCasts+=1)))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.LETHAL_SHOTS_TALENT},C.a.createElement(C.a.Fragment,null,"\u2248",(Math.round(this.procChances*$.k)*($.l/1e3)).toFixed(1),"s ",C.a.createElement("small",null," potential Rapid Fire CDR"))))}},{key:"suggestions",value:function(e){var t=this;e(this.wastedPotentialCDR).addSuggestion((function(e,a,n){return e(C.a.createElement(C.a.Fragment,null,"You cast ",t.selectedCombatant.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT)?C.a.createElement(F.a,{id:h.a.CHIMAERA_SHOT_MM_TALENT.id}):C.a.createElement(F.a,{id:h.a.ARCANE_SHOT.id})," or ",C.a.createElement(F.a,{id:h.a.MULTISHOT_MM.id})," whilst ",C.a.createElement(F.a,{id:h.a.RAPID_FIRE.id})," wasn't on cooldown. You want to try and avoid this when using ",C.a.createElement(F.a,{id:h.a.LETHAL_SHOTS_TALENT.id}),", as it is wasting potential cooldown reduction.")).icon(h.a.LETHAL_SHOTS_TALENT.icon).actual(D.i18n._({id:"hunter.marksmanship.suggestions.lethalShots.efficiency",defaults:"{actual} Lethal Shot trigger casts while Rapid Fire wasn't on cooldown",values:{actual:a}})).recommended("".concat(n," bad casts are recommended"))}))}},{key:"wastedPotentialCDR",get:function(){return{actual:this.badCasts,isGreaterThan:{minor:0,average:3,major:6},style:I.a.DECIMAL}}}]),a}(O.c);ae.dependencies={spellUsable:m.b};var ne=ae,ie=a(751),se=a(756),re=a(764),ce=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).serpentStingTargets=[],i.damage=0,i.timesRefreshed=0,i.nonPandemicRefresh=0,i.casts=0,i.enemies=void 0,i.active=i.selectedCombatant.hasTalent(h.a.SERPENT_STING_TALENT.id),i.addEventListener(b.f.cast.by(O.a).spell(h.a.SERPENT_STING_TALENT),i.onCast),i.addEventListener(b.f.damage.by(O.a).spell(h.a.SERPENT_STING_TALENT),i.onDamage),i.addEventListener(b.f.applydebuff.by(O.a).spell(h.a.SERPENT_STING_TALENT),i.onApplyDebuff),i.addEventListener(b.f.removedebuff.by(O.a).spell(h.a.SERPENT_STING_TALENT),i.onRemoveDebuff),i.addEventListener(b.f.refreshdebuff.by(O.a).spell(h.a.SERPENT_STING_TALENT),i.onRefreshDebuff),i}return Object(o.a)(a,[{key:"onCast",value:function(){this.casts+=1}},{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"onApplyDebuff",value:function(e){var t=e.targetInstance;void 0===t&&(t=1);var a=Object(re.b)(e.targetID,t);this.serpentStingTargets[a]={timestamp:e.timestamp,serpentStingDuration:$.y}}},{key:"onRemoveDebuff",value:function(e){var t=e.targetInstance;void 0===t&&(t=1);var a=Object(re.b)(e.targetID,t);this.serpentStingTargets.splice(a,1)}},{key:"onRefreshDebuff",value:function(e){var t=e.targetInstance;void 0===t&&(t=1);var a=Object(re.b)(e.targetID,t);this.timesRefreshed+=1;var n=this.serpentStingTargets[a].serpentStingDuration-(e.timestamp-this.serpentStingTargets[a].timestamp);if(n>$.y*$.z)this.nonPandemicRefresh+=1;else{var i=Math.min($.y*$.z,n)+$.y;this.serpentStingTargets[a].timestamp=e.timestamp,this.serpentStingTargets[a].serpentStingDuration=i}}},{key:"suggestions",value:function(e){e(this.nonPandemicThreshold).addSuggestion((function(e,t,a){return e(C.a.createElement(C.a.Fragment,null,"It is not recommended to refresh ",C.a.createElement(F.a,{id:h.a.SERPENT_STING_TALENT.id})," earlier than when there is less than ",Object(N.e)($.z,0),"% of the duration remaining.")).icon(h.a.SERPENT_STING_TALENT.icon).actual(D.i18n._({id:"hunter.marksmanship.suggestions.serpentSting.refreshOutsidePandemic",defaults:"You refreshed Serpent Sting {actual} times when it wasn't in the pandemic window",values:{actual:t}})).recommended("".concat(a," non-pandemic refreshes is recommended"))})),e(this.uptimeThreshold).addSuggestion((function(e,t,a){return e(C.a.createElement(C.a.Fragment,null,"You should make sure to keep up ",C.a.createElement(F.a,{id:h.a.SERPENT_STING_TALENT.id})," by using it within the pandemic windows to maximize it's damage potential.")).icon(h.a.SERPENT_STING_TALENT.icon).actual(D.i18n._({id:"hunter.marksmanship.suggestions.serpentSting.uptime",defaults:"You had an uptime of {0}%",values:{0:Object(N.e)(t,0)}})).recommended("An uptime of >".concat(Object(N.e)(a,0),"% is recommended"))}))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS,tooltip:C.a.createElement(C.a.Fragment,null,C.a.createElement("ul",null,C.a.createElement("li",null,"You cast Serpent Sting a total of ",this.casts," times."),C.a.createElement("li",null,"You refreshed the debuff ",this.timesRefreshed," times."),C.a.createElement("li",null,"You had ",this.nonPandemicRefresh," refreshes outside of the pandemic window. This means refreshes with more than ",Object(N.e)($.z,0),"% of the current debuff remaining.")))},C.a.createElement(J.a,{spell:h.a.SERPENT_STING_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}),C.a.createElement("br",null),Object(N.e)(this.uptimePercentage),"% ",C.a.createElement("small",null,"uptime"))))}},{key:"uptimePercentage",get:function(){return this.enemies.getBuffUptime(h.a.SERPENT_STING_TALENT.id)/this.owner.fightDuration}},{key:"nonPandemicThreshold",get:function(){return{actual:this.nonPandemicRefresh,isGreaterThan:{minor:1,average:3,major:5},style:I.a.NUMBER}}},{key:"uptimeThreshold",get:function(){return{actual:this.uptimePercentage,isLessThan:{minor:.95,average:.9,major:.85},style:I.a.PERCENTAGE}}}]),a}(O.c);ce.dependencies={enemies:se.a};var le=ce,oe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).effectiveTrueshotReductionMs=0,i.wastedTrueshotReductionMs=0,i.reductionTimestamp=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(h.a.CALLING_THE_SHOTS_TALENT.id),i.addEventListener(b.f.damage.by(O.a).spell([h.a.ARCANE_SHOT,h.a.MULTISHOT_MM,h.a.CHIMAERA_SHOT_MM_NATURE_DAMAGE,h.a.CHIMAERA_SHOT_MM_FROST_DAMAGE]),i.onCTSPotentialProc),i}return Object(o.a)(a,[{key:"onCTSPotentialProc",value:function(e){if(e.timestamp>this.reductionTimestamp+te.s)if(this.spellUsable.isOnCooldown(h.a.TRUESHOT.id))if(this.spellUsable.cooldownRemaining(h.a.TRUESHOT.id)<$.g){var t=this.spellUsable.reduceCooldown(h.a.TRUESHOT.id,$.g);this.effectiveTrueshotReductionMs+=t,this.wastedTrueshotReductionMs+=$.g-t}else this.effectiveTrueshotReductionMs+=this.spellUsable.reduceCooldown(h.a.TRUESHOT.id,$.g);else this.wastedTrueshotReductionMs+=$.g;this.reductionTimestamp=e.timestamp}},{key:"suggestions",value:function(e){var t=this;e(this.callingTheShotsEfficacyThresholds).addSuggestion((function(e,a,n){return e(C.a.createElement(C.a.Fragment,null,"When talented into ",C.a.createElement(F.a,{id:h.a.CALLING_THE_SHOTS_TALENT.id}),", it is important to maximize its potential by not casting ",t.selectedCombatant.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT.id)?C.a.createElement(F.a,{id:h.a.CHIMAERA_SHOT_MM_TALENT.id}):C.a.createElement(F.a,{id:h.a.ARCANE_SHOT.id})," or ",C.a.createElement(F.a,{id:h.a.MULTISHOT_MM.id})," while ",C.a.createElement(F.a,{id:h.a.TRUESHOT.id})," isn't on cooldown.")).icon(h.a.CALLING_THE_SHOTS_TALENT.icon).actual(D.i18n._({id:"hunter.marksmanship.suggestions.callingTheShots.efficiency",defaults:"You had {0}% effective cooldown reduction from Calling the Shots",values:{0:Object(N.e)(a)}})).recommended(">".concat(Object(N.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.CALLING_THE_SHOTS_TALENT},C.a.createElement(C.a.Fragment,null,Object(N.d)(this.effectiveTrueshotReductionMs/1e3),"s / ",Object(N.d)((this.effectiveTrueshotReductionMs+this.wastedTrueshotReductionMs)/1e3),"s ",C.a.createElement("small",null,"CDR"))))}},{key:"callingTheShotsEfficacy",get:function(){return this.effectiveTrueshotReductionMs/(this.effectiveTrueshotReductionMs+this.wastedTrueshotReductionMs)}},{key:"callingTheShotsEfficacyThresholds",get:function(){return{actual:this.callingTheShotsEfficacy,isLessThan:{minor:.975,average:.95,major:.9},style:I.a.PERCENTAGE}}}]),a}(O.c);oe.dependencies={spellUsable:m.b};var ue=oe,de=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).deadEyeEffectiveCDR=0,i.deadEyePotentialCDR=0,i.averageAimedShotCD=0,i.spellUsable=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(h.a.DEAD_EYE_TALENT.id),i}return Object(o.a)(a,[{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS,tooltip:C.a.createElement(C.a.Fragment,null,Object(N.d)(this.deadEyeEffectiveCDR/1e3),"s effective Aimed Shot CDR",C.a.createElement("br",null),Object(N.d)(this.deadEyePotentialCDR/1e3),"s potential Aimed Shot CDR, this include time where Aimed Shot was not on cooldown and Dead Eye buff was active")},C.a.createElement(J.a,{spell:h.a.DEAD_EYE_TALENT},C.a.createElement(C.a.Fragment,null,Object(N.d)(this.deadEyeEffectiveCDR/1e3),"/",Object(N.d)(this.deadEyePotentialCDR/1e3),"s ",C.a.createElement("small",null," total Aimed Shot CDR"),C.a.createElement("br",null),C.a.createElement("small",null,"up to "),(this.deadEyeEffectiveCDR/this.averageAimedShotCD).toFixed(1)," ",C.a.createElement("small",null,"extra Aimed Shot casts"))))}},{key:"deadEyeEfficacy",get:function(){return this.deadEyeEffectiveCDR/this.deadEyePotentialCDR}},{key:"deadEyeEfficacyThresholds",get:function(){return{actual:this.deadEyeEfficacy,isLessThan:{minor:.8,average:.7,major:.6},style:I.a.PERCENTAGE}}}]),a}(O.c);de.dependencies={spellUsable:m.b,abilities:T.a};var he=de,me=a(752),Ee=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.buffsActive=0,i.buffsSpent=0,i.minOverwrittenProcs=0,i.maxOverwrittenProcs=0,i.buffedShotInFlight=null,i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.PRECISE_SHOTS),i.onPreciseShotsApplication),i.addEventListener(b.f.removebuff.by(O.a).spell(h.a.PRECISE_SHOTS),i.onPreciseShotsRemoval),i.addEventListener(b.f.removebuffstack.by(O.a).spell(h.a.PRECISE_SHOTS),i.onPreciseShotsStackRemoval),i.addEventListener(b.f.applybuffstack.by(O.a).spell(h.a.PRECISE_SHOTS),i.onPreciseShotsStackApplication),i.addEventListener(b.f.cast.by(O.a).spell([h.a.ARCANE_SHOT,h.a.MULTISHOT_MM,h.a.CHIMAERA_SHOT_MM_TALENT]),i.onPreciseCast),i.addEventListener(b.f.damage.by(O.a),i.checkForBuff),i.addEventListener(b.f.damage.by(O.a).spell([h.a.ARCANE_SHOT,h.a.MULTISHOT_MM,h.a.CHIMAERA_SHOT_MM_FROST_DAMAGE,h.a.CHIMAERA_SHOT_MM_NATURE_DAMAGE]),i.onPreciseDamage),i}return Object(o.a)(a,[{key:"onPreciseShotsApplication",value:function(){this.buffsActive=$.u}},{key:"onPreciseShotsRemoval",value:function(){this.buffsSpent+=1,this.buffsActive=0}},{key:"onPreciseShotsStackRemoval",value:function(){this.buffsSpent+=1,this.buffsActive-=1}},{key:"onPreciseShotsStackApplication",value:function(){this.minOverwrittenProcs+=1,this.maxOverwrittenProcs+=2,this.buffsActive=$.u}},{key:"onPreciseCast",value:function(e){this.selectedCombatant.hasBuff(h.a.PRECISE_SHOTS.id)&&(this.buffedShotInFlight=e.timestamp)}},{key:"onPreciseDamage",value:function(e){this.checkForBuff(e),this.buffedShotInFlight&&(this.buffedShotInFlight<e.timestamp+$.c&&(this.damage+=Object(me.a)(e,$.v)),e.ability.guid===h.a.ARCANE_SHOT.id&&(this.buffedShotInFlight=null))}},{key:"checkForBuff",value:function(e){this.buffedShotInFlight&&this.buffedShotInFlight>e.timestamp+$.c&&(this.buffedShotInFlight=null)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(2),size:"flexible",tooltip:C.a.createElement(C.a.Fragment,null,"You wasted between ",this.minOverwrittenProcs," and ",this.maxOverwrittenProcs," Precise Shots procs by casting Aimed Shot when you already had Precise Shots active")},C.a.createElement(J.a,{spell:h.a.PRECISE_SHOTS},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}),C.a.createElement("br",null),this.buffsSpent," ",C.a.createElement("small",null,"buffs used"))))}},{key:"preciseShotsUtilizationPercentage",get:function(){return this.buffsSpent/(this.buffsSpent+this.minOverwrittenProcs)}},{key:"preciseShotsWastedThreshold",get:function(){return{actual:this.preciseShotsUtilizationPercentage,isLessThan:{minor:.9,average:.85,major:.8},style:I.a.PERCENTAGE}}}]),a}(O.c),fe=a(770),Te=a(762),pe=a(763),ge=a(772),be=a(771),Oe=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,i=function(e){return C.a.createElement(ge.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return C.a.createElement(fe.a,null,C.a.createElement(Te.c,{name:"Use core abilities as often as possible",description:C.a.createElement(C.a.Fragment,null,"Using your core abilities as often as possible can help raise your dps significantly. Some help more than others, but as a general rule of thumb you should be looking to use most of your damaging abilities and damage cooldowns as often as possible, unless you need to save them for a prioirty burst phase that is coming up soon.","  ",C.a.createElement("a",{href:"https://www.icy-veins.com/wow/marksmanship-hunter-pve-dps-rotation-cooldowns-abilities",target:"_blank",rel:"noopener noreferrer"},"More info."))},C.a.createElement(i,{spell:h.a.AIMED_SHOT.id}),C.a.createElement(i,{spell:h.a.RAPID_FIRE.id}),C.a.createElement(i,{spell:h.a.TRUESHOT.id}),C.a.createElement(i,{spell:h.a.KILL_SHOT_MM_BM.id}),t.hasTalent(h.a.DOUBLE_TAP_TALENT.id)&&C.a.createElement(i,{spell:h.a.DOUBLE_TAP_TALENT.id}),t.hasTalent(h.a.EXPLOSIVE_SHOT_TALENT.id)&&C.a.createElement(i,{spell:h.a.EXPLOSIVE_SHOT_TALENT.id}),t.hasTalent(h.a.BARRAGE_TALENT.id)&&C.a.createElement(i,{spell:h.a.BARRAGE_TALENT.id}),t.hasTalent(h.a.VOLLEY_TALENT.id)&&C.a.createElement(i,{spell:h.a.VOLLEY_TALENT.id}),t.hasTalent(h.a.A_MURDER_OF_CROWS_TALENT.id)&&C.a.createElement(i,{spell:h.a.A_MURDER_OF_CROWS_TALENT.id})),C.a.createElement(Te.c,{name:"Talent, cooldown and spell efficiency",description:"You want to be using your baseline spells as efficiently as possible, as well as choosing the right talents for the given scenario. If a talent isn't being used optimally for the encounter, you should consider swapping to a different talent."},C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,C.a.createElement(F.a,{id:h.a.PRECISE_SHOTS.id})," utilization"),thresholds:n.preciseShotsThresholds}),t.hasTalent(h.a.SERPENT_STING_TALENT.id)&&C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,C.a.createElement(F.a,{id:h.a.SERPENT_STING_TALENT.id})," uptime"),thresholds:n.serpentStingUptimeThresholds}),t.hasTalent(h.a.SERPENT_STING_TALENT.id)&&C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,"Refreshes of ",C.a.createElement(F.a,{id:h.a.SERPENT_STING_TALENT.id})," that didn't pandemic "),thresholds:n.serpentStingNonPandemicThresholds}),t.hasTalent(h.a.CALLING_THE_SHOTS_TALENT.id)&&C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,C.a.createElement(F.a,{id:h.a.CALLING_THE_SHOTS_TALENT.id})," CDR efficiency "),thresholds:n.callingTheShotsThresholds}),t.hasTalent(h.a.DEAD_EYE_TALENT.id)&&C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,C.a.createElement(F.a,{id:h.a.AIMED_SHOT.id})," recharge efficiency from ",C.a.createElement(F.a,{id:h.a.DEAD_EYE_TALENT.id})),thresholds:n.deadEyeThresholds}),t.hasTalent(h.a.LETHAL_SHOTS_TALENT.id)&&C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,"Potential ",C.a.createElement(F.a,{id:h.a.LETHAL_SHOTS_TALENT.id})," triggers when ",C.a.createElement(F.a,{id:h.a.RAPID_FIRE.id})," isn't on CD"),thresholds:n.lethalShotsThresholds}),t.hasTalent(h.a.STEADY_FOCUS_TALENT.id)&&C.a.createElement(pe.a,{name:C.a.createElement(C.a.Fragment,null,C.a.createElement(F.a,{id:h.a.STEADY_FOCUS_TALENT.id})," buff uptime"),thresholds:n.steadyFocusThresholds})),C.a.createElement(Te.c,{name:"Downtime & Cancelled Casts",description:C.a.createElement(C.a.Fragment,null,"As a DPS, you should try to reduce the delay between casting spells. This is especially true as a Marksmanship that should be casting something all the time, because you can always be casting ",C.a.createElement(F.a,{id:h.a.STEADY_SHOT.id})," if nothing else is available.")},C.a.createElement(pe.a,{name:"Active time",thresholds:n.downtimeSuggestionThresholds}),C.a.createElement(pe.a,{name:"Successful casts",thresholds:n.cancelledCastsThresholds})),C.a.createElement(Te.c,{name:"Resource generators",description:C.a.createElement(C.a.Fragment,null,"Capping on Focus is a loss of potential DPS, as you could've used that Focus for a damaging ability at a later point. If everything is on cooldown, try and use ",t.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT.id)?C.a.createElement(F.a,{id:h.a.CHIMAERA_SHOT_MM_TALENT.id}):C.a.createElement(F.a,{id:h.a.ARCANE_SHOT.id})," to stay off the focus cap and do some damage.")},C.a.createElement(pe.a,{name:"Effective Focus from generators",thresholds:n.focusGeneratorWasteThresholds}),C.a.createElement(pe.a,{name:"Effective natural Focus regeneration",thresholds:n.focusNaturalRegenWasteThresholds})),C.a.createElement(be.a,{thresholds:n}))},ve=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).combatants=void 0,e.castEfficiency=void 0,e.preparationRuleAnalyzer=void 0,e.alwaysBeCasting=void 0,e.cancelledCasts=void 0,e.preciseShots=void 0,e.steadyFocus=void 0,e.lethalShots=void 0,e.serpentSting=void 0,e.callingTheShots=void 0,e.deadEye=void 0,e.focusGeneratorDetails=void 0,e.focusCapTracker=void 0,e}return Object(o.a)(a,[{key:"render",value:function(){return C.a.createElement(Oe,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(l.a)(Object(l.a)({},this.preparationRuleAnalyzer.thresholds),{},{downtimeSuggestionThresholds:this.alwaysBeCasting.suggestionThresholds,cancelledCastsThresholds:this.cancelledCasts.suggestionThresholds,preciseShotsThresholds:this.preciseShots.preciseShotsWastedThreshold,steadyFocusThresholds:this.steadyFocus.uptimeThresholds,lethalShotsThresholds:this.lethalShots.wastedPotentialCDR,serpentStingUptimeThresholds:this.serpentSting.uptimeThreshold,serpentStingNonPandemicThresholds:this.serpentSting.nonPandemicThreshold,deadEyeThresholds:this.deadEye.deadEyeEfficacyThresholds,callingTheShotsThresholds:this.callingTheShots.callingTheShotsEfficacyThresholds,focusGeneratorWasteThresholds:this.focusGeneratorDetails.focusGeneratorWasteThresholds,focusNaturalRegenWasteThresholds:this.focusCapTracker.focusNaturalRegenWasteThresholds})})}}]),a}(W.a);ve.dependencies={combatants:z.a,castEfficiency:Y.a,preparationRuleAnalyzer:K.a,alwaysBeCasting:k,cancelledCasts:B,preciseShots:Ee,steadyFocus:ee,lethalShots:ne,serpentSting:le,callingTheShots:ue,deadEye:he,focusGeneratorDetails:V.a,focusCapTracker:q.a};var Ae=ve,Se=a(900),_e=a(840),Re=a(907),ye=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getBaseRegenRate",value:function(){var e=te.m;return this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)&&(e*=1+$.M),e}}]),a}(q.a),Ce=a(836),Le=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).focusTracker=void 0,e}return Object(o.a)(a,[{key:"suggestions",value:function(e){var t=C.a.createElement(C.a.Fragment,null,"Try to keep focus below max by using ",C.a.createElement(F.a,{id:h.a.AIMED_SHOT.id}),", ",this.selectedCombatant.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT.id)?C.a.createElement(F.a,{id:h.a.CHIMAERA_SHOT_MM_TALENT.id}):C.a.createElement(F.a,{id:h.a.ARCANE_SHOT.id})," and ",C.a.createElement(F.a,{id:h.a.MULTISHOT_MM.id}),".");Object(Ce.a)(e,this.focusTracker,{spell:h.a.STEADY_SHOT_FOCUS,minor:.025,avg:.05,major:.1,extraSuggestion:t}),Object(Ce.a)(e,this.focusTracker,{spell:h.a.RAPID_FIRE_FOCUS,minor:.025,avg:.05,major:.1,extraSuggestion:t})}}]),a}(O.c);Le.dependencies={focusTracker:_e.a};var Ie=Le,Ne=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(a(922).a);Ne.listOfResourceSpenders=Object(A.a)($.m);var Fe=Ne,De=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).lastReductionTimestamp=0,i.casts=0,i.effectiveCDRFromTrueshot=0,i.wastedCDRFromTrueshot=0,i.currentFocusTicks=0,i.effectiveFocusGain=0,i.focusWasted=0,i.additionalFocusFromTrueshot=0,i.possibleAdditionalFocusFromTrueshot=0,i.additionalFocusFromNesingwary=0,i.possibleAdditionalFocusFromNesingwary=0,i.lastFocusTickTimestamp=0,i.spellUsable=void 0,i.abilities=void 0,i.addEventListener(b.f.any,i.onEvent),i.addEventListener(b.f.cast.by(O.a).spell(h.a.RAPID_FIRE),i.onCast),i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.TRUESHOT),i.onAffectingBuffChange),i.addEventListener(b.f.refreshbuff.by(O.a).spell(h.a.TRUESHOT),i.onAffectingBuffChange),i.addEventListener(b.f.removebuff.to(O.a).spell(h.a.TRUESHOT),i.onAffectingBuffChange),i.addEventListener(b.f.energize.by(O.a).spell(h.a.RAPID_FIRE_FOCUS),i.onEnergize),i}return Object(o.a)(a,[{key:"onEvent",value:function(e){if(this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)&&this.spellUsable.isOnCooldown(h.a.RAPID_FIRE.id)&&!(0===this.lastReductionTimestamp||e.timestamp<=this.lastReductionTimestamp)){var t=1;this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)&&(t/=1+$.N);var a=1/t;this.reduceRapidFireCooldown(e,a),this.lastReductionTimestamp=e.timestamp}}},{key:"reduceRapidFireCooldown",value:function(e,t){var a=(e.timestamp-this.lastReductionTimestamp)*t,n=this.spellUsable.reduceCooldown(h.a.RAPID_FIRE.id,a,e.timestamp);this.effectiveCDRFromTrueshot+=n,this.wastedCDRFromTrueshot+=n-a}},{key:"onAffectingBuffChange",value:function(e){e.type===b.b.RemoveBuff&&this.onEvent(e),this.lastReductionTimestamp=e.timestamp}},{key:"onCast",value:function(){this.casts+=1,this.currentFocusTicks=0}},{key:"onEnergize",value:function(e){this.effectiveFocusGain+=e.resourceChange-e.waste,this.focusWasted+=e.waste;var t=this.selectedCombatant.hasBuff(h.a.TRUESHOT.id),a=this.selectedCombatant.hasBuff(h.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id);t&&this.lastFocusTickTimestamp+te.s/2>e.timestamp&&(this.additionalFocusFromTrueshot+=e.resourceChange-e.waste,this.possibleAdditionalFocusFromTrueshot+=$.w),a&&(this.additionalFocusFromNesingwary+=Math.max(Math.ceil(e.resourceChange/te.u)-e.waste,0),this.possibleAdditionalFocusFromNesingwary+=e.resourceChange-$.w)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(2),size:"flexible"},C.a.createElement(J.a,{spell:h.a.RAPID_FIRE},C.a.createElement(C.a.Fragment,null,this.effectiveFocusGain,"/",this.focusWasted+this.effectiveFocusGain," ",C.a.createElement("small",null,"possible focus gained"))))}}]),a}(O.c);De.dependencies={spellUsable:m.b,abilities:T.a};var ke=De,Pe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).effectiveFocusGain=0,i.focusWasted=0,i.additionalFocusFromTrueshot=0,i.possibleAdditionalFocusFromTrueshot=0,i.additionalFocusFromNesingwary=0,i.possibleAdditionalFocusFromNesingwary=0,i.addEventListener(b.f.energize.by(O.a).spell(h.a.STEADY_SHOT_FOCUS),i.onEnergize),i}return Object(o.a)(a,[{key:"onEnergize",value:function(e){this.effectiveFocusGain+=e.resourceChange-e.waste,this.focusWasted+=e.waste;var t=this.selectedCombatant.hasBuff(h.a.TRUESHOT.id),a=this.selectedCombatant.hasBuff(h.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id);t&&(this.additionalFocusFromTrueshot+=e.resourceChange*(1-1/(1+$.M))-Math.max(e.waste-$.D*(a?te.u:1),0),this.possibleAdditionalFocusFromTrueshot+=$.D*$.M*(a?te.u:1)),a&&(this.additionalFocusFromNesingwary+=e.resourceChange*(1-1/te.u)-Math.max(e.waste-$.D*(t?1+$.M:1),0),this.possibleAdditionalFocusFromNesingwary+=$.D*(t?1+$.M:1))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(2),size:"flexible"},C.a.createElement(J.a,{spell:h.a.STEADY_SHOT},C.a.createElement(C.a.Fragment,null,this.effectiveFocusGain,"/",this.focusWasted+this.effectiveFocusGain," ",C.a.createElement("small",null,"possible focus gained"))))}}]),a}(O.c),je=a(88),we=a(786),Me=a(53),He=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).trueshotCasts=0,i.aimedShotsPrTS=0,i.focusGained=0,i.passiveFocusAttributedToTrueshot=0,i.possiblePassiveFocusAttributedToTrueshot=0,i.lastKnownFocusAmount=0,i.lastCheckedPassiveRegenTimestamp=0,i.focusAtLastCheck=0,i.rapidFire=void 0,i.steadyShot=void 0,i.marksmanshipFocusCapTracker=void 0,i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onAimedShotCast),i.addEventListener(b.f.cast.by(O.a).spell(h.a.TRUESHOT),i.onTrueshotCast),i.addEventListener(b.f.cast.by(O.a),i.focusCheck),i.addEventListener(b.f.energize.by(O.a),i.focusCheck),i}return Object(o.a)(a,[{key:"onTrueshotCast",value:function(e){var t;this.trueshotCasts+=1,this.lastCheckedPassiveRegenTimestamp=e.timestamp;var a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===je.a.FOCUS.id}));a&&(this.focusAtLastCheck=a.amount)}},{key:"onAimedShotCast",value:function(){this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)&&(this.aimedShotsPrTS+=1)}},{key:"focusCheck",value:function(e){var t;if(this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)){var a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===je.a.FOCUS.id}));if(a&&e.timestamp>=this.lastCheckedPassiveRegenTimestamp+te.s){var n=e.timestamp-this.lastCheckedPassiveRegenTimestamp,i=n*this.marksmanshipFocusCapTracker.naturalRegenRate()*(1-1/(1+$.M)),s=n*this.marksmanshipFocusCapTracker.naturalRegenRate()-i;this.possiblePassiveFocusAttributedToTrueshot+=i,te.l-this.focusAtLastCheck>s+i?this.passiveFocusAttributedToTrueshot+=i:te.l-this.focusAtLastCheck>s&&(this.passiveFocusAttributedToTrueshot+=te.l-this.focusAtLastCheck-s),this.lastCheckedPassiveRegenTimestamp=e.timestamp,this.focusAtLastCheck=a.amount}}}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(1),size:"flexible"},C.a.createElement(J.a,{spell:h.a.TRUESHOT},C.a.createElement(Me.a,{id:h.a.AIMED_SHOT.id,noLink:!0})," ",this.averageAimedShots.toFixed(1)," ",C.a.createElement("small",null,"per Trueshot"),C.a.createElement("br",null),C.a.createElement(we.a,{id:je.a.FOCUS.id,noLink:!0})," ",this.effectiveFocus,"/",this.possibleFocus," ",C.a.createElement("small",null,"Focus gained")))}},{key:"averageAimedShots",get:function(){var e=this.aimedShotsPrTS/this.trueshotCasts;return isNaN(e)||!isFinite(e)?0:e}},{key:"effectiveFocus",get:function(){return Object(N.d)(this.steadyShot.additionalFocusFromTrueshot+this.rapidFire.additionalFocusFromTrueshot+this.passiveFocusAttributedToTrueshot)}},{key:"possibleFocus",get:function(){return Object(N.d)(this.steadyShot.possibleAdditionalFocusFromTrueshot+this.rapidFire.possibleAdditionalFocusFromTrueshot+this.possiblePassiveFocusAttributedToTrueshot)}}]),a}(O.c);He.dependencies={rapidFire:ke,steadyShot:Pe,marksmanshipFocusCapTracker:ye};var Ue=He,Be=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.lwApplicationTimestamp=0,i.loneWolfModifier=0,i.lwAppliedOrRemoved=!1,i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.LONE_WOLF_BUFF),i.onLoneWolfApplication),i.addEventListener(b.f.removebuff.by(O.a).spell(h.a.LONE_WOLF_BUFF),i.onLoneWolfRemoval),i.addEventListener(b.f.damage.by(O.a).spell($.p),i.onDamage),i.addEventListener(b.f.fightend,i.deactivateIfNoDamage),i}return Object(o.a)(a,[{key:"onLoneWolfApplication",value:function(e){this.lwApplicationTimestamp=e.timestamp,this.lwAppliedOrRemoved=!0}},{key:"onLoneWolfRemoval",value:function(){this.loneWolfModifier=0,this.lwAppliedOrRemoved=!0}},{key:"onDamage",value:function(e){this.lwAppliedOrRemoved&&!this.selectedCombatant.hasBuff(h.a.LONE_WOLF_BUFF.id)||(this.lwApplicationTimestamp>0?this.loneWolfModifier=Math.min($.s,Math.floor(100*((e.timestamp-this.lwApplicationTimestamp)/$.r*$.q+$.B))/100):this.loneWolfModifier=$.s,this.damage+=Object(me.a)(e,this.loneWolfModifier))}},{key:"deactivateIfNoDamage",value:function(){0===this.damage&&(this.active=!1)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(20),size:"flexible"},C.a.createElement(J.a,{spell:h.a.LONE_WOLF_BUFF},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}))))}}]),a}(O.c),xe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).lastReductionTimestamp=0,i.effectiveCDRFromTrueshotDeadEye=0,i.wastedCDRFromTrueshotDeadEye=0,i.casts=0,i.totalCooldown=0,i.averageCooldown=0,i.spellUsable=void 0,i.abilities=void 0,i.deadEye=void 0,i.addEventListener(b.f.any,i.onEvent),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onCast),i.addEventListener(b.f.applybuff.by(O.a).spell([h.a.TRUESHOT,h.a.DEAD_EYE_BUFF]),i.onAffectingBuffChange),i.addEventListener(b.f.refreshbuff.by(O.a).spell([h.a.TRUESHOT,h.a.DEAD_EYE_BUFF]),i.onAffectingBuffChange),i.addEventListener(b.f.removebuff.to(O.a).spell([h.a.TRUESHOT,h.a.DEAD_EYE_BUFF]),i.onAffectingBuffChange),i}return Object(o.a)(a,[{key:"onEvent",value:function(e){if((this.selectedCombatant.hasBuff(h.a.DEAD_EYE_BUFF.id)||this.selectedCombatant.hasBuff(h.a.TRUESHOT.id))&&this.spellUsable.isOnCooldown(h.a.AIMED_SHOT.id)&&!(0===this.lastReductionTimestamp||e.timestamp<=this.lastReductionTimestamp)){var t=1;this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)&&(t/=1+$.K),this.selectedCombatant.hasBuff(h.a.DEAD_EYE_BUFF.id)&&(t/=1+$.i);var a=1/t;this.reduceAimedShotCooldown(e,a),this.lastReductionTimestamp=e.timestamp}}},{key:"reduceAimedShotCooldown",value:function(e,t){var a=(e.timestamp-this.lastReductionTimestamp)*t,n=this.spellUsable.reduceCooldown(h.a.AIMED_SHOT.id,a,e.timestamp);this.effectiveCDRFromTrueshotDeadEye+=n,this.wastedCDRFromTrueshotDeadEye+=n-a,this.selectedCombatant.hasBuff(h.a.DEAD_EYE_BUFF.id)&&this.attributeDeadEyeAimedShotCDR(n,a)}},{key:"attributeDeadEyeAimedShotCDR",value:function(e,t){this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)&&(e/=1+$.K,t/=1+$.K),this.deadEye.deadEyeEffectiveCDR+=e,this.deadEye.deadEyePotentialCDR+=t}},{key:"onAffectingBuffChange",value:function(e){e.type===b.b.RemoveBuff&&this.onEvent(e),this.lastReductionTimestamp=e.timestamp}},{key:"onCast",value:function(e){var t=this.abilities.getExpectedCooldownDuration(h.a.AIMED_SHOT.id,e);t&&(this.totalCooldown+=t,this.casts+=1,this.deadEye.averageAimedShotCD=this.totalCooldown/this.casts),void 0===e.meta&&(e.meta={isEnhancedCast:!1,isInefficientCast:!1});var a=this.selectedCombatant.hasBuff(h.a.PRECISE_SHOTS.id),n=this.selectedCombatant.hasBuff(h.a.TRUESHOT.id);a&&!n&&(e.meta.isInefficientCast=!0,e.meta.inefficientCastReason="Aimed Shot while having Precise Shots stacks left.")}}]),a}(O.c);xe.dependencies={spellUsable:m.b,abilities:T.a,deadEye:he};var Ge=xe,We=a(906),Ye=a(905),ze=a(903),Ke=a(970),Ve=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.active=i.selectedCombatant.hasTalent(h.a.VOLLEY_TALENT.id),i.addEventListener(b.f.damage.by(O.a).spell(h.a.VOLLEY_DAMAGE),i.onVolleyDamage),i}return Object(o.a)(a,[{key:"onVolleyDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.VOLLEY_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}))))}}]),a}(O.c),qe=a(827),Xe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).hits=0,i.damage=0,i.casts=0,i.active=i.selectedCombatant.hasTalent(h.a.EXPLOSIVE_SHOT_TALENT.id),i.addEventListener(b.f.cast.by(O.a).spell(h.a.EXPLOSIVE_SHOT_TALENT),i.onCast),i.addEventListener(b.f.damage.by(O.a).spell(h.a.EXPLOSIVE_SHOT_DAMAGE),i.onDamage),i}return Object(o.a)(a,[{key:"onCast",value:function(){this.casts+=1}},{key:"onDamage",value:function(e){this.hits+=1,this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.EXPLOSIVE_SHOT_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}),C.a.createElement("br",null),C.a.createElement(qe.a,{casts:this.casts,hits:this.hits,unique:!0}))))}}]),a}(O.c),Ze=a(802),Je=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).hasLnLBuff=!1,i.noGainLNLProcs=0,i.totalProcs=0,i.autoShots=0,i.spellUsable=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(h.a.LOCK_AND_LOAD_TALENT.id),i.addEventListener(b.f.damage.by(O.a).spell(h.a.AUTO_SHOT),i.autoshotDamage),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onAimedCast),i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.LOCK_AND_LOAD_BUFF),i.onLNLApplication),i.addEventListener(b.f.refreshbuff.by(O.a).spell(h.a.LOCK_AND_LOAD_BUFF),i.onLNLRefresh),i}return Object(o.a)(a,[{key:"autoshotDamage",value:function(){this.autoShots+=1}},{key:"onAimedCast",value:function(){this.selectedCombatant.hasBuff(h.a.LOCK_AND_LOAD_BUFF.id)&&(this.hasLnLBuff=!1)}},{key:"onLNLApplication",value:function(e){if(this.totalProcs+=1,this.hasLnLBuff=!0,this.spellUsable.isOnCooldown(h.a.AIMED_SHOT.id)){var t=this.abilities.getExpectedCooldownDuration(h.a.AIMED_SHOT.id,this.spellUsable.cooldownTriggerEvent(h.a.AIMED_SHOT.id));if(t){var a=t-this.spellUsable.cooldownRemaining(h.a.AIMED_SHOT.id);this.spellUsable.endCooldown(h.a.AIMED_SHOT.id,!1,e.timestamp,a)}}}},{key:"onLNLRefresh",value:function(){this.hasLnLBuff&&(this.noGainLNLProcs+=1),this.totalProcs+=1}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(10),size:"flexible",category:Z.a.TALENTS,tooltip:C.a.createElement(C.a.Fragment,null,"You had ",this.noGainLNLProcs," ",1===this.noGainLNLProcs?"proc":"procs"," with LnL already active. ",C.a.createElement("br",null),"You had ",Object(N.e)(this.totalProcs/this.expectedProcs,1),"% procs of what you could expect to get over the encounter. ",C.a.createElement("br",null),"You had a total of ",this.totalProcs," procs, and your expected amount of procs was ",Object(N.d)(this.expectedProcs),". ",C.a.createElement("br",null),C.a.createElement("ul",null,C.a.createElement("li",null,"You have a \u2248",Object(N.e)(Object(Ze.a)(this.totalProcs,this.autoShots,$.o)),"% chance of getting this amount of procs or fewer in the future with this amount of auto attacks."))),dropdown:C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{style:{padding:"8px"}},Object(Ze.e)(this.totalProcs,this.autoShots,$.o),C.a.createElement("p",null,"Likelihood of getting ",C.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",C.a.createElement(F.a,{id:h.a.AUTO_SHOT.id})," hits.")))},C.a.createElement(J.a,{spell:h.a.LOCK_AND_LOAD_TALENT},C.a.createElement(C.a.Fragment,null,this.totalProcs," ",C.a.createElement("small",null,"procs"),C.a.createElement("br",null),this.noGainLNLProcs," ",C.a.createElement("small",null,"wasted procs"))))}},{key:"expectedProcs",get:function(){return Object(Ze.c)($.o,this.autoShots)}}]),a}(O.c);Je.dependencies={spellUsable:m.b,abilities:T.a};var Qe=Je,$e=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.active=i.selectedCombatant.hasTalent(h.a.MASTER_MARKSMAN_TALENT.id),i.addEventListener(b.f.damage.by(O.a).spell(h.a.MASTER_MARKSMAN_DEBUFF),i.onDebuffDamage),i}return Object(o.a)(a,[{key:"onDebuffDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(10),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.MASTER_MARKSMAN_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}))))}}]),a}(O.c),et=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).activations=0,i.aimedUsage=0,i.RFUsage=0,i.active=i.selectedCombatant.hasTalent(h.a.DOUBLE_TAP_TALENT.id),i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.DOUBLE_TAP_TALENT),i.onDoubleTapApplication),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onAimedCast),i.addEventListener(b.f.cast.by(O.a).spell(h.a.RAPID_FIRE),i.onRapidFireCast),i}return Object(o.a)(a,[{key:"onDoubleTapApplication",value:function(){this.activations+=1}},{key:"onAimedCast",value:function(){this.selectedCombatant.hasBuff(h.a.DOUBLE_TAP_TALENT.id)&&(this.aimedUsage+=1)}},{key:"onRapidFireCast",value:function(){this.selectedCombatant.hasBuff(h.a.DOUBLE_TAP_TALENT.id)&&(this.RFUsage+=1)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS,tooltip:C.a.createElement(C.a.Fragment,null,"You used Double Tap a total of ",this.activations," times, and utilised ",this.totalUsage," of them.",C.a.createElement("ul",null,this.aimedUsage>0&&C.a.createElement("li",null,"Out of the total activations, you used ",this.aimedUsage," of them on Aimed Shots."),this.RFUsage>0&&C.a.createElement("li",null,"Out of the total activations, you used ",this.RFUsage," of them on Rapid Fires.")))},C.a.createElement(J.a,{spell:h.a.DOUBLE_TAP_TALENT},C.a.createElement(C.a.Fragment,null,this.aimedUsage,"  ",C.a.createElement(Me.a,{id:h.a.AIMED_SHOT.id,style:{height:"1.3em",marginTop:"-.1em"}}),"  ",this.RFUsage,"  ",C.a.createElement(Me.a,{id:h.a.RAPID_FIRE.id,style:{height:"1.3em",marginTop:"-.1em"}}))))}},{key:"totalUsage",get:function(){return this.RFUsage+this.aimedUsage}}]),a}(O.c),tt=a(901),at=a(902),nt=a(904),it=a(122),st=a(816);var rt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).caProcs=0,i.bossIDs=[],i.carefulAimPeriods={Adds:{caDamage:0,aimedShotsInCA:0,timestampSub100:0,timestampSub70:0}},i.statTracker=void 0,i.enemies=void 0,i.active=i.selectedCombatant.hasTalent(h.a.CAREFUL_AIM_TALENT.id),i.owner.report.enemies.forEach((function(e){e.fights.forEach((function(t){t.id===i.owner.fight.id&&"Boss"===e.type&&i.bossIDs.push(e.id)}))})),i.addEventListener(b.f.fightend,i.calculateCarefulAimPeriods),i.addEventListener(b.f.damage.by(O.a),i.onDamage),i}return Object(o.a)(a,[{key:"onDamage",value:function(e){var t,a=e.ability.guid,n=e.hitPoints&&e.maxHitPoints&&e.hitPoints/e.maxHitPoints,i=e.targetID,s=n&&n<$.e;e.maxHitPoints&&this.bossIDs.includes(i)?(t=function(e){if(!e)return"No name provided";for(var t=e.trim().split(" "),a="",n=0;n<t.length;n+=1)n<t.length-1?a+=t[n].charAt(0)+". ":a+=t[n];return a}(this.enemies.getEntity(e).name),this.carefulAimPeriods[t]||(this.carefulAimPeriods[t]={caDamage:0,aimedShotsInCA:0,timestampSub100:0,timestampSub70:0}),n&&n>$.e&&(this.carefulAimPeriods[t].timestampSub100=this.carefulAimPeriods[t].timestampSub100||e.timestamp),n&&s&&(this.carefulAimPeriods[t].timestampSub70=this.carefulAimPeriods[t].timestampSub70||e.timestamp)):t="Adds";if(a===h.a.AIMED_SHOT.id&&!s){var r=Object(me.a)(e,$.f);this.carefulAimPeriods[t].caDamage+=r,this.carefulAimPeriods[t].aimedShotsInCA+=1,this.caProcs+=1}}},{key:"calculateCarefulAimPeriods",value:function(){var e=this;Object.values(this.carefulAimPeriods).forEach((function(t){t.timestampSub100=t.timestampSub100||e.owner.fight.start_time,t.timestampSub70=t.timestampSub70||e.owner.fight.end_time}))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS,dropdown:C.a.createElement(C.a.Fragment,null,C.a.createElement("table",{className:"table table-condensed"},C.a.createElement("thead",null,C.a.createElement("tr",null,C.a.createElement("th",null,"Boss"),C.a.createElement("th",null,"Damage"),C.a.createElement("th",null,"Hits"),C.a.createElement("th",null,"Duration"))),C.a.createElement("tbody",null,Object.entries(this.carefulAimPeriods).map((function(e,t){return C.a.createElement("tr",{key:t},C.a.createElement("td",null,e[0]),C.a.createElement("td",null,Object(N.d)(e[1].caDamage)),C.a.createElement("td",null,e[1].aimedShotsInCA),C.a.createElement("td",null,"Adds"===e[0]?"N/A":Object(N.a)((e[1].timestampSub70-e[1].timestampSub100)/1e3)))})))))},C.a.createElement(J.a,{spell:h.a.CAREFUL_AIM_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}),C.a.createElement("br",null),this.caProcs," ",C.a.createElement("small",null,"hits for")," \u2248 ",Object(N.d)(this.damage/this.caProcs)," ",C.a.createElement("small",null,"each"))))}}]),a}(st.a);rt.dependencies=Object(l.a)(Object(l.a)({},st.a.dependencies),{},{statTracker:it.a,enemies:se.a}),rt.executeSpells=[h.a.AIMED_SHOT],rt.executeSources=O.a,rt.upperThreshold=$.e,rt.modifiesDamage=!0,rt.damageModifier=$.f;var ct=rt,lt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=0,i.hits=0,i.active=i.selectedCombatant.hasTalent(h.a.CHIMAERA_SHOT_MM_TALENT.id),i.addEventListener(b.f.cast.by(O.a).spell(h.a.CHIMAERA_SHOT_MM_TALENT),(function(){i.casts+=1})),i.addEventListener(b.f.damage.by(O.a).spell([h.a.CHIMAERA_SHOT_MM_FROST_DAMAGE,h.a.CHIMAERA_SHOT_MM_NATURE_DAMAGE]),i.onChimaeraDamage),i}return Object(o.a)(a,[{key:"onChimaeraDamage",value:function(e){this.hits+=1,this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.TALENTS},C.a.createElement(J.a,{spell:h.a.CHIMAERA_SHOT_MM_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage})," ",C.a.createElement("br",null),C.a.createElement(qe.a,{casts:this.casts,hits:this.hits}))))}}]),a}(O.c),ot=a(800),ut=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.aimedShotCastTimeSaved=0,i.haste=void 0,i.active=i.selectedCombatant.hasTalent(h.a.STREAMLINE_TALENT.id),i.addEventListener(b.f.damage.by(O.a).spell(h.a.RAPID_FIRE_DAMAGE),i.onRapidFireDamage),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onAimedShotCast),i}return Object(o.a)(a,[{key:"onRapidFireDamage",value:function(e){this.damage+=Object(me.a)(e,$.F)}},{key:"onAimedShotCast",value:function(){if(this.selectedCombatant.hasBuff(h.a.STREAMLINE_BUFF.id)&&!this.selectedCombatant.hasBuff(h.a.LOCK_AND_LOAD_BUFF.id)){var e=this.haste.current,t=this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)?1+$.J:1,a=$.a/(1+e)/t;this.aimedShotCastTimeSaved+=a-a/(1+$.E)}}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS,tooltip:C.a.createElement(C.a.Fragment,null,"You saved ",Object(N.d)(this.aimedShotCastTimeSaved/1e3)," seconds of Aimed Shot cast time through Streamline")},C.a.createElement(J.a,{spell:h.a.STREAMLINE_TALENT},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.damage}))))}}]),a}(O.c);ut.dependencies={haste:ot.a};var dt=ut,ht=a(908),mt=a(909),Et=a(910),ft=a(861),Tt=a(911),pt=a(912),gt=a(913),bt=a(914),Ot=a(119),vt=a(778),At=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.currentTick=0,i.procs=0,i.overwrittenProcs=0,i.usedProcs=0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(h.a.BRUTAL_PROJECTILES_CONDUIT.id),i.conduitRank?(i.addEventListener(b.f.damage.by(O.a).spell(h.a.RAPID_FIRE_DAMAGE),i.onRapidFireDamage),i.addEventListener(b.f.cast.by(O.a).spell(h.a.RAPID_FIRE),i.onRapidFireCast),i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.BRUTAL_PROJECTILES_NEXT_RF_BUFF),i.onApplyBrutalProjectiles),i.addEventListener(b.f.refreshbuff.by(O.a).spell(h.a.BRUTAL_PROJECTILES_NEXT_RF_BUFF),i.onRefreshBrutalProjectiles),i):(i.active=!1,Object(Ot.a)(i))}return Object(o.a)(a,[{key:"onApplyBrutalProjectiles",value:function(e){this.procs+=1}},{key:"onRefreshBrutalProjectiles",value:function(e){this.procs+=1,this.overwrittenProcs+=1}},{key:"onRapidFireCast",value:function(e){this.currentTick=0,this.selectedCombatant.hasBuff(h.a.BRUTAL_PROJECTILES_NEXT_RF_BUFF.id)&&(this.usedProcs+=1)}},{key:"onRapidFireDamage",value:function(e){this.selectedCombatant.hasBuff(h.a.BRUTAL_PROJECTILES_DURING_RF_BUFF.id)&&(this.addedDamage+=Object(me.a)(e,$.d[this.conduitRank]*this.currentTick),this.currentTick+=1)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.COVENANTS,tooltip:C.a.createElement(C.a.Fragment,null,"You used ",this.usedProcs," out of ",this.procs," gained. You overwrote the Brutal Projectiles buff ",this.overwrittenProcs," times.")},C.a.createElement(vt.a,{spell:h.a.BRUTAL_PROJECTILES_CONDUIT,rank:this.conduitRank},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.addedDamage}))))}}]),a}(O.c),St=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.trickShotsCastTimestamp=0,i.firstHitConnected=!1,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(h.a.DEADLY_CHAIN_CONDUIT.id),i.conduitRank?(i.addEventListener(b.f.cast.by(O.a).spell([h.a.AIMED_SHOT,h.a.RAPID_FIRE]),i.onTricksAffectedCast),i.addEventListener(b.f.damage.by(O.a).spell([h.a.AIMED_SHOT,h.a.RAPID_FIRE_DAMAGE]),i.onTricksAffectedDamage),i):(i.active=!1,Object(Ot.a)(i))}return Object(o.a)(a,[{key:"onTricksAffectedCast",value:function(e){this.selectedCombatant.hasBuff(h.a.TRICK_SHOTS_BUFF.id)&&(this.trickShotsCastTimestamp=e.timestamp)}},{key:"onTricksAffectedDamage",value:function(e){e.timestamp>this.trickShotsCastTimestamp+te.v||(this.firstHitConnected?this.addedDamage+=Object(me.a)(e,$.h[this.conduitRank]/$.I):this.firstHitConnected=!0)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.COVENANTS},C.a.createElement(vt.a,{spell:h.a.DEADLY_CHAIN_CONDUIT,rank:this.conduitRank},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.addedDamage}))))}}]),a}(O.c),_t=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.preciseShots=void 0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(h.a.POWERFUL_PRECISION_CONDUIT.id),i.conduitRank?(i.addEventListener(b.f.damage.by(O.a).spell([h.a.ARCANE_SHOT,h.a.MULTISHOT_MM,h.a.CHIMAERA_SHOT_MM_FROST_DAMAGE,h.a.CHIMAERA_SHOT_MM_NATURE_DAMAGE]),i.onPotentialPreciseDamage),i):(i.active=!1,Object(Ot.a)(i))}return Object(o.a)(a,[{key:"onPotentialPreciseDamage",value:function(e){this.preciseShots.buffedShotInFlight&&(this.addedDamage+=Object(me.a)(e,$.t[this.conduitRank]/$.v))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.COVENANTS},C.a.createElement(vt.a,{spell:h.a.POWERFUL_PRECISION_CONDUIT,rank:this.conduitRank},C.a.createElement(C.a.Fragment,null,C.a.createElement(ie.a,{amount:this.addedDamage}))))}}]),a}(O.c);_t.dependencies={preciseShots:Ee};var Rt=_t,yt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.increasedTrueshotUptime=0,i.trueshotApplicationTimestamp=i.owner.fight.start_time,i.uptimeAddedBoolean=!1,i.casts=0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(h.a.SHARPSHOOTERS_FOCUS_CONDUIT.id),i.conduitRank?(i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.TRUESHOT),i.onTrueshotApply),i.addEventListener(b.f.removebuff.by(O.a).spell(h.a.TRUESHOT),i.onTrueshotRemove),i.addEventListener(b.f.fightend.by(O.a).spell(h.a.TRUESHOT),i.onFightEnd),i.addEventListener(b.f.refreshbuff.by(O.a).spell(h.a.TRUESHOT),i.onTrueshotRefresh),i):(i.active=!1,Object(Ot.a)(i))}return Object(o.a)(a,[{key:"onTrueshotApply",value:function(e){this.trueshotApplicationTimestamp=e.timestamp,this.uptimeAddedBoolean=!1,this.casts+=1}},{key:"onTrueshotRemove",value:function(e){this.addTrueshotUptime(e),this.uptimeAddedBoolean=!0,0===this.casts&&(this.casts+=1)}},{key:"onTrueshotRefresh",value:function(e){this.addTrueshotUptime(e),this.trueshotApplicationTimestamp=e.timestamp,this.uptimeAddedBoolean=!1,this.casts+=1}},{key:"onFightEnd",value:function(e){this.uptimeAddedBoolean||this.addTrueshotUptime(e)}},{key:"addTrueshotUptime",value:function(e){this.increasedTrueshotUptime+=Math.max(e.timestamp-this.trueshotApplicationTimestamp-$.L,0)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.OPTIONAL(13),size:"flexible",category:Z.a.COVENANTS,tooltip:C.a.createElement(C.a.Fragment,null,"You lost out on ",((this.maximumAddedTrueshotUptime-this.increasedTrueshotUptime)/1e3).toFixed(1),"s of increased uptime due to combat ending or refreshing Trueshot.")},C.a.createElement(vt.a,{spell:h.a.SHARPSHOOTERS_FOCUS_CONDUIT,rank:this.conduitRank},C.a.createElement(C.a.Fragment,null,(this.increasedTrueshotUptime/1e3).toFixed(1),"s ",C.a.createElement("small",null,"increased Trueshot uptime"))))}},{key:"maximumAddedTrueshotUptime",get:function(){return this.casts*($.L*$.A[this.conduitRank])}}]),a}(O.c),Ct=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.aimedShotTargets=[],i.active=i.selectedCombatant.hasLegendaryByBonusID(h.a.SERPENTSTALKERS_TRICKERY_EFFECT.bonusID),i.active?(i.addEventListener(b.f.damage.by(O.a).spell(h.a.SERPENT_STING_TALENT),i.onSerpentStingDamage),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onAimedShotCast),i.addEventListener(b.f.removedebuff.by(O.a).spell(h.a.AIMED_SHOT),i.onStingRemoval),i):Object(Ot.a)(i)}return Object(o.a)(a,[{key:"onSerpentStingDamage",value:function(e){var t=Object(re.b)(e.targetID,e.targetInstance);this.aimedShotTargets.includes(t)&&(this.damage+=e.amount+(e.absorbed||0))}},{key:"onAimedShotCast",value:function(e){var t=Object(re.b)(e.targetID,e.targetInstance);this.aimedShotTargets.push(t)}},{key:"onStingRemoval",value:function(e){var t=Object(re.b)(e.targetID,e.targetInstance),a=this.aimedShotTargets.indexOf(t);-1!==a&&this.aimedShotTargets.splice(a,1)}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.CORE(),size:"flexible",category:Z.a.ITEMS},C.a.createElement(J.a,{spell:h.a.SERPENTSTALKERS_TRICKERY_EFFECT},C.a.createElement(ie.a,{amount:this.damage})))}}]),a}(O.c),Lt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.aimedShotCasts=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasLegendaryByBonusID(h.a.SURGING_SHOTS_EFFECT.bonusID),i.active?(i.addEventListener(b.f.damage.by(O.a).spell(h.a.RAPID_FIRE_DAMAGE),i.onRapidFireDamage),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.onAimedShotCast),i):Object(Ot.a)(i)}return Object(o.a)(a,[{key:"onRapidFireDamage",value:function(e){this.damage+=Object(me.a)(e,$.G)}},{key:"onAimedShotCast",value:function(){this.aimedShotCasts+=1}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.CORE(),size:"flexible",category:Z.a.ITEMS,dropdown:C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{style:{padding:"8px"}},Object(Ze.e)(this.spellUsable.rapidFireResets,this.aimedShotCasts,$.H),C.a.createElement("p",null,"Likelihood of getting ",C.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",C.a.createElement(F.a,{id:h.a.AIMED_SHOT.id})," casts.")))},C.a.createElement(J.a,{spell:h.a.SURGING_SHOTS_EFFECT},C.a.createElement(ie.a,{amount:this.damage})))}}]),a}(O.c);Lt.dependencies={spellUsable:f};var It=Lt,Nt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).aimedShotRefunds=0,i.totalPossibleAimedShotRefunds=0,i.focusSaved=0,i.unblinkingRefreshes=0,i.trickShotApplications=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasLegendaryByBonusID(h.a.SECRETS_OF_THE_UNBLINKING_VIGIL_EFFECT.bonusID),i.active?(i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.SECRETS_OF_THE_UNBLINKING_VIGIL_BUFF),i.applyOrRefreshSecretsBuff),i.addEventListener(b.f.refreshbuff.by(O.a).spell(h.a.SECRETS_OF_THE_UNBLINKING_VIGIL_BUFF),i.applyOrRefreshSecretsBuff),i.addEventListener(b.f.applybuff.by(O.a).spell(h.a.TRICK_SHOTS_BUFF),i.applyTrickShots),i.addEventListener(b.f.refreshbuff.by(O.a).spell(h.a.TRICK_SHOTS_BUFF),i.applyTrickShots),i.addEventListener(b.f.cast.by(O.a).spell(h.a.AIMED_SHOT),i.castAimedShot),i):Object(Ot.a)(i)}return Object(o.a)(a,[{key:"applyOrRefreshSecretsBuff",value:function(e){this.spellUsable.isOnCooldown(h.a.AIMED_SHOT.id)&&(this.spellUsable.endCooldown(h.a.AIMED_SHOT.id,!1,e.timestamp),this.aimedShotRefunds+=1),this.totalPossibleAimedShotRefunds+=1,e.type===b.b.RefreshBuff&&(this.unblinkingRefreshes+=1)}},{key:"applyTrickShots",value:function(e){this.trickShotApplications+=1}},{key:"castAimedShot",value:function(e){var t;this.selectedCombatant.hasBuff(h.a.SECRETS_OF_THE_UNBLINKING_VIGIL_BUFF.id)&&((null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===je.a.FOCUS.id})))&&(this.focusSaved+=$.b))}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.CORE(),size:"flexible",category:Z.a.ITEMS,tooltip:C.a.createElement(C.a.Fragment,null,"You refreshed the Unblinking Vigil buff ",this.unblinkingRefreshes," ",1===this.unblinkingRefreshes?"time":"times"),dropdown:C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{style:{padding:"8px"}},Object(Ze.e)(this.totalPossibleAimedShotRefunds,this.trickShotApplications,$.x),C.a.createElement("p",null,"Likelihood of getting ",C.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",C.a.createElement(F.a,{id:h.a.TRICK_SHOTS_BUFF.id})," applications.")))},C.a.createElement(J.a,{spell:h.a.SECRETS_OF_THE_UNBLINKING_VIGIL_EFFECT},this.aimedShotRefunds,"/",this.totalPossibleAimedShotRefunds," ",C.a.createElement("small",null,"Aimed Shot refunds"),C.a.createElement("br",null),this.focusSaved," ",C.a.createElement("small",null,"Focus saved")))}}]),a}(O.c);Nt.dependencies={spellUsable:m.b};var Ft=Nt,Dt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).focusSaved=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(h.a.EAGLETALONS_TRUE_FOCUS_EFFECT.bonusID),i.active?(i.addEventListener(b.f.cast.by(O.a),i.onCast),i):Object(Ot.a)(i)}return Object(o.a)(a,[{key:"onCast",value:function(e){var t;if(this.selectedCombatant.hasBuff(h.a.TRUESHOT.id)){var a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===je.a.FOCUS.id}));a&&(this.focusSaved+=Math.floor(a.cost*$.j)||0)}}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.CORE(),size:"flexible",category:Z.a.ITEMS},C.a.createElement(J.a,{spell:h.a.EAGLETALONS_TRUE_FOCUS_EFFECT},this.focusSaved," ",C.a.createElement("small",null,"Focus saved")))}}]),a}(O.c),kt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).focusGained=0,i.focusWasted=0,i.rapidFire=void 0,i.steadyShot=void 0,i.active=i.selectedCombatant.hasLegendaryByBonusID(h.a.NESINGWARYS_TRAPPING_APPARATUS_EFFECT.bonusID),i.active?(i.addEventListener(b.f.energize.by(O.a).spell(h.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE),i.onEnergize),i):Object(Ot.a)(i)}return Object(o.a)(a,[{key:"onEnergize",value:function(e){this.focusGained+=e.resourceChange,this.focusWasted+=e.waste}},{key:"statistic",value:function(){return C.a.createElement(w.a,{position:X.a.CORE(),size:"flexible",category:Z.a.ITEMS},C.a.createElement(J.a,{spell:h.a.NESINGWARYS_TRAPPING_APPARATUS_EFFECT},C.a.createElement(we.a,{id:je.a.FOCUS.id,noLink:!0})," ",this.focusGained,"/",this.focusWasted+this.focusGained," ",C.a.createElement("small",null,"gained Focus immediately"),C.a.createElement("br",null),C.a.createElement(we.a,{id:je.a.FOCUS.id,noLink:!0})," ",this.effectiveFocus,"/",this.possibleFocus," ",C.a.createElement("small",null,"gained Focus from generators")))}},{key:"effectiveFocus",get:function(){return Object(N.d)(this.steadyShot.additionalFocusFromNesingwary+this.rapidFire.additionalFocusFromNesingwary)}},{key:"possibleFocus",get:function(){return Object(N.d)(this.steadyShot.possibleAdditionalFocusFromNesingwary+this.rapidFire.possibleAdditionalFocusFromNesingwary)}}]),a}(O.c);kt.dependencies={rapidFire:ke,steadyShot:Pe};var Pt=kt,jt=a(915),wt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);wt.specModules={abilities:p,channeling:v,spellUsable:f,checklist:Ae,alwaysBeCasting:k,cooldownThroughputTracker:R,cancelledCasts:B,buffs:G,focusTracker:_e.a,focusDetails:V.a,spellFocusCost:Re.a,marksmanshipFocusCapTracker:ye,focus:Ie,marksmanshipFocusUsage:Fe,deathTracker:Se.a,trueshot:Ue,loneWolf:Be,preciseShots:Ee,aimedShot:Ge,rapidFire:ke,steadyShot:Pe,killShot:We.a,bindingShot:Ye.a,volley:Ve,explosiveShot:Xe,aMurderOfCrows:ze.a,lockAndLoad:Qe,barrage:Ke.a,masterMarksman:$e,doubleTap:et,callingTheShots:ue,serpentSting:le,steadyFocus:ee,naturalMending:tt.a,trailblazer:at.a,bornToBeWild:nt.a,carefulAim:ct,chimaeraShot:lt,deadEye:he,lethalShots:ne,streamline:dt,resonatingArrow:ht.a,deathChakrams:mt.a,wildSpirits:Et.a,flayedShot:ft.a,empoweredRelease:pt.a,enfeebledMark:Tt.a,necroticBarrage:gt.a,spiritAttunement:bt.a,brutalProjectiles:At,deadlyChain:St,powerfulPrecision:Rt,sharpshootersFocus:yt,nesingwarysTrappingApparatus:Pt,soulforgeEmbers:jt.a,surgingShots:It,serpentstalkersTrickery:Ct,secretsOfTheUnblinkingVigil:Ft,eagletalonsTrueFocus:Dt,arcaneTorrent:[c.a,{castEfficiency:null}]};t.default=wt},752:function(e,t,a){"use strict";function n(e,t){var a=(e.amount||0)+(e.absorbed||0);return a-a/(1+t)}a.d(t,"a",(function(){return n}))},760:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=Object.assign({},e);return i.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 80 80",className:"icon"},t),i.a.createElement("path",{d:"M50,86.4865c17.4361,0,31.6216-14.1855,31.6216-31.6216c0-16.6168-12.8865-30.2714-29.1892-31.5189v-4.9677h7.2973v-4.8649  H40.2703v4.8649h7.2973v4.9677c-16.3027,1.2475-29.1892,14.902-29.1892,31.5189C18.3784,72.3009,32.5639,86.4865,50,86.4865z M52.4324,28.2236c3.1101,0.2817,6.0664,1.0982,8.7798,2.356l-8.7798,15.2073V28.2236z M47.5676,28.2236v26.6412 c0,1.1008,0.7393,2.0647,1.8029,2.3497c0.209,0.0561,0.4205,0.0827,0.6295,0.0827c0.8533,0,1.6642-0.4504,2.1065-1.2162 l13.3146-23.0616c6.8507,4.8503,11.3357,12.8315,11.3357,21.8454c0,14.7537-12.0031,26.7567-26.7568,26.7567 s-26.7568-12.003-26.7568-26.7567C23.2432,40.9315,33.9501,29.4573,47.5676,28.2236z"}))}},761:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=e.label,a=e.children,n=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(n||"")},i.a.createElement("label",null,t),i.a.createElement("div",{className:"value"},a))}},778:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(53),r=a(4);t.a=function(e){var t=e.spell,a=e.rank,n=e.children,c=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(c||"")},i.a.createElement("label",null,i.a.createElement(s.a,{id:t.id})," ",i.a.createElement(r.a,{id:t.id,icon:!1})," - Rank ",a),i.a.createElement("div",{className:"value"},n))}},782:function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"j",(function(){return s})),a.d(t,"i",(function(){return r})),a.d(t,"E",(function(){return c})),a.d(t,"y",(function(){return l})),a.d(t,"z",(function(){return o})),a.d(t,"u",(function(){return u})),a.d(t,"t",(function(){return d})),a.d(t,"s",(function(){return h})),a.d(t,"c",(function(){return m})),a.d(t,"C",(function(){return E})),a.d(t,"D",(function(){return f})),a.d(t,"g",(function(){return T})),a.d(t,"x",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"r",(function(){return b})),a.d(t,"q",(function(){return O})),a.d(t,"n",(function(){return v})),a.d(t,"a",(function(){return A})),a.d(t,"A",(function(){return S})),a.d(t,"B",(function(){return _})),a.d(t,"b",(function(){return R})),a.d(t,"f",(function(){return y})),a.d(t,"o",(function(){return C})),a.d(t,"p",(function(){return L})),a.d(t,"d",(function(){return I})),a.d(t,"e",(function(){return N})),a.d(t,"k",(function(){return F})),a.d(t,"l",(function(){return D})),a.d(t,"v",(function(){return k})),a.d(t,"w",(function(){return P}));var n=a(3),i=5,s=.2,r=2e4,c=500,l=15,o=20,u=.3,d=12e3,h=[n.a.RAPTOR_STRIKE,n.a.RAPTOR_STRIKE_AOTE,n.a.MONGOOSE_BITE_TALENT,n.a.MONGOOSE_BITE_TALENT_AOTE],m=9e4,E=0,f=2.5,T=1500,p=[n.a.CHAKRAMS_TO_MAINTARGET.id,n.a.CHAKRAMS_BACK_FROM_MAINTARGET.id,n.a.CHAKRAMS_NOT_MAINTARGET.id],g=30,b=700,O=5,v=1,A=[n.a.WILDFIRE_BOMB_IMPACT,n.a.VOLATILE_BOMB_WFI_IMPACT,n.a.PHEROMONE_BOMB_WFI_IMPACT,n.a.SHRAPNEL_BOMB_WFI_IMPACT],S=.25,_=3,R=.3,y=.1,C=.2,L=[n.a.BUTCHERY_TALENT,n.a.CARVE,n.a.WING_CLIP,n.a.CHAKRAMS_TALENT,n.a.SERPENT_STING_SV].concat(h),I=5,N=100,F=[0,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,6500,7e3,7500,8e3],D=[0,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25],k=[0,.14,.16,.17,.19,.2,.22,.23,.25,.26,.28,.29,.31,.32,.34,.35],P=[0,.03,.04,.04,.05,.05,.06,.06,.07,.07,.08,.08,.09,.09,.1,.1]},783:function(e,t,a){"use strict";a.d(t,"G",(function(){return i})),a.d(t,"r",(function(){return s})),a.d(t,"s",(function(){return r})),a.d(t,"D",(function(){return c})),a.d(t,"g",(function(){return l})),a.d(t,"o",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"N",(function(){return h})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return E})),a.d(t,"C",(function(){return f})),a.d(t,"B",(function(){return T})),a.d(t,"Q",(function(){return p})),a.d(t,"O",(function(){return g})),a.d(t,"P",(function(){return b})),a.d(t,"a",(function(){return O})),a.d(t,"H",(function(){return v})),a.d(t,"t",(function(){return A})),a.d(t,"k",(function(){return S})),a.d(t,"I",(function(){return _})),a.d(t,"F",(function(){return R})),a.d(t,"J",(function(){return y})),a.d(t,"m",(function(){return C})),a.d(t,"l",(function(){return L})),a.d(t,"A",(function(){return I})),a.d(t,"y",(function(){return N})),a.d(t,"z",(function(){return F})),a.d(t,"h",(function(){return D})),a.d(t,"i",(function(){return k})),a.d(t,"n",(function(){return P})),a.d(t,"j",(function(){return j})),a.d(t,"e",(function(){return w})),a.d(t,"q",(function(){return M})),a.d(t,"E",(function(){return H})),a.d(t,"w",(function(){return U})),a.d(t,"K",(function(){return B})),a.d(t,"p",(function(){return x})),a.d(t,"v",(function(){return G})),a.d(t,"u",(function(){return W})),a.d(t,"x",(function(){return Y})),a.d(t,"L",(function(){return z})),a.d(t,"M",(function(){return K}));var n=a(3),i=3,s=1e3,r=50,c=30,l=12e3,o=9e4,u=[n.a.KILL_COMMAND_CAST_BM.id,n.a.COBRA_SHOT.id,n.a.BESTIAL_WRATH.id,n.a.MULTISHOT_BM.id,n.a.BARBED_SHOT.id,n.a.ASPECT_OF_THE_WILD.id,n.a.CALL_PET_1.id,n.a.CALL_PET_2.id,n.a.CALL_PET_3.id,n.a.CALL_PET_4.id,n.a.CALL_PET_5.id,n.a.INTIMIDATION.id,n.a.FREEZING_TRAP.id,n.a.TAR_TRAP.id,n.a.HUNTERS_MARK.id,n.a.ARCANE_SHOT.id,n.a.EXHILARATION.id,n.a.FLARE.id,n.a.BLOODSHED_TALENT.id,n.a.DIRE_BEAST_TALENT.id,n.a.SPITTING_COBRA_TALENT.id,n.a.BARRAGE_TALENT.id,n.a.STAMPEDE_TALENT.id,n.a.CHIMAERA_SHOT_BM_TALENT.id,n.a.A_MURDER_OF_CROWS_TALENT.id,n.a.WILD_SPIRITS.id,n.a.FLAYED_SHOT.id,n.a.RESONATING_ARROW.id,n.a.DEATH_CHAKRAM_INITIAL_AND_AOE.id],d=5,h=2,m=.3,E=[n.a.MELEE.id,n.a.KILL_COMMAND_DAMAGE_BM.id,n.a.STOMP_DAMAGE.id],f=.35,T=.5,p=.2,g=.1,b=18,O=2,v=3,A=.03,S=[n.a.BITE_BASIC_ATTACK,n.a.CLAW_BASIC_ATTACK,n.a.SMACK_BASIC_ATTACK],_=3400,R=3150,y=3e3,C=10,L=120,I=.025,N=.05,F=.1,D=[n.a.BARBED_SHOT_BUFF,n.a.BARBED_SHOT_BUFF_2,n.a.BARBED_SHOT_BUFF_3,n.a.BARBED_SHOT_BUFF_4,n.a.BARBED_SHOT_BUFF_5,n.a.BARBED_SHOT_BUFF_6,n.a.BARBED_SHOT_BUFF_7,n.a.BARBED_SHOT_BUFF_8],k=[n.a.BARBED_SHOT_BUFF.id,n.a.BARBED_SHOT_BUFF_2.id,n.a.BARBED_SHOT_BUFF_3.id,n.a.BARBED_SHOT_BUFF_4.id,n.a.BARBED_SHOT_BUFF_5.id,n.a.BARBED_SHOT_BUFF_6.id,n.a.BARBED_SHOT_BUFF_7.id,n.a.BARBED_SHOT_BUFF_8.id],P=[n.a.ASPECT_OF_THE_WILD.id,n.a.CHIMAERA_SHOT_FOCUS.id].concat(k),j=5,w=5,M=10,H=[n.a.COBRA_SHOT,n.a.MULTISHOT_BM,n.a.KILL_COMMAND_CAST_BM,n.a.DIRE_BEAST_TALENT],U=[0,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400],B=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15],x=[0,.1,.11,.12,.13,.14,.15,.16,.18,.19,.2,.21,.22,.23,.24,.25],G=[0,.05,.06,.06,.07,.07,.08,.08,.09,.09,.1,.1,.11,.11,.12,.12],W=.2,Y=.25,z=5e3,K=.2},799:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(779),u=a(33),d=a(4),h=a(22),m=(a(817),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderLegend",value:function(e){var t=e.reduce((function(e,t){return e+t.value}),0);return l.a.createElement("div",{className:"legend"},e.map((function(e,a){var n=e.color,i=e.label,s=e.tooltip,r=e.value,c=e.spellId,o=e.valueTooltip;return i=s?l.a.createElement(h.a,{content:s},i):i,i=c?l.a.createElement(d.a,{id:c},i):i,l.a.createElement("div",{key:a,className:"flex"},l.a.createElement("div",{className:"flex-sub"},l.a.createElement("div",{className:"circle",style:{background:n}})),l.a.createElement("div",{className:"flex-main"},i),l.a.createElement("div",{className:"flex-sub"},l.a.createElement(h.a,{content:o||r},Object(u.e)(r/t,0),"%")))})))}},{key:"renderChart",value:function(e,t,a){var n={items:e},i={data:{name:"items"},mark:{type:"arc",innerRadius:t*a},encoding:{theta:{field:"value",type:"quantitative"},color:{field:"label",type:"nominal",legend:null,scale:{domain:e.map((function(e){return e.label})),range:e.map((function(e){return e.color}))}}},view:{stroke:null}};return l.a.createElement("div",{className:"chart"},l.a.createElement(o.a,{width:t,height:t,spec:i,data:n}))}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.chartSize,n=e.innerRadiusFactor;return l.a.createElement("div",{className:"donut-chart"},this.renderLegend(t),this.renderChart(t,a,n))}}]),a}(l.a.PureComponent));m.defaultProps={chartSize:90,innerRadiusFactor:.28},t.a=m},802:function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return f})),a.d(t,"d",(function(){return T})),a.d(t,"e",(function(){return v}));var n=a(26),i=a(8),s=a(9),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(788),d=a(779),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={hover:null},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.probabilities,a=e.actualEvent,n=e.xAxis,i=e.yAxis,s=e.yDomain,r=e.tooltip,c={probabilities:t,actual:a},l={encoding:{x:{field:"x",type:"quantitative",title:n.title,axis:{grid:!1,format:n.tickFormat}},y:{field:"y",type:"quantitative",title:i.title,axis:{grid:!1,format:".0%"},scale:{domain:s}}},layer:[{data:{name:"probabilities"},mark:{type:"area",color:"rgba(250, 183, 0, 0.15)",line:{color:"#fab700",strokeWidth:1}}},{data:{name:"actual"},mark:{type:"point",filled:!0,color:"#00ff96",size:60},encoding:{tooltip:[{field:"x",title:r}]}}]};return o.a.createElement(u.a,{disableHeight:!0},(function(e){var t=e.width;return o.a.createElement(d.a,{height:150,width:t,spec:l,data:c})}))}}]),a}(o.a.Component);function m(e,t){return e*t}function E(e,t,a){return function(e,t){for(var a=1,n=1,i=e-t+1;i<=e;i+=1)a*=i;for(var s=1;s<=t;s+=1)n*=s;return a/n}(t,e)*Math.pow(a,e)*Math.pow(1-a,t-e)}function f(e,t,a){for(var n=0,i=0;i<=e;i+=1)n+=E(i,t,a);return n}function T(e,t){for(var a=-1,n=0,i=0;i<=e;i+=1){var s=t(i,e);s>n&&(a=i,n=s)}return{max:a,p:n}}function p(e,t,a){return Array.from({length:t},(function(e,n){return"number"===typeof a?{x:n,y:E(n,t,a)}:{x:n,y:O(n,t,a)}}))}function g(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,i=p(0,t,a),s=i.findIndex((function(e){return e.y>=n})),r=s+i.slice(s).findIndex((function(e){return e.y<n}));return{procProbabilities:i,rangeMin:s,rangeMax:r}}function b(e,t,a,n){if(-1===e)return 0;if(e===t+1)return 0;if(0===e&&0===t)return 1;if(null!==n[e][t])return n[e][t];var i=(1-a[t-1])*b(e,t-1,a,n)+a[t-1]*b(e-1,t-1,a,n);return n[e][t]=i,i}function O(e,t,a){if(a.length!==t)throw new Error("You must supply a probability vector with the same length as the number of total tries into Poisson Binomial PMF");var i=Object(n.a)(Array(t+1)).map((function(e){return Array(t+1).fill(null)}));return b(e,t,a,i)}function v(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Procs",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,.4],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{title:n,tickFormat:"~k"},c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{title:"Likelihood"},l=g(e,t,a),u=l.procProbabilities,d=l.rangeMin,m=l.rangeMax,f="number"===typeof a?E(e,t,a):O(e,t,a);return o.a.createElement(h,{probabilities:u.slice(d,m+1),actualEvent:{x:e,y:f},yDomain:s,xAxis:r,yAxis:c,tooltip:i})}},816:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(15),l=a(43),o=(a(33),a(752)),u=a(754),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).spellUsable=void 0,i.inExecuteWindow=!1,i.inHealthExecuteWindow=!1,i.executeWindowStart=0,i.lastExecuteHitTimestamp=0,i.totalExecuteWindowDuration=0,i.damage=0,i.casts=0,i.castsWithExecute=0,i.addEventListener(c.f.damage.by(i.executeSources),i.onGeneralDamage),i.addEventListener(c.f.cast.by(i.executeSources).spell(i.executeSpells),i.onExecuteCast),i.addEventListener(c.f.damage.by(i.executeSources).spell(i.executeSpells),i.onExecuteDamage),i.addEventListener(c.f.applybuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.applyExecuteEnablerBuff),i.addEventListener(c.f.removebuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.removeExecuteEnablerBuff),i.addEventListener(c.f.fightend,i.onFightEnd),i}return Object(i.a)(a,[{key:"isTargetInExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints<this.lowerThreshold}},{key:"isTargetInReverseExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints>this.upperThreshold}},{key:"isTargetInHealthExecuteWindow",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&(this.isTargetInExecuteRange(e)||this.isTargetInReverseExecuteRange(e))}},{key:"isExecuteUsableOutsideExecuteRange",get:function(){var e=this,t=!1;return this.executeOutsideRangeEnablers.forEach((function(a){e.selectedCombatant.hasBuff(a.id)&&(t=!0)})),t}},{key:"areExecuteSpellsOnCD",get:function(){var e=this,t=!0;return this.executeSpells.forEach((function(a){e.spellUsable.isOnCooldown(a.id)||(t=!1)})),t}}]),Object(i.a)(a,[{key:"onGeneralDamage",value:function(e){e.targetIsFriendly||(this.areExecuteSpellsOnCD||this.isExecuteUsableOutsideExecuteRange||this.isTargetInHealthExecuteWindow(e)?(this.lastExecuteHitTimestamp=e.timestamp,this.inExecuteWindow||(this.inExecuteWindow=!0,this.inHealthExecuteWindow=!0,this.executeWindowStart=e.timestamp)):this.inExecuteWindow&&e.timestamp>this.lastExecuteHitTimestamp+500&&(this.inExecuteWindow=!1,this.inHealthExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart))}},{key:"onExecuteCast",value:function(){this.casts+=1,(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.castsWithExecute+=1)}},{key:"onExecuteDamage",value:function(e){(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.modifiesDamage?this.damage+=Object(o.a)(e,this.damageModifier):this.damage+=e.amount+(e.absorbed||0))}},{key:"applyExecuteEnablerBuff",value:function(e){this.inExecuteWindow||this.inHealthExecuteWindow||(this.executeWindowStart=e.timestamp),this.inExecuteWindow=!0,this.lastExecuteHitTimestamp=e.timestamp}},{key:"removeExecuteEnablerBuff",value:function(e){this.inHealthExecuteWindow||(this.inExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart)}},{key:"onFightEnd",value:function(e){this.inExecuteWindow&&(this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart,this.inExecuteWindow=!1)}},{key:"executeSources",get:function(){return this.constructor.executeSources}},{key:"executeSpells",get:function(){return this.constructor.executeSpells}},{key:"executeOutsideRangeEnablers",get:function(){return this.constructor.executeOutsideRangeEnablers}},{key:"lowerThreshold",get:function(){return this.constructor.lowerThreshold}},{key:"upperThreshold",get:function(){return this.constructor.upperThreshold}},{key:"modifiesDamage",get:function(){return this.constructor.modifiesDamage}},{key:"damageModifier",get:function(){return this.constructor.damageModifier}},{key:"executeDamage",get:function(){return this.damage}},{key:"totalExecuteDuration",get:function(){return this.totalExecuteWindowDuration}},{key:"totalCasts",get:function(){return this.casts}},{key:"totalExecuteCasts",get:function(){return this.castsWithExecute}}]),a}(l.c);d.dependencies={spellUsable:u.b},d.executeSpells=[],d.executeSources=void 0,d.executeOutsideRangeEnablers=[],d.lowerThreshold=void 0,d.upperThreshold=void 0,d.modifiesDamage=void 0,d.damageModifier=void 0,t.a=d},817:function(e,t,a){},827:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=function(e){var t=e.casts,a=e.hits,n=e.unique,s=e.approximate,r=a/t||0;return i.a.createElement(i.a.Fragment,null,s&&"\u2248",r.toFixed(1)," ",i.a.createElement("small",null," ",n?"unique targets hit":"average"," ",n?"":1===r?"hit":"hits"," per cast"))};t.a=s,s.defaultProps={approximate:!1,unique:!1}},836:function(e,t,a){"use strict";var n=a(758),i=a(0),s=a.n(i),r=a(33),c=a(4),l=a(13);t.a=function(e,t,a){var i={generated:0,wasted:0,casts:0};if(Array.isArray(a.spell)){var o,u={id:-1,name:"",icon:""},d=Object(n.a)(a.spell);try{for(d.s();!(o=d.n()).done;){var h=o.value;t.buildersObj[h.id]&&(-1===u.id&&(u=h),i.generated+=t.buildersObj[h.id].generated,i.wasted+=t.buildersObj[h.id].wasted,i.casts+=t.buildersObj[h.id].casts)}}catch(T){d.e(T)}finally{d.f()}a.spell=u}else i=t.buildersObj[a.spell.id];if(i){var m=i.generated+i.wasted,E=i.wasted/m||0,f=t.resource.name.toLowerCase();e(E).isGreaterThan(a.minor).addSuggestion((function(e){return e(s.a.createElement(s.a.Fragment,null,"You are wasting ",f," generated by ",s.a.createElement(c.a,{id:a.spell.id}),". ",a.extraSuggestion)).icon(a.spell.icon).actual(l.i18n._({id:"shared.suggestions.resources.wasted",defaults:"{0}% wasted. Generated {1} out of {maxGenerated} possible {resourceNameLower}",values:{0:Object(r.e)(E),1:i.generated,maxGenerated:m,resourceNameLower:f}})).recommended("<".concat(Object(r.e)(a.minor),"%  ").concat(f," wasted is recommend")).regular(a.avg).major(a.major)}))}}},839:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(43),l=a(800),o=a(123),u=a(832),d=a(766),h=a(15),m=[d.a.MISS,d.a.DODGE,d.a.PARRY],E=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];(e=t.call.apply(t,[this].concat(s))).atCap=0,e.missedRegen=0,e.naturalRegen=0,e.regenState=null,e.prevSpender=null,e.hasReportedBelowCap=!1,e.debugErrorSum=0,e.debugGreatestError=0,e.debugAccuracyCheckCount=0;var l=e.currentMaxResourceWithFallback();return e.regenState={amount:l||0,max:l,regen:e.naturalRegenRate(),timestamp:e.owner.fight.start_time},e.addEventListener(h.f.fightend,e.onFightend),e.addEventListener(h.f.energize.to(c.a),e.onEnergize),e.addEventListener(h.f.cast.by(c.a),e.onCast),e.addEventListener(h.f.damage.by(c.a),e.onDamage),e.addEventListener(h.f.drain.by(c.a),e.onDrain),e.addEventListener(h.f.applybuff.to(c.a),e.onApplyBuff),e.addEventListener(h.f.removebuff.to(c.a),e.onRemoveBuff),e.addEventListener(h.f.ChangeHaste.to(c.a),e.onChangeHaste),e}return Object(i.a)(a,[{key:"current",get:function(){return this.predictValue(this.owner.currentTimestamp)}},{key:"isCapped",get:function(){return this.current>=this.regenState.max}},{key:"cappedProportion",get:function(){return this.atCap/this.owner.fightDuration}},{key:"missedRegenPerMinute",get:function(){return this.missedRegen/this.owner.fightDuration*1e3*60}}]),Object(i.a)(a,[{key:"getReducedDrain",value:function(e){return e.resourceChange}},{key:"getBaseRegenRate",value:function(){return this.constructor.baseRegenRate}},{key:"naturalRegenRate",value:function(){var e=this.getBaseRegenRate()/1e3;return this.constructor.isRegenHasted&&(e*=1+this.haste.current),e}},{key:"currentMaxResource",value:function(){return null}},{key:"processInvisibleEnergize",value:function(e){if(null==e||isNaN(e))throw new Error("processInvisibleEnergize called without required parameter. amount: ".concat(e));if(0!==e){var t=this.current,a=Math.min(t+e,this.currentMaxResourceWithFallback())-t;this.applyEnergize(a)}}},{key:"getResource",value:function(e){var t=this;return e&&e.classResources?e.classResources.find((function(e){return e.type===t.constructor.resourceType.id})):null}},{key:"getCost",value:function(e){return void 0!==e.resourceCost[this.constructor.resourceType.id]?e.resourceCost[this.constructor.resourceType.id]:this.getResource(e).cost}},{key:"combatantHasBuffActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||isNaN(e))throw new Error("combatantHasBuffActive called without required parameter. buffId: ".concat(e));t||(t=this.owner.currentTimestamp);var a=this.selectedCombatant.getBuffHistory(e);return Boolean(a.find((function(e){return e.start<=t&&(!e.end||e.end>t)})))}},{key:"onFightend",value:function(){this.updateState(this.predictValue(this.owner.fight.end_time))}},{key:"onEnergize",value:function(e){if(e.resourceChangeType===this.constructor.resourceType.id&&e.resourceChange){var t=e.waste?e.waste:0,a=e.resourceChange-t,n=this.constructor.energizersToApplyCumulatively.includes(e.ability.guid);this.applyEnergize(a,e,n)}}},{key:"applyEnergize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||isNaN(e))throw new Error("applyEnergize called without required parameter. gain: ".concat(e));var n=t?t.timestamp:this.owner.currentTimestamp,i=t?this.getResource(t):null,s=a||this.isLastUpdateRecent(n)||!i||null==i.amount,r=s?this.predictValue(n)+e:i.amount;var c=this.currentMaxResourceWithFallback(t);this.updateState(r,c)}},{key:"onCast",value:function(e){var t=this.getResource(e);if(t){var a=this.getCost(e);if(a){this.constructor.exemptFromRefund.includes(e.ability.guid)||(this.prevSpender={id:e.ability.guid,cost:a,timestamp:e.timestamp});var n=null==t.amount||this.constructor.castsToApplyCumulatively.includes(e.ability.guid)||this.isLastUpdateRecent(e.timestamp),i=(n?this.predictValue(e.timestamp):t.amount)-a;0;var s=this.currentMaxResourceWithFallback(e);this.updateState(i,s)}}}},{key:"onDamage",value:function(e){if(!(!this.prevSpender||e.ability.guid!==this.prevSpender.id||e.timestamp-this.prevSpender.timestamp>500||e.tick)&&m.includes(e.hitType)){var t=Math.floor(this.prevSpender.cost*this.constructor.resourceRefundOnMiss),a=this.predictValue(e.timestamp)+t;this.updateState(a)}}},{key:"onDrain",value:function(e){if(e.resourceChangeType===this.constructor.resourceType.id&&e.resourceChange){var t=this.getResource(e),a=this.getReducedDrain(e),n=!t||null==t.amount||this.constructor.energizersToApplyCumulatively.includes(e.ability.guid)||this.isLastUpdateRecent(e.timestamp),i=(n?this.predictValue(e.timestamp):t.amount)-a;0;var s=this.currentMaxResourceWithFallback(e);this.updateState(i,s)}}},{key:"isLastUpdateRecent",value:function(e){return this.regenState.timestamp+this.constructor.cumulativeEventWindow>=e}},{key:"onApplyBuff",value:function(e){this.constructor.buffsChangeMax.includes(e.ability.guid)&&this.buffChangesResourceMax(e),this.constructor.buffsChangeRegen.includes(e.ability.guid)&&this.buffChangesRegen()}},{key:"onRemoveBuff",value:function(e){this.constructor.buffsChangeMax.includes(e.ability.guid)&&this.buffChangesResourceMax(e),this.constructor.buffsChangeRegen.includes(e.ability.guid)&&this.buffChangesRegen()}},{key:"onChangeHaste",value:function(){var e=this.naturalRegenRate();this.updateState(null,null,e)}},{key:"buffChangesResourceMax",value:function(e){var t=this.currentMaxResourceWithFallback(e);this.updateState(null,t)}},{key:"buffChangesRegen",value:function(){var e=this.naturalRegenRate();this.updateState(null,null,e)}},{key:"updateState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.owner.currentTimestamp;(null==e||isNaN(e))&&(e=this.predictValue(n)),(null==t||isNaN(t))&&(t=this.currentMaxResourceWithFallback()),(null==a||isNaN(a))&&(a=this.naturalRegenRate()),e=t?Math.min(t,e):e;var i=this.regenState,s={amount:e,max:t,regen:a,timestamp:n};if(this.regenState=s,i){var r=this.timeCappedBetweenStates(i,s);this.atCap+=r,this.missedRegen+=r*i.regen,this.naturalRegen+=(s.timestamp-i.timestamp)*i.regen}s.amount<s.max&&this.onBelowCap(s.timestamp)}},{key:"timeCappedBetweenStates",value:function(e,t){if(!e||!t)throw new Error("timeCappedBetweenStates called without required parameters. oldState: ".concat(e,", newState: ").concat(t));var a=e.max?this.predictReachValue(e.timestamp,e.amount,e.regen,e.max):1/0;return a>=t.timestamp?0:(this.onAtCap(a),t.timestamp-a)}},{key:"currentMaxResourceWithFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.currentMaxResource();if(t)return t;var a=this.getResource(e);return a&&null!=a.max&&!isNaN(a.max)?a.max:this.regenState.max}},{key:"predictReachValue",value:function(e,t,a,n){if(null==t||isNaN(t)||null==a||isNaN(a)||null==n||isNaN(n)||null==e||isNaN(e))throw new Error("predictReachValue called without required parameters. startValue: ".concat(t,", regen: ").concat(a,", cap: ").concat(n,", startTime: ").concat(e));return t>=n?e:0===a?1/0:e+(n-t)/a}},{key:"predictValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e||(e=this.owner.currentTimestamp),e<this.regenState.timestamp)return this.regenState.amount;var t=e-this.regenState.timestamp,a=this.regenState.amount+this.regenState.regen*t;return this.regenState.max?Math.min(this.regenState.max,a):a}},{key:"onBelowCap",value:function(e){this.hasReportedBelowCap||(this.fabricateEndCap(e),this.hasReportedBelowCap=!0)}},{key:"onAtCap",value:function(e){this.hasReportedBelowCap&&(this.fabricateBeginCap(e),this.hasReportedBelowCap=!1)}},{key:"fabricateBeginCap",value:function(e){if(null==e||isNaN(e))throw new Error("fabricateBeginCap called without required parameter. time: ".concat(e));this.eventEmitter.fabricateEvent({type:"beginresourcecap",timestamp:e,sourceID:this.owner.playerId,targetID:this.owner.playerId,resourceType:this.constructor.resourceType.id})}},{key:"fabricateEndCap",value:function(e){if(null==e||isNaN(e))throw new Error("fabricateEndCap called without required parameter. time: ".concat(e));this.eventEmitter.fabricateEvent({type:"endresourcecap",timestamp:e,sourceID:this.owner.playerId,targetID:this.owner.playerId,resourceType:this.constructor.resourceType.id})}},{key:"debugActualVsPredicted",value:function(e,t){}},{key:"debugMeanPredictionError",get:function(){return this.debugErrorSum/this.debugAccuracyCheckCount}}]),a}(c.c);E.dependencies={eventEmitter:o.a,haste:l.a,spellResourceCost:u.a},E.baseRegenRate=0,E.isRegenHasted=!1,E.buffsChangeMax=[],E.buffsChangeRegen=[],E.energizersToApplyCumulatively=[],E.castsToApplyCumulatively=[],E.drainsToApplyCumulatively=[],E.cumulativeEventWindow=100,E.resourceRefundOnMiss=0,E.exemptFromRefund=[],t.a=E},840:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(88),l=a(773),o=a(3),u=a(783),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).resource=c.a.FOCUS,i}return Object(i.a)(a,[{key:"onEnergize",value:function(e){if(e.resourceChangeType===this.resource.id){var t,a=e.ability.guid,n=0;u.n.includes(a)?(t=e.resourceChange,u.i.includes(a)?t-=n=u.j*(this.selectedCombatant.hasBuff(o.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)?2:1)-t:a===o.a.ASPECT_OF_THE_WILD.id?t-=n=u.e*(this.selectedCombatant.hasBuff(o.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)?2:1)-t:a===o.a.CHIMAERA_SHOT_FOCUS.id&&(t-=n=u.q*(this.selectedCombatant.hasBuff(o.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)?2:1)-t)):(n=e.waste,t=e.resourceChange-n),this._applyBuilder(a,t,n,this.getResource(e),e.timestamp)}}},{key:"shouldProcessCastEvent",value:function(e){return!e.__fabricated&&Boolean(this.getResource(e))}}]),a}(l.a);t.a=d},861:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(753),u=a(3),d=a(15),h=a(746),m=a(747),E=a(58),f=a(751),T=a(0),p=a.n(T),g=a(748),b=a(754),O=a(802),v=a(4),A=a(759),S=a(33),_=a(5),R=a(121),y=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.damageTicks=0,i.totalProcs=0,i.resets=0,i.offCDProcs=0,i.activeKillShotSpell=i.selectedCombatant.spec===_.a.SURVIVAL_HUNTER?u.a.KILL_SHOT_SV:u.a.KILL_SHOT_MM_BM,i.spellUsable=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasCovenant(R.a.VENTHYR.id),i.active?(e.abilities.add({spell:u.a.FLAYED_SHOT,category:o.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(d.f.damage.by(l.a).spell(u.a.FLAYED_SHOT),i.onDamage),i.addEventListener(d.f.applybuff.by(l.a).spell(u.a.FLAYERS_MARK),i.onProc),i.addEventListener(d.f.refreshbuff.by(l.a).spell(u.a.FLAYERS_MARK),i.onProc),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0),this.damageTicks+=1}},{key:"onProc",value:function(e){this.totalProcs+=1,this.spellUsable.isOnCooldown(this.activeKillShotSpell.id)?(this.spellUsable.endCooldown(this.activeKillShotSpell.id,!1,e.timestamp),this.resets+=1):this.offCDProcs+=1}},{key:"statistic",value:function(){return p.a.createElement(h.a,{position:m.a.CORE(),size:"flexible",category:E.a.COVENANTS,tooltip:p.a.createElement(p.a.Fragment,null,"You had ",this.offCDProcs," ",1===this.offCDProcs?"proc":"procs"," with Kill Shot already off cooldown. ",p.a.createElement("br",null),"You had ",Object(S.e)(this.totalProcs/this.expectedProcs,1),"% procs of what you could expect to get over the encounter. ",p.a.createElement("br",null),"You had a total of ",this.totalProcs," procs, and your expected amount of procs was ",Object(S.d)(this.expectedProcs),". ",p.a.createElement("br",null),p.a.createElement("ul",null,p.a.createElement("li",null,"You have a \u2248",Object(S.e)(Object(O.a)(this.totalProcs,this.damageTicks,A.k)),"% chance of getting this amount of procs or fewer in the future with this amount of auto attacks."))),dropdown:p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{style:{padding:"8px"}},Object(O.e)(this.totalProcs,this.damageTicks,A.k),p.a.createElement("p",null,"Likelihood of getting ",p.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",p.a.createElement(v.a,{id:u.a.FLAYED_SHOT.id})," ticks.")))},p.a.createElement(g.a,{spell:u.a.FLAYED_SHOT},p.a.createElement(p.a.Fragment,null,this.resets," / ",this.totalProcs," (",Object(S.e)(this.resets/this.totalProcs),"%) ",p.a.createElement("small",null,"Kill Shot resets"),p.a.createElement("br",null),p.a.createElement(f.a,{amount:this.damage}))))}},{key:"expectedProcs",get:function(){return Object(O.c)(A.k,this.damageTicks)}}]),a}(l.c);y.dependencies={spellUsable:b.b,abilities:o.a},t.a=y},869:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(33),u=a(43),d=a(164),h=a(211),m=a(746),E=a(761),f=a(747),T=a(833),p=a(895),g=a(15),b=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).castsCancelled=0,i.castsFinished=0,i.beginCastSpell=void 0,i.wasCastStarted=!1,i.cancelledSpellList={},i.IGNORED_ABILITIES=[],i.addEventListener(g.f.begincast.by(u.a),i.onBeginCast),i.addEventListener(g.f.cast.by(u.a),i.onCast),i.addEventListener(g.f.fightend,i.onFightend),i}return Object(i.a)(a,[{key:"onBeginCast",value:function(e){var t=e.ability.guid;this.IGNORED_ABILITIES.includes(t)||T.a.includes(t)||p.a.includes(t)||(this.wasCastStarted&&void 0!==this.beginCastSpell&&e.timestamp-this.beginCastSpell.timestamp>100&&(this.castsCancelled+=1,this.addToCancelledList()),this.beginCastSpell=e,this.wasCastStarted=!0)}},{key:"onCast",value:function(e){var t=e.ability.guid,a=this.beginCastSpell&&this.beginCastSpell.ability;this.IGNORED_ABILITIES.includes(t)||T.a.includes(t)||p.a.includes(t)||!a||(a.guid!==t&&this.wasCastStarted&&(this.castsCancelled+=1,this.addToCancelledList()),a.guid===t&&this.wasCastStarted&&(this.castsFinished+=1),this.wasCastStarted=!1)}},{key:"addToCancelledList",value:function(){if(this.beginCastSpell){var e=this.beginCastSpell.ability;this.cancelledSpellList[e.guid]?this.cancelledSpellList[e.guid].amount+=1:this.cancelledSpellList[e.guid]={spellName:e.name,amount:1}}}},{key:"onFightend",value:function(){}},{key:"statistic",value:function(){return l.a.createElement(m.a,{position:f.a.CORE(10),size:"small",className:"value",tooltip:l.a.createElement(l.a.Fragment,null,"You cast ",this.totalCasts," spells.",l.a.createElement("ul",null,l.a.createElement("li",null,this.castsFinished," casts were completed"),l.a.createElement("li",null,this.castsCancelled," casts were cancelled")))},l.a.createElement(E.a,{label:"Cancelled Casts"},l.a.createElement(h.a,null)," ",Object(o.e)(this.cancelledPercentage),"% ",l.a.createElement("small",null,"Casts Cancelled")))}},{key:"totalCasts",get:function(){return this.castsCancelled+this.castsFinished}},{key:"cancelledPercentage",get:function(){return this.castsCancelled/this.totalCasts}},{key:"cancelledCastSuggestionThresholds",get:function(){return{actual:this.cancelledPercentage,isGreaterThan:{minor:.02,average:.05,major:.15},style:d.a.PERCENTAGE}}}]),a}(u.c);t.a=b},871:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(43),u=a(164),d=a(49),h=a(750),m=a(746),E=a(33),f=a(781),T=a(808),p=a(88),g=a(759),b=a(840),O=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).focusTracker=void 0,e}return Object(i.a)(a,[{key:"statistic",value:function(){return l.a.createElement(m.a,{position:h.a.CORE(11),size:"flexible",tooltip:"You wasted ".concat(this.wasted," out of ").concat(this.total," Focus from generators.")},l.a.createElement(T.a,{resource:p.a.FOCUS,value:"".concat(Object(E.e)(this.wastedPercent)," %"),label:"Wasted generator Focus"}))}},{key:"tab",value:function(){var e=this;return{title:"Focus",url:"focus",render:function(){return l.a.createElement(d.a,null,l.a.createElement(f.a,{tracker:e.focusTracker,showSpenders:!0}))}}}},{key:"wasted",get:function(){return this.focusTracker.wasted||0}},{key:"total",get:function(){return this.focusTracker.wasted+this.focusTracker.generated||0}},{key:"wastedPercent",get:function(){return this.wasted/this.total||0}},{key:"focusGeneratorWasteThresholds",get:function(){return{actual:1-this.wastedPercent,isLessThan:{minor:1-g.z,average:1-g.x,major:1-g.y},style:u.a.PERCENTAGE}}}]),a}(o.c);O.dependencies={focusTracker:b.a},t.a=O},882:function(e,t,a){"use strict";var n=a(7),i=a(31),s=a(8),r=a(9),c=a(120),l=a(66),o=a(10),u=a(11),d=a(0),h=a.n(d),m=a(88),E=a(33),f=a(750),T=a(22),p=a(839),g=a(847),b=a(788),O=a(865),v=a(15),A=a(164),S=a(759),_=a(43),R=a(13),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).bySecond={},n.addEventListener(v.f.energize.by(_.a),n.onEnergizeByPlayer),n}return Object(r.a)(a,[{key:"currentMaxResource",value:function(){return S.l}},{key:"onEnergizeByPlayer",value:function(e){var t=Math.floor((e.timestamp-this.owner.fight.start_time)/1e3);this.bySecond[t]=this.bySecond[t]||this.current}},{key:"onCast",value:function(e){Object(c.a)(Object(l.a)(a.prototype),"onCast",this).call(this,e);var t=Math.floor((e.timestamp-this.owner.fight.start_time)/1e3);this.bySecond[t]=this.bySecond[t]||this.current}},{key:"onDamage",value:function(e){Object(c.a)(Object(l.a)(a.prototype),"onDamage",this).call(this,e);var t=Math.floor((e.timestamp-this.owner.fight.start_time)/1e3);this.bySecond[t]=this.bySecond[t]||this.current}},{key:"suggestions",value:function(e){e(this.focusNaturalRegenWasteThresholds).addSuggestion((function(e,t,a){return e(h.a.createElement(h.a.Fragment,null,"You're allowing your focus to reach its cap. While at its maximum value you miss out on the focus that would have regenerated. Although it can be beneficial to let focus pool ready to be used at the right time, try to spend some before it reaches the cap.")).icon("ability_hunter_focusfire").actual(R.i18n._({id:"hunter.marksmanship.suggestions.focusCapTracker.focusLost",defaults:"{0}% regenerated focus lost due to being capped.",values:{0:Object(E.e)(1-t)}})).recommended("<".concat(Object(E.e)(a,0),"% is recommended."))}))}},{key:"statistic",value:function(){var e=this,t=Object.entries(this.bySecond).map((function(e){var t=Object(i.a)(e,2);return{time:t[0],val:t[1]}}));return h.a.createElement(g.a,{position:f.a.CORE(1),wide:!0,style:{marginBottom:20,overflow:"hidden"},large:!1,ultrawide:!1},h.a.createElement(T.b,{content:h.a.createElement(h.a.Fragment,null,"Natural Focus regen lost: ",h.a.createElement("strong",null,Object(E.f)(this.missedRegen))," ",h.a.createElement("br",null)," That is ",h.a.createElement("strong",null,Object(E.e)(this.wastedPercent),"%")," of natural regenerated focus over the course of the encounter.")},h.a.createElement("div",{className:"flex"},h.a.createElement("div",{className:"flex-sub icon"},h.a.createElement("img",{src:"/img/bullseye.png",alt:"Focus"})),h.a.createElement("div",{className:"flex-sub value",style:{width:100}},"Focus"),h.a.createElement("div",{className:"flex-main chart"},this.missedRegen>0&&h.a.createElement(b.a,{disableWidth:!0},(function(a){var n=a.height;return h.a.createElement(O.a,{data:t,duration:e.owner.fightDuration/1e3,height:n})}))))))}},{key:"wastedPercent",get:function(){return this.missedRegen/this.naturalRegen||0}},{key:"focusNaturalRegenWasteThresholds",get:function(){return{actual:1-this.wastedPercent,isLessThan:{minor:.9,average:.85,major:.8},style:A.a.PERCENTAGE}}}]),a}(p.a);y.dependencies=Object(n.a)({},p.a.dependencies),y.resourceType=m.a.FOCUS,y.baseRegenRate=S.m,y.isRegenHasted=!0,t.a=y},900:function(e,t,a){"use strict";var n=a(7),i=a(8),s=a(9),r=a(120),c=a(66),l=a(10),o=a(11),u=a(857),d=a(759),h=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"deathPercentageOfEncounter",value:function(e,t){return(t-e)/this.owner.fightDuration}},{key:"resurrect",value:function(e){this.lastResurrectionTimestamp=this.owner.currentTimestamp,this.deathPercentageOfEncounter(this.lastDeathTimestamp,this.lastResurrectionTimestamp)>d.B?Object(r.a)(Object(c.a)(a.prototype),"resurrect",this).call(this,e):(this.isAlive=!0,this.deaths.pop())}}]),a}(u.a);h.dependencies=Object(n.a)({},u.a.dependencies),t.a=h},901:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(3),u=a(43),d=a(754),h=a(33),m=a(5),E=a(746),f=a(58),T=a(747),p=a(748),g=a(15),b=a(88),O=a(759),v=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).cdrPerFocus=O.r,i.effectiveExhilReductionMs=0,i.wastedExhilReductionMs=0,i.lastFocusCost=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(o.a.NATURAL_MENDING_TALENT.id),i.active&&i.selectedCombatant.spec===m.a.BEAST_MASTERY_HUNTER&&(i.cdrPerFocus=O.e),i.addEventListener(g.f.cast.by(u.a),i.onCast),i}return Object(i.a)(a,[{key:"onCast",value:function(e){var t,a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===b.a.FOCUS.id}));if(a){this.lastFocusCost=a.cost||0;var n=this.cdrPerFocus*this.lastFocusCost;if(this.spellUsable.isOnCooldown(o.a.EXHILARATION.id)){if(this.spellUsable.cooldownRemaining(o.a.EXHILARATION.id)<n){var i=this.spellUsable.reduceCooldown(o.a.EXHILARATION.id,n);return this.effectiveExhilReductionMs+=i,void(this.wastedExhilReductionMs+=n-i)}this.effectiveExhilReductionMs+=this.spellUsable.reduceCooldown(o.a.EXHILARATION.id,n)}else this.wastedExhilReductionMs+=n}}},{key:"statistic",value:function(){return l.a.createElement(E.a,{position:T.a.OPTIONAL(14),size:"flexible",category:f.a.TALENTS},l.a.createElement(p.a,{spell:o.a.NATURAL_MENDING_TALENT},l.a.createElement(l.a.Fragment,null,Object(h.d)(this.effectiveExhilReductionMs/1e3),"s/",Object(h.d)((this.wastedExhilReductionMs+this.effectiveExhilReductionMs)/1e3),"s ",l.a.createElement("small",null," cooldown reduction"))))}}]),a}(u.c);v.dependencies={spellUsable:d.b},t.a=v},902:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(43),u=a(3),d=a(33),h=a(746),m=a(58),E=a(747),f=a(748),T=a(760),p=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).active=i.selectedCombatant.hasTalent(u.a.TRAILBLAZER_TALENT.id),i}return Object(i.a)(a,[{key:"statistic",value:function(){return l.a.createElement(h.a,{position:E.a.OPTIONAL(14),size:"flexible",category:m.a.TALENTS},l.a.createElement(f.a,{spell:u.a.TRAILBLAZER_TALENT},l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,null)," ",Object(d.e)(this.percentUptime),"% ",l.a.createElement("small",null,"uptime"))))}},{key:"percentUptime",get:function(){return this.selectedCombatant.getBuffUptime(u.a.TRAILBLAZER_BUFF.id)/this.owner.fightDuration}}]),a}(o.c);t.a=p},903:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(3),u=a(43),d=a(754),h=a(751),m=a(753),E=a(746),f=a(58),T=a(747),p=a(748),g=a(15),b=a(759),O=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=0,i.applicationTimestamp=0,i.lastDamageTick=0,i.crowsEndingTimestamp=0,i.maxCasts=0,i.resets=0,i.spellUsable=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(o.a.A_MURDER_OF_CROWS_TALENT.id),i.active&&e.abilities.add({spell:o.a.A_MURDER_OF_CROWS_TALENT,category:m.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85,maxCasts:function(){return i.maxCasts}}}),i.addEventListener(g.f.any,i.checkForReset),i.addEventListener(g.f.cast.by(u.a).spell(o.a.A_MURDER_OF_CROWS_TALENT),i.onCast),i.addEventListener(g.f.damage.by(u.a).spell(o.a.A_MURDER_OF_CROWS_DEBUFF),i.onDamage),i.addEventListener(g.f.fightend,i.adjustMaxCasts),i}return Object(i.a)(a,[{key:"checkForReset",value:function(e){this.lastDamageTick&&this.spellUsable.isOnCooldown(o.a.A_MURDER_OF_CROWS_TALENT.id)&&this.applicationTimestamp&&e.timestamp<this.crowsEndingTimestamp&&e.timestamp>this.lastDamageTick+b.b+b.s&&(this.spellUsable.endCooldown(o.a.A_MURDER_OF_CROWS_TALENT.id,!1,e.timestamp),this.maxCasts+=1,this.resets+=1)}},{key:"onCast",value:function(){this.casts+=1,this.applicationTimestamp=0,this.lastDamageTick=0}},{key:"onDamage",value:function(e){0===this.casts&&(this.casts+=1,this.spellUsable.beginCooldown(o.a.A_MURDER_OF_CROWS_TALENT.id,e),this.applicationTimestamp=this.owner.fight.start_time),0===this.lastDamageTick&&0===this.applicationTimestamp&&(this.applicationTimestamp=e.timestamp,this.crowsEndingTimestamp=this.applicationTimestamp+b.a),this.lastDamageTick=e.timestamp,this.damage+=e.amount+(e.absorbed||0)}},{key:"adjustMaxCasts",value:function(){this.maxCasts+=Math.ceil(this.owner.fightDuration/6e4)}},{key:"statistic",value:function(){return l.a.createElement(E.a,{position:T.a.OPTIONAL(13),size:"flexible",category:f.a.TALENTS},l.a.createElement(p.a,{spell:o.a.A_MURDER_OF_CROWS_TALENT},l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{amount:this.damage}),l.a.createElement("br",null),this.resets," ",l.a.createElement("small",null,"resets"))))}}]),a}(u.c);O.dependencies={spellUsable:d.b,abilities:m.a},t.a=O},904:function(e,t,a){"use strict";var n=a(12),i=a(8),s=a(9),r=a(10),c=a(11),l=a(43),o=a(3),u=a(0),d=a.n(u),h=a(5),m=a(33),E=a(746),f=a(58),T=a(747),p=a(748),g=a(15),b=a(759),O=a(782),v=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s,r;return Object(i.a)(this,a),(r=t.call(this,e))._spells=(s={},Object(n.a)(s,o.a.ASPECT_OF_THE_CHEETAH.id,{effectiveCDR:0,lastCast:0,baseCD:b.d}),Object(n.a)(s,o.a.ASPECT_OF_THE_TURTLE.id,{effectiveCDR:0,lastCast:0,baseCD:b.d}),Object(n.a)(s,o.a.ASPECT_OF_THE_EAGLE.id,{effectiveCDR:0,lastCast:0,baseCD:O.c}),s),r.hasEagle=!1,r.active=r.selectedCombatant.hasTalent(o.a.BORN_TO_BE_WILD_TALENT.id),r.hasEagle=r.selectedCombatant.spec===h.a.SURVIVAL_HUNTER,r.addEventListener(g.f.cast.by(l.a).spell(b.f),r.onCast),r}return Object(s.a)(a,[{key:"onCast",value:function(e){var t=e.ability.guid,a=this._spells[t];a.lastCast&&e.timestamp<a.lastCast+a.baseCD&&(a.effectiveCDR+=a.baseCD-(e.timestamp-a.lastCast)),a.lastCast=e.timestamp}},{key:"statistic",value:function(){return d.a.createElement(E.a,{position:T.a.OPTIONAL(14),size:"flexible",category:f.a.TALENTS,tooltip:d.a.createElement(d.a.Fragment,null,"Effective CDR constitutes the time that was left of the original CD (before reduction from Born To Be Wild) when you cast it again as that is the effective cooldown reduction it provided for you.",d.a.createElement("ul",null,this.hasEagle&&d.a.createElement("li",null,"Aspect of the Eagle: ",Object(m.d)(this._spells[o.a.ASPECT_OF_THE_EAGLE.id].effectiveCDR/1e3),"s"),d.a.createElement("li",null,"Aspect of the Cheetah: ",Object(m.d)(this._spells[o.a.ASPECT_OF_THE_CHEETAH.id].effectiveCDR/1e3),"s"),d.a.createElement("li",null,"Aspect of the Turtle: ",Object(m.d)(this._spells[o.a.ASPECT_OF_THE_TURTLE.id].effectiveCDR/1e3),"s")))},d.a.createElement(p.a,{spell:o.a.BORN_TO_BE_WILD_TALENT},d.a.createElement(d.a.Fragment,null,Object(m.d)(this.effectiveTotalCDR/1e3),"s ",d.a.createElement("small",null,"total effective CDR"))))}},{key:"effectiveTotalCDR",get:function(){return Object.values(this._spells).map((function(e){return e.effectiveCDR})).reduce((function(e,t){return e+t}),0)}}]),a}(l.c);t.a=v},905:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(43),l=a(3),o=a(0),u=a.n(o),d=a(746),h=a(58),m=a(747),E=a(748),f=a(15),T=a(5),p=a(753),g=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._roots=0,i._applications=0,i._casts=0,i.category=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(l.a.BINDING_SHOT_TALENT.id)||i.selectedCombatant.spec===T.a.MARKSMANSHIP_HUNTER,i.category=i.selectedCombatant.spec===T.a.MARKSMANSHIP_HUNTER?h.a.GENERAL:h.a.TALENTS,i.addEventListener(f.f.applydebuff.by(c.a).spell(l.a.BINDING_SHOT_ROOT),i.onRoot),i.addEventListener(f.f.applydebuff.by(c.a).spell(l.a.BINDING_SHOT_TETHER),i.onTether),i.addEventListener(f.f.cast.by(c.a).spell(l.a.BINDING_SHOT_TALENT),i.onCast),i.active&&e.abilities.add({spell:l.a.BINDING_SHOT_TALENT,category:p.a.SPELL_CATEGORIES.UTILITY,cooldown:45,gcd:{base:1500}}),i}return Object(i.a)(a,[{key:"onTether",value:function(){this._applications+=1}},{key:"onRoot",value:function(){this._roots+=1}},{key:"onCast",value:function(){this._casts+=1}},{key:"statistic",value:function(){return this._casts>0?u.a.createElement(d.a,{position:m.a.OPTIONAL(14),size:"flexible",category:this.category},u.a.createElement(E.a,{spell:l.a.BINDING_SHOT_TALENT},u.a.createElement(u.a.Fragment,null,this._roots," ",u.a.createElement("small",null,"roots")," / ",this._applications," ",u.a.createElement("small",null,"possible")," ",u.a.createElement("br",null),this._casts," ",u.a.createElement("small",null,"casts")))):null}}]),a}(c.c);g.dependencies={abilities:p.a},t.a=g},906:function(e,t,a){"use strict";var n=a(7),i=a(8),s=a(9),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(753),h=a(3),m=a(747),E=a(15),f=a(759),T=a(746),p=a(58),g=a(748),b=a(751),O=a(5),v=a(816),A=a(861),S=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).maxCasts=0,n.activeKillShotSpell=n.selectedCombatant.spec===O.a.SURVIVAL_HUNTER?h.a.KILL_SHOT_SV:h.a.KILL_SHOT_MM_BM,n.abilities=void 0,n.flayedShot=void 0,n.addEventListener(E.f.fightend,n.adjustMaxCasts),n.constructor.executeSpells.push(n.activeKillShotSpell),e.abilities.add({spell:n.activeKillShotSpell,category:d.a.SPELL_CATEGORIES.ROTATIONAL,charges:n.selectedCombatant.hasTalent(h.a.DEAD_EYE_TALENT.id)?2:1,cooldown:10,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85,maxCasts:function(){return n.maxCasts}}}),n}return Object(s.a)(a,[{key:"adjustMaxCasts",value:function(){this.maxCasts+=Math.ceil(this.totalExecuteDuration/1e4),this.selectedCombatant.hasTalent(h.a.DEAD_EYE_TALENT.id)&&(this.maxCasts+=1),this.maxCasts+=this.flayedShot.totalProcs}},{key:"statistic",value:function(){return o.a.createElement(T.a,{position:m.a.OPTIONAL(13),size:"flexible",category:p.a.GENERAL},o.a.createElement(g.a,{spell:this.activeKillShotSpell},o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{amount:this.damage}))))}}]),a}(v.a);S.executeSources=u.a,S.lowerThreshold=f.n,S.executeOutsideRangeEnablers=[h.a.FLAYERS_MARK],S.modifiesDamage=!1,S.dependencies=Object(n.a)(Object(n.a)({},v.a.dependencies),{},{abilities:d.a,flayedShot:A.a}),t.a=S},907:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(120),r=a(66),c=a(10),l=a(11),o=a(88),u=a(832),d=a(3),h=a(792),m=a(782),E=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).lockAndLoad=void 0,i.vipersVenom=void 0,i.lockAndLoad=i.selectedCombatant.hasTalent(d.a.LOCK_AND_LOAD_TALENT.id),i.vipersVenom=i.selectedCombatant.hasTalent(d.a.VIPERS_VENOM_TALENT.id),i}return Object(i.a)(a,[{key:"getResourceCost",value:function(e){var t=Object(s.a)(Object(r.a)(a.prototype),"getResourceCost",this).call(this,e),n=e.ability.guid;return this.lockAndLoad&&this.selectedCombatant.hasBuff(d.a.LOCK_AND_LOAD_BUFF.id)&&n===d.a.AIMED_SHOT.id?t*h.n:this.vipersVenom&&this.selectedCombatant.hasBuff(d.a.VIPERS_VENOM_BUFF.id)&&n===d.a.SERPENT_STING_SV.id?t*m.C:t}}]),a}(u.a);E.resourceType=o.a.FOCUS,t.a=E},908:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(753),h=a(3),m=a(15),E=a(746),f=a(747),T=a(58),p=a(748),g=a(756),b=a(760),O=a(33),v=a(209),A=a(759),S=a(121),_=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).casts=0,i.debuffs=0,i.damage=0,i.abilities=void 0,i.enemies=void 0,i.active=i.selectedCombatant.hasCovenant(S.a.KYRIAN.id),i.active?(e.abilities.add({spell:h.a.RESONATING_ARROW,category:d.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(m.f.cast.by(u.a).spell(h.a.RESONATING_ARROW),i.onCast),i.addEventListener(m.f.applydebuff.by(u.a).spell(h.a.RESONATING_ARROW_DEBUFF),i.onDebuff),i.addEventListener(m.f.damage.by(u.a).spell(h.a.RESONATING_ARROW_DAMAGE),i.onDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onCast",value:function(){this.casts+=1}},{key:"onDebuff",value:function(){this.debuffs+=1}},{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return o.a.createElement(E.a,{position:f.a.CORE(),size:"flexible",category:T.a.COVENANTS,tooltip:o.a.createElement(o.a.Fragment,null,"You had ",this.casts," ",1===this.casts?"cast":"casts"," of Resonating Arrow and applied the debuff ",this.debuffs," ",1===this.debuffs?"time":"times",".",o.a.createElement("br",null),"The direct damage of Resonating Arrow did ",this.damage," damage or ",Object(O.d)(this.damage/this.owner.fightDuration*1e3)," DPS")},o.a.createElement(p.a,{spell:h.a.RESONATING_ARROW},o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,null)," ",Object(O.e)(this.uptime),"% ",o.a.createElement("small",null," debuff uptime"),o.a.createElement("br",null),o.a.createElement(v.a,null)," ",Object(O.e)(this.uptime*A.w),"% ",o.a.createElement("small",null,"average Critical Strike"))))}},{key:"uptime",get:function(){return this.enemies.getBuffUptime(h.a.RESONATING_ARROW_DEBUFF.id)/this.owner.fightDuration}}]),a}(u.c);_.dependencies={abilities:d.a,enemies:g.a},t.a=_},909:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(753),h=a(3),m=a(15),E=a(746),f=a(747),T=a(58),p=a(748),g=a(751),b=a(88),O=a(786),v=a(121),A=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.focusGained=0,i.focusWasted=0,i.abilities=void 0,i.active=i.selectedCombatant.hasCovenant(v.a.NECROLORD.id),i.active?(e.abilities.add({spell:h.a.DEATH_CHAKRAM_INITIAL_AND_AOE,category:d.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:45,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(m.f.damage.by(u.a).spell([h.a.DEATH_CHAKRAM_SINGLE_TARGET,h.a.DEATH_CHAKRAM_INITIAL_AND_AOE]),i.onDamage),i.addEventListener(m.f.energize.by(u.a).spell(h.a.DEATH_CHAKRAM_ENERGIZE),i.onEnergize),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"onEnergize",value:function(e){this.focusGained+=e.resourceChange,this.focusWasted+=e.waste}},{key:"statistic",value:function(){return o.a.createElement(E.a,{position:f.a.CORE(),size:"flexible",category:T.a.COVENANTS},o.a.createElement(p.a,{spell:h.a.DEATH_CHAKRAM_INITIAL_AND_AOE},o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{amount:this.damage}),o.a.createElement("br",null),o.a.createElement(O.a,{id:b.a.FOCUS.id,noLink:!0})," ",this.focusGained,"/",this.focusWasted+this.focusGained,o.a.createElement("small",null," gained Focus"))))}}]),a}(u.c);A.dependencies={abilities:d.a},t.a=A},910:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(753),u=a(3),d=a(15),h=a(746),m=a(747),E=a(58),f=a(0),T=a.n(f),p=a(748),g=a(756),b=a(752),O=a(759),v=a(33),A=a(121),S=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.ampDamage=0,i.abilities=void 0,i.enemies=void 0,i.active=i.selectedCombatant.hasCovenant(A.a.NIGHT_FAE.id),i.active?(e.abilities.add({spell:u.a.WILD_SPIRITS,category:o.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:120,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(d.f.damage.by(l.a).spell([u.a.WILD_SPIRITS_DAMAGE,u.a.WILD_SPIRITS_DAMAGE_AOE]),i.onWildSpiritsDamage),i.addEventListener(d.f.damage.by(l.a),i.onDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onWildSpiritsDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"onDamage",value:function(e){var t=this.enemies.getEntity(e);t&&t.hasBuff(u.a.WILD_MARK.id)&&(this.ampDamage+=Object(b.a)(e,O.C))}},{key:"statistic",value:function(){return T.a.createElement(h.a,{position:m.a.CORE(),size:"flexible",category:E.a.COVENANTS},T.a.createElement(p.a,{spell:u.a.WILD_SPIRITS},T.a.createElement(T.a.Fragment,null,T.a.createElement("img",{src:"/img/sword.png",alt:"Damage",className:"icon"})," ",Object(v.d)(this.damage)," ",T.a.createElement("small",null," direct damage"),T.a.createElement("br",null),T.a.createElement("img",{src:"/img/sword.png",alt:"Damage",className:"icon"})," ",Object(v.d)(this.damage)," ",T.a.createElement("small",null," Wild Mark damage"))))}}]),a}(l.c);S.dependencies={abilities:o.a,enemies:g.a},t.a=S},911:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(746),h=a(747),m=a(58),E=a(759),f=a(15),T=a(3),p=a(751),g=a(752),b=a(756),O=a(121),v=a(778),A=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.enemies=void 0,i.active=i.selectedCombatant.hasCovenant(O.a.KYRIAN.id)&&i.selectedCombatant.hasConduitBySpellID(T.a.ENFEEBLED_MARK_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(T.a.ENFEEBLED_MARK_CONDUIT.id),i.addEventListener(f.f.damage.by(u.a|u.b),i.onGenericDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onGenericDamage",value:function(e){var t=this.enemies.getEntity(e);t&&t.hasBuff(T.a.RESONATING_ARROW_DEBUFF.id)&&(this.addedDamage+=Object(g.a)(e,E.j[this.conduitRank]))}},{key:"statistic",value:function(){return o.a.createElement(d.a,{position:h.a.OPTIONAL(13),size:"flexible",category:m.a.COVENANTS},o.a.createElement(v.a,{spell:T.a.ENFEEBLED_MARK_CONDUIT,rank:this.conduitRank},o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{amount:this.addedDamage}))))}}]),a}(u.c);A.dependencies={enemies:b.a},t.a=A},912:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(746),h=a(747),m=a(58),E=a(759),f=a(15),T=a(3),p=a(751),g=a(752),b=a(121),O=a(778),v=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).flayersMarkProcs=0,i.aggregatedContribution=0,i.conduitRank=0,i.addedDamage=0,i.active=i.selectedCombatant.hasCovenant(b.a.VENTHYR.id)&&i.selectedCombatant.hasConduitBySpellID(T.a.EMPOWERED_RELEASE_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(T.a.EMPOWERED_RELEASE_CONDUIT.id),i.addEventListener(f.f.applybuff.by(u.a).spell(T.a.FLAYERS_MARK),i.flayedShotProc),i.addEventListener(f.f.refreshbuff.by(u.a).spell(T.a.FLAYERS_MARK),i.flayedShotProc),i.addEventListener(f.f.damage.by(u.a).spell([T.a.KILL_SHOT_SV,T.a.KILL_SHOT_MM_BM]),i.onKillShotDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"flayedShotProc",value:function(){this.aggregatedContribution+=E.h/(E.k+E.h),this.flayersMarkProcs+=1}},{key:"onKillShotDamage",value:function(e){this.selectedCombatant.hasBuff(T.a.EMPOWERED_RELEASE_BUFF.id)&&(this.addedDamage+=Object(g.a)(e,E.i[this.conduitRank]))}},{key:"statistic",value:function(){return o.a.createElement(d.a,{position:h.a.OPTIONAL(13),size:"flexible",category:m.a.COVENANTS},o.a.createElement(O.a,{spell:T.a.EMPOWERED_RELEASE_CONDUIT,rank:this.conduitRank},o.a.createElement(o.a.Fragment,null,"\u2248 ",this.averageContributionAbsolute," ",o.a.createElement("small",null," additional procs "),o.a.createElement(p.a,{amount:this.addedDamage}))))}},{key:"averageContributionPercentage",get:function(){return this.aggregatedContribution/this.flayersMarkProcs}},{key:"averageContributionAbsolute",get:function(){return Math.round(this.averageContributionPercentage*this.flayersMarkProcs)}}]),a}(u.c);t.a=v},913:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(15),u=a(3),d=a(746),h=a(747),m=a(58),E=a(751),f=a(0),T=a.n(f),p=a(752),g=a(759),b=a(121),O=a(778),v=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.gainedFocus=0,i.wastedFocus=0,i.addedDamage=0,i.active=i.selectedCombatant.hasCovenant(b.a.NECROLORD.id)&&i.selectedCombatant.hasConduitBySpellID(u.a.NECROTIC_BARRAGE_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(u.a.NECROTIC_BARRAGE_CONDUIT.id),i.addEventListener(o.f.damage.by(l.a).spell([u.a.DEATH_CHAKRAM_SINGLE_TARGET,u.a.DEATH_CHAKRAM_INITIAL_AND_AOE]),i.onDeathChakramDamage),i.addEventListener(o.f.energize.by(l.a).spell(u.a.DEATH_CHAKRAM_ENERGIZE),i.onEnergize),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onDeathChakramDamage",value:function(e){this.addedDamage+=Object(p.a)(e,g.t[this.conduitRank])}},{key:"onEnergize",value:function(e){this.gainedFocus+=e.resourceChange,this.wastedFocus+=e.waste}},{key:"statistic",value:function(){return T.a.createElement(d.a,{position:h.a.OPTIONAL(13),size:"flexible",category:m.a.COVENANTS},T.a.createElement(O.a,{spell:u.a.NECROTIC_BARRAGE_CONDUIT,rank:this.conduitRank},T.a.createElement(T.a.Fragment,null,T.a.createElement(E.a,{amount:this.addedDamage}),this.gainedFocus,"/",this.gainedFocus+this.wastedFocus," ",T.a.createElement("small",null,"gained focus"))))}}]),a}(l.c);t.a=v},914:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(15),o=a(18),u=a(43),d=a(752),h=a(759),m=a(3),E=a(746),f=a(747),T=a(58),p=a(751),g=a(0),b=a.n(g),O=a(33),v=a(121),A=a(778),S=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.wildSpiritsCast=0,i.damageAfterOriginalDuration=0,i.active=i.selectedCombatant.hasCovenant(v.a.NIGHT_FAE.id)&&i.selectedCombatant.hasConduitBySpellID(m.a.SPIRIT_ATTUNEMENT_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(m.a.SPIRIT_ATTUNEMENT_CONDUIT.id),i.addEventListener(l.f.damage.by(o.a).spell([m.a.WILD_SPIRITS_DAMAGE,m.a.WILD_SPIRITS_DAMAGE_AOE]),i.onWildSpiritsDamage),i.addEventListener(l.f.damage.by(o.a),i.onGenericDamage),i.addEventListener(l.f.cast.by(o.a).spell(m.a.WILD_SPIRITS),i.onWildSpiritsCast),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onWildSpiritsCast",value:function(e){this.wildSpiritsCast=e.timestamp}},{key:"onWildSpiritsDamage",value:function(e){this.addedDamage+=Object(d.a)(e,h.A[this.conduitRank]),e.timestamp>this.wildSpiritsCast+h.D&&(this.damageAfterOriginalDuration+=e.amount+(e.absorbed||0))}},{key:"onGenericDamage",value:function(e){e.timestamp>this.wildSpiritsCast+h.D&&(this.damageAfterOriginalDuration+=Object(d.a)(e,h.C))}},{key:"statistic",value:function(){return b.a.createElement(E.a,{position:f.a.OPTIONAL(13),size:"flexible",category:T.a.COVENANTS,tooltip:b.a.createElement(b.a.Fragment,null,"After the original duration of Wild Spirits, Spirit Attunment contributed with ",Object(O.f)(this.damageAfterOriginalDuration))},b.a.createElement(A.a,{spell:m.a.SPIRIT_ATTUNEMENT_CONDUIT,rank:this.conduitRank},b.a.createElement(b.a.Fragment,null,b.a.createElement(p.a,{amount:this.addedDamage}),Object(O.f)(this.damageAfterOriginalDuration)," ",b.a.createElement("small",null,"damage after normal duration"))))}}]),a}(u.c);t.a=S},915:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(746),u=a(747),d=a(58),h=a(0),m=a.n(h),E=a(748),f=a(3),T=a(15),p=a(751),g=a(53),b=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.flareCasts=0,i.lastFlareCastTimestamp=0,i.tarTrapCasts=0,i.lastTarTrapCastTimestamp=0,i.lostEmberApplications=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(f.a.SOULFORGE_EMBERS_EFFECT.bonusID),i.active?(i.addEventListener(T.f.cast.by(l.a).spell(f.a.FLARE),i.onFlare),i.addEventListener(T.f.cast.by(l.a).spell(f.a.TAR_TRAP),i.onTarTrap),i.addEventListener(T.f.damage.by(l.a).spell(f.a.SOULFORGE_EMBERS_DAMAGE),i.onEmbersDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onFlare",value:function(e){this.flareCasts+=1,this.lastFlareCastTimestamp=e.timestamp}},{key:"onTarTrap",value:function(e){this.tarTrapCasts+=1,this.lastTarTrapCastTimestamp=e.timestamp}},{key:"onEmbersDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return m.a.createElement(o.a,{position:u.a.CORE(),size:"flexible",category:d.a.ITEMS},m.a.createElement(E.a,{spell:f.a.SOULFORGE_EMBERS_EFFECT},m.a.createElement(p.a,{amount:this.damage}),m.a.createElement("br",null),this.flareCasts," ",m.a.createElement(g.a,{id:f.a.FLARE.id,noLink:!0})," / ",this.tarTrapCasts," ",m.a.createElement(g.a,{id:f.a.TAR_TRAP.id,noLink:!0})))}}]),a}(l.c);t.a=b},922:function(e,t,a){"use strict";var n=a(26),i=a(8),s=a(10),r=a(11),c=a(9),l=a(43),o=a(799),u=a(746),d=a(747),h=a(15),m=a(796),E=a(33),f=a(0),T=a.n(f),p=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).listOfSpellsUsed={},n.ctor=n.constructor,n.addEventListener(h.f.cast.by(l.a).spell(n.resourceSpenders),n.onCast),n}return Object(c.a)(a,[{key:"onCast",value:function(e){var t,a=this;if(e.classResources){var n=e.ability.guid;this.spellsThatShouldShowAsOtherSpells[n]&&(e.ability=this.spellsThatShouldShowAsOtherSpells[n],n=e.ability.guid);var i=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===a.resourceTypeID}));i&&(this.listOfSpellsUsed[n]||(this.listOfSpellsUsed[n]={casts:0,resourceUsed:0}),this.listOfSpellsUsed[n].casts+=1,this.listOfSpellsUsed[n].resourceUsed+=i.cost||0)}}},{key:"makeResourceUsageTooltip",value:function(e){return T.a.createElement(T.a.Fragment,null,e.casts," casts",T.a.createElement("br",null),Object(E.d)(e.resourceUsed)," ",this.resourceTypeName," spent")}},{key:"sortResourceUsage",value:function(e,t){var a=0;return e.value>t.value?a=-1:e.value<t.value&&(a=1),a}},{key:"statistic",value:function(){return T.a.createElement(u.a,{position:this.resourceUsageStatisticOrder},T.a.createElement("div",{className:"pad"},T.a.createElement("label",null,T.a.createElement(m.a,{id:this.resourceTypeID})," usage"),this.resourceUsageChart))}},{key:"resourceSpenders",get:function(){return this.ctor.listOfResourceSpenders}},{key:"resourceTypeID",get:function(){return this.ctor.resourceType.id}},{key:"resourceTypeName",get:function(){return this.ctor.resourceType.name}},{key:"listOfDefaultColours",get:function(){return this.ctor.listOfDefaultColours}},{key:"spellsThatShouldShowAsOtherSpells",get:function(){return this.ctor.spellsThatShouldShowAsOtherSpells}},{key:"resourceUsageStatisticOrder",get:function(){return this.ctor.statisticOrder}},{key:"resourceUsageChart",get:function(){var e=this,t=[],a=0;return this.resourceSpenders.forEach((function(n){e.listOfSpellsUsed[n.id]&&e.listOfSpellsUsed[n.id].resourceUsed>0&&(t.push({color:e.listOfDefaultColours[a],label:n.name,spellId:n.id,value:Math.round(e.listOfSpellsUsed[n.id].resourceUsed),valueTooltip:e.makeResourceUsageTooltip(e.listOfSpellsUsed[n.id])}),a+=1)})),t.sort(this.sortResourceUsage),T.a.createElement(o.a,{items:t})}}]),a}(l.c);p.resourceType=void 0,p.listOfResourceSpenders=[],p.spellsThatShouldShowAsOtherSpells={},p.listOfDefaultColours=["#ecd1b6","#abff3d","#ecda4c","#ff7d0a","#4ce4ec","#8b8dec","#00ec62"],p.statisticOrder=d.a.CORE(12);var g=p,b=a(759),O=a(88),v=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(g);v.resourceType=O.a.FOCUS,v.listOfResourceSpenders=Object(n.a)(b.o);t.a=v},970:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(43),u=a(164),d=a(3),h=a(751),m=a(827),E=a(764),f=a(4),T=a(746),p=a(58),g=a(747),b=a(748),O=a(15),v=a(759),A=a(13),S=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=[],i.hits=0,i.uniqueTargets=[],i.uniqueTargetsHit=0,i.inefficientCasts=0,i.active=i.selectedCombatant.hasTalent(d.a.BARRAGE_TALENT.id),i.addEventListener(O.f.cast.by(o.a).spell(d.a.BARRAGE_TALENT),i.onCast),i.addEventListener(O.f.damage.by(o.a).spell(d.a.BARRAGE_DAMAGE),i.onDamage),i.addEventListener(O.f.fightend,i.calculateAverageHits),i}return Object(i.a)(a,[{key:"onCast",value:function(){this.casts.push({hits:0,averageHits:0}),this.uniqueTargets=[]}},{key:"onDamage",value:function(e){var t=Object(E.b)(e.targetID,e.targetInstance);this.uniqueTargets.includes(t)||(this.uniqueTargetsHit+=1,this.uniqueTargets.push(t));var a=e.amount+(e.absorbed||0);null!==this.currentCast&&(this.currentCast.hits+=1),this.hits+=1,this.damage+=a}},{key:"calculateAverageHits",value:function(){var e=this;this.casts.forEach((function(t){t.averageHits=t.hits/v.c,t.averageHits<1&&(e.inefficientCasts+=1)}))}},{key:"suggestions",value:function(e){e(this.barrageInefficientCastsThreshold).addSuggestion((function(e,t,a){return e(l.a.createElement(l.a.Fragment,null,"You cast ",l.a.createElement(f.a,{id:d.a.BARRAGE_TALENT.id})," inefficiently ",t," ",t>1?"times":"time"," throughout the fight. This means you didn't hit all ",v.c," shots of your barrage channel. Remember to always be facing your target when channelling ",l.a.createElement(f.a,{id:d.a.BARRAGE_TALENT.id}),". ")).icon(d.a.BARRAGE_TALENT.icon).actual(A.i18n._({id:"hunter.shared.suggestions.barrage.efficiency",defaults:"{actual} inefficient {0}",values:{0:t>1?"casts":"cast",actual:t}})).recommended("".concat(a," is recommended"))}))}},{key:"statistic",value:function(){return l.a.createElement(T.a,{position:g.a.OPTIONAL(20),size:"flexible",category:p.a.TALENTS},l.a.createElement(b.a,{spell:d.a.BARRAGE_TALENT},l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{amount:this.damage})," ",l.a.createElement("br",null),l.a.createElement(m.a,{casts:this.casts.length,hits:this.hits}),l.a.createElement("br",null),l.a.createElement(m.a,{casts:this.casts.length,hits:this.uniqueTargetsHit,unique:!0}))))}},{key:"currentCast",get:function(){return 0===this.casts.length?null:this.casts[this.casts.length-1]}},{key:"barrageInefficientCastsThreshold",get:function(){return{actual:this.inefficientCasts,isGreaterThan:{minor:0,average:0,major:1},style:u.a.NUMBER}}}]),a}(o.c);t.a=S}}]);
//# sourceMappingURL=MarksmanshipHunter.b385573b.chunk.js.map
(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[31],{743:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),r=a(11),s=a(776),c=a(755),l=a(7),o=a(9),u=a(3),d=a(753),h=a(756),E=a(37),f=a.n(E),g=a(1005),m=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e,i){var r;return Object(n.a)(this,a),(r=t.call(this,e,i)).antiFillerSpam=null,r._owner=e,r._setProps(i),r}return a}(g.a);m.propTypes=Object(l.a)(Object(l.a)({},g.a.propTypes),{},{antiFillerSpam:f.a.shape({isFiller:f.a.oneOfType([f.a.func,f.a.number]),isHighPriority:f.a.oneOfType([f.a.func,f.a.number])})});var b=m,T=function(e,t){return e/(1+t)},A=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"spellbook",value:function(){var e=this,t=this.selectedCombatant;return[{spell:u.a.MANGLE_BEAR,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(e){return t.hasBuff(u.a.INCARNATION_GUARDIAN_OF_URSOC_TALENT.id)?T(1.5,e):T(6,e)},gcd:{base:1500},antiFillerSpam:{isHighPriority:!0},castEfficiency:{suggestion:!0,recommendedEfficiency:.7,averageIssueEfficiency:.6,majorIssueEfficiency:.5},timelineSortIndex:1},{spell:u.a.THRASH_BEAR,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(e){return t.hasBuff(u.a.INCARNATION_GUARDIAN_OF_URSOC_TALENT.id)?T(1.5,e):T(6,e)},gcd:{base:1500},antiFillerSpam:{isHighPriority:!0},castEfficiency:{suggestion:!0},timelineSortIndex:2},{spell:u.a.MOONFIRE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},antiFillerSpam:{isFiller:function(a,n,i){return(!t.hasTalent(u.a.GALACTIC_GUARDIAN_TALENT.id)||!n.hasBuff(u.a.GALACTIC_GUARDIAN.id))&&!(!e.enemies.getEntity(a)||!e.enemies.getEntity(a).hasBuff(u.a.MOONFIRE_BEAR.id,a.timestamp))},isHighPriority:function(e,t){var a=e.timestamp;return t.hasBuff(u.a.GALACTIC_GUARDIAN.id,a-500)}},timelineSortIndex:3},{spell:u.a.SWIPE_BEAR,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},antiFillerSpam:{isFiller:function(e,t,a){return a.length<4}},timelineSortIndex:4},{spell:u.a.MAUL,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},timelineSortIndex:5},{spell:u.a.SHRED,enabled:t.hasTalent(u.a.FERAL_AFFINITY_TALENT_GUARDIAN.id),category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:u.a.RAKE,enabled:t.hasTalent(u.a.FERAL_AFFINITY_TALENT_GUARDIAN.id),category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:u.a.RIP,enabled:t.hasTalent(u.a.FERAL_AFFINITY_TALENT_GUARDIAN.id),category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:u.a.FEROCIOUS_BITE,enabled:t.hasTalent(u.a.FERAL_AFFINITY_TALENT_GUARDIAN.id),category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{static:1e3}},{spell:u.a.BARKSKIN,buffSpellId:u.a.BARKSKIN.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:t.hasTalent(u.a.SURVIVAL_OF_THE_FITTEST_TALENT.id)?60:90,timelineSortIndex:9},{spell:u.a.SURVIVAL_INSTINCTS,buffSpellId:u.a.SURVIVAL_INSTINCTS.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:t.hasTalent(u.a.SURVIVAL_OF_THE_FITTEST_TALENT.id)?160:240,charges:2,timelineSortIndex:9},{spell:u.a.INCARNATION_GUARDIAN_OF_URSOC_TALENT,category:a.SPELL_CATEGORIES.SEMI_DEFENSIVE,gcd:{base:1500},cooldown:180,enabled:t.hasTalent(u.a.INCARNATION_GUARDIAN_OF_URSOC_TALENT.id),timelineSortIndex:9},{spell:u.a.BRISTLING_FUR_TALENT,buffSpellId:u.a.BRISTLING_FUR_TALENT.id,isDefensive:!0,category:a.SPELL_CATEGORIES.COOLDOWNS,gcd:{base:1500},cooldown:40,enabled:t.hasTalent(u.a.BRISTLING_FUR_TALENT.id),timelineSortIndex:9},{spell:u.a.IRONFUR,buffSpellId:u.a.IRONFUR.id,category:a.SPELL_CATEGORIES.DEFENSIVE,timelineSortIndex:7},{spell:u.a.FRENZIED_REGENERATION,buffSpellId:u.a.FRENZIED_REGENERATION.id,category:a.SPELL_CATEGORIES.DEFENSIVE,gcd:{base:1500},cooldown:function(e){return T(36,e)},charges:2,timelineSortIndex:8},{spell:u.a.PULVERIZE_TALENT,category:a.SPELL_CATEGORIES.DEFENSIVE,enabled:t.hasTalent(u.a.PULVERIZE_TALENT.id),gcd:{base:1500},antiFillerSpam:{isHighPriority:function(e,a,n){var i=e.timestamp,r=e.targetID,s=t.hasTalent(u.a.PULVERIZE_TALENT.id),c=n.find((function(e){return e.id===r}));if(!c)return!1;var l=c.hasBuff(u.a.THRASH_BEAR_DOT.id,i).stacks>=2;return s&&l}},timelineSortIndex:6},{spell:u.a.STAMPEDING_ROAR_BEAR,category:a.SPELL_CATEGORIES.UTILITY,cooldown:120,gcd:{base:1500}},{spell:u.a.GROWL,category:a.SPELL_CATEGORIES.UTILITY},{spell:u.a.SKULL_BASH,category:a.SPELL_CATEGORIES.UTILITY},{spell:u.a.BEAR_FORM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:u.a.CAT_FORM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:u.a.TRAVEL_FORM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:u.a.MOONKIN_FORM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:u.a.REBIRTH,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:u.a.INCAPACITATING_ROAR,category:a.SPELL_CATEGORIES.UTILITY,enabled:!t.hasTalent(u.a.INTIMIDATING_ROAR_TALENT.id),cooldown:30,gcd:{base:1500}},{spell:u.a.INTIMIDATING_ROAR_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:t.hasTalent(u.a.INTIMIDATING_ROAR_TALENT.id),cooldown:30,gcd:{base:1500}},{spell:u.a.TYPHOON,category:a.SPELL_CATEGORIES.UTILITY,enabled:t.hasTalent(u.a.TYPHOON_TALENT.id),cooldown:30,gcd:{base:1500}},{spell:u.a.MASS_ENTANGLEMENT_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:t.hasTalent(u.a.MASS_ENTANGLEMENT_TALENT.id),cooldown:30,gcd:{base:1500}},{spell:u.a.MIGHTY_BASH_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:t.hasTalent(u.a.MIGHTY_BASH_TALENT.id),cooldown:50,gcd:{base:1500}},{spell:[u.a.WILD_CHARGE_TALENT,u.a.WILD_CHARGE_MOONKIN,u.a.WILD_CHARGE_CAT,u.a.WILD_CHARGE_BEAR,u.a.WILD_CHARGE_TRAVEL],category:a.SPELL_CATEGORIES.UTILITY,cooldown:15,gcd:null,enabled:t.hasTalent(u.a.WILD_CHARGE_TALENT.id)},{spell:u.a.DASH,buffSpellId:u.a.DASH.id,category:a.SPELL_CATEGORIES.UTILITY,enabled:!t.hasTalent(u.a.TIGER_DASH_TALENT.id),cooldown:180,gcd:{base:1500}},{spell:u.a.TIGER_DASH_TALENT,buffSpellId:u.a.TIGER_DASH_TALENT.id,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,enabled:t.hasTalent(u.a.TIGER_DASH_TALENT.id),gcd:{base:1500}},{spell:u.a.HIBERNATE,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:u.a.SOOTHE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:10,gcd:{base:1500}}]}}]),a}(d.a);A.ABILITY_CLASS=b,A.dependencies=Object(l.a)(Object(l.a)({},d.a.dependencies),{},{enemies:h.a});var p=A,O=a(43),R=a(764),y=a(15),I=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._targetActivity={},i.addEventListener(y.f.damage.by(O.a),i.onDamage),i}return Object(o.a)(a,[{key:"onDamage",value:function(e){if(!1===e.targetIsFriendly&&void 0!==e.targetID){var t=Object(R.b)(e.targetID,e.targetInstance);this.registerEnemyActivity(t,this.owner.currentTimestamp)}}},{key:"registerEnemyActivity",value:function(e,t){this._targetActivity[e]||(this._targetActivity[e]=[]);var a=this._targetActivity[e];if(0!==a.length){var n=a[a.length-1];n.end>t?n.end=t+3e3:a.push({start:t,end:t+3e3})}else a.push({start:t,end:t+3e3})}},{key:"isTargetActive",value:function(e,t){return!!this._targetActivity[e]&&this._targetActivity[e].findIndex((function(e){return e.start<t&&e.end>t}))>=0}},{key:"getActiveTargets",value:function(e){var t=this;return Object.keys(this._targetActivity).filter((function(a){return t.isTargetActive(a,e)}))}}]),a}(O.c),_=a(0),v=a.n(_),G=a(33),L=a(53),S=a(4),N=a(750),k=a(754),P=a(13),C=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalProcs=0,i.lastGoreProcTime=0,i.consumedGoreProc=0,i.overwrittenGoreProc=0,i.nonGoreMangle=0,i.statisticOrder=N.a.CORE(5),i.addEventListener(y.f.applybuff.by(O.a).spell(u.a.GORE_BEAR),i.onApplyBuff),i.addEventListener(y.f.refreshbuff.by(O.a).spell(u.a.GORE_BEAR),i.onRefreshBuff),i.addEventListener(y.f.cast.by(O.a).spell(u.a.MANGLE_BEAR),i.onCast),i}return Object(o.a)(a,[{key:"onApplyBuff",value:function(e){this.spellUsable.isOnCooldown(u.a.MANGLE_BEAR.id)&&this.spellUsable.endCooldown(u.a.MANGLE_BEAR.id),this.lastGoreProcTime=e.timestamp,this.totalProcs+=1}},{key:"onRefreshBuff",value:function(e){this.spellUsable.isOnCooldown(u.a.MANGLE_BEAR.id)&&this.spellUsable.endCooldown(u.a.MANGLE_BEAR.id),this.lastGoreProcTime=e.timestamp,this.totalProcs+=1,this.overwrittenGoreProc+=1}},{key:"onCast",value:function(e){if(this.lastGoreProcTime!==e.timestamp){if(0===this.lastGoreProcTime)return void(this.nonGoreMangle+=1);var t=this.lastGoreProcTime+1e4;e.timestamp>t?this.nonGoreMangle+=1:(this.consumedGoreProc+=1,this.lastGoreProcTime=0)}}},{key:"suggestions",value:function(e){var t=1-this.consumedGoreProc/this.totalProcs;e(t).isGreaterThan(.3).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null,"You wasted ",Object(G.e)(t),"% of your ",v.a.createElement(S.a,{id:u.a.GORE_BEAR.id})," procs. Try to use the procs as soon as you get them so they are not overwritten.")).icon(u.a.GORE_BEAR.icon).actual(P.i18n._({id:"druid.guardian.suggestions.gore.unused",defaults:"{0}% unused",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(n)),"% or less is recommended")).regular(n+.15).major(n+.3)}))}},{key:"statistic",value:function(){var e=1-this.consumedGoreProc/this.totalProcs;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.GORE_BEAR.id}),value:"".concat(Object(G.e)(e),"%"),label:"Unused Gore Procs",tooltip:v.a.createElement(v.a.Fragment,null,"You got total ",v.a.createElement("strong",null,this.totalProcs)," gore procs and ",v.a.createElement("strong",null,"used ",this.consumedGoreProc)," of them.")})}}]),a}(O.c);C.dependencies={spellUsable:k.b};var j=C,F=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).GGProcsTotal=0,e.lastGGProcTime=0,e.consumedGGProc=0,e.overwrittenGGProc=0,e.nonGGMoonFire=0,e.statisticOrder=N.a.CORE(6),e.active=e.selectedCombatant.hasTalent(u.a.GALACTIC_GUARDIAN_TALENT.id),e.addEventListener(y.f.applybuff.by(O.a).spell(u.a.GALACTIC_GUARDIAN),e.onApplyBuff),e.addEventListener(y.f.refreshbuff.by(O.a).spell(u.a.GALACTIC_GUARDIAN),e.onRefreshBuff),e.addEventListener(y.f.cast.by(O.a).spell(u.a.MOONFIRE),e.onCast),e}return Object(o.a)(a,[{key:"onApplyBuff",value:function(e){this.lastGGProcTime=e.timestamp,this.GGProcsTotal+=1}},{key:"onRefreshBuff",value:function(e){this.lastGGProcTime=e.timestamp,this.GGProcsTotal+=1,this.overwrittenGGProc+=1}},{key:"onCast",value:function(e){if(this.lastGGProcTime!==e.timestamp){if(null===this.lastGGProcTime)return void(this.nonGGMoonFire+=1);var t=this.lastGGProcTime+1e4;e.timestamp>t?this.nonGGMoonFire+=1:(this.consumedGGProc+=1,this.lastGGProcTime=null)}}},{key:"suggestions",value:function(e){var t=1-this.consumedGGProc/this.GGProcsTotal;e(t).isGreaterThan(.3).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null,"You wasted ",Object(G.e)(t),"% of your ",v.a.createElement(S.a,{id:u.a.GALACTIC_GUARDIAN.id})," procs. Try to use the procs as soon as you get them so they are not overwritten.")).icon(u.a.GALACTIC_GUARDIAN.icon).actual(P.i18n._({id:"druid.guardian.suggestions.galacticGuardian.unused",defaults:"{0}% unused",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(n)),"% or less is recommended")).regular(n+.15).major(n+.3)}))}},{key:"statistic",value:function(){var e=1-this.consumedGGProc/this.GGProcsTotal;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.GALACTIC_GUARDIAN.id}),value:"".concat(Object(G.e)(e),"%"),label:"Unused Galactic Guardian",tooltip:v.a.createElement(v.a.Fragment,null,"You got total ",v.a.createElement("strong",null,this.GGProcsTotal)," galactic guardian procs and ",v.a.createElement("strong",null,"used ",this.consumedGGProc)," of them.")})}}]),a}(O.c),w=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).GoEProcsTotal=0,e.lastGoEProcTime=0,e.consumedGoEProc=0,e.overwrittenGoEProc=0,e.nonGoEIronFur=0,e.GoEIronFur=0,e.nonGoEFRegen=0,e.GoEFRegen=0,e.statisticOrder=N.a.CORE(7),e.active=e.selectedCombatant.hasTalent(u.a.GUARDIAN_OF_ELUNE_TALENT.id),e.addEventListener(y.f.applybuff.by(O.a).spell(u.a.GUARDIAN_OF_ELUNE),e.onApplyBuff),e.addEventListener(y.f.refreshbuff.by(O.a).spell(u.a.GUARDIAN_OF_ELUNE),e.onRefreshBuff),e.addEventListener(y.f.cast.by(O.a).spell(u.a.IRONFUR),e.onCastIronfur),e.addEventListener(y.f.cast.by(O.a).spell(u.a.FRENZIED_REGENERATION),e.onCastFrenziedRegen),e}return Object(o.a)(a,[{key:"onApplyBuff",value:function(e){this.lastGoEProcTime=e.timestamp,this.GoEProcsTotal+=1}},{key:"onRefreshBuff",value:function(e){this.lastGoEProcTime=e.timestamp,this.GoEProcsTotal+=1,this.overwrittenGoEProc+=1}},{key:"onCastIronfur",value:function(e){if(this.lastGoEProcTime!==e.timestamp){if(null===this.lastGoEProcTime)return void(this.nonGoEIronFur+=1);var t=this.lastGoEProcTime+15e3;e.timestamp>t?this.nonGoEIronFur+=1:(this.consumedGoEProc+=1,this.GoEIronFur+=1,this.lastGoEProcTime=null)}}},{key:"onCastFrenziedRegen",value:function(e){if(this.lastGoEProcTime!==e.timestamp){if(null===this.lastGoEProcTime)return void(this.nonGoEFRegen+=1);var t=this.lastGoEProcTime+15e3;e.timestamp>t?this.nonGoEFRegen+=1:(this.consumedGoEProc+=1,this.GoEFRegen+=1,this.lastGoEProcTime=null)}}},{key:"suggestions",value:function(e){var t=1-this.consumedGoEProc/this.GoEProcsTotal;e(t).isGreaterThan(.3).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null,"You wasted ",Object(G.e)(t),"% of your ",v.a.createElement(S.a,{id:u.a.GUARDIAN_OF_ELUNE.id})," procs. Try to use the procs as soon as you get them so they are not overwritten.")).icon(u.a.GUARDIAN_OF_ELUNE.icon).actual(P.i18n._({id:"druid.guardian.suggestions.guardianOfElune.unused",defaults:"{0}% unused",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(n)),"% or less is recommended")).regular(n+.15).major(n+.3)}))}},{key:"statistic",value:function(){var e=1-this.consumedGoEProc/this.GoEProcsTotal;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.GUARDIAN_OF_ELUNE.id}),value:"".concat(Object(G.e)(e),"%"),label:"Unused Guardian of Elune",tooltip:v.a.createElement(v.a.Fragment,null,"You got total ",v.a.createElement("strong",null,this.GoEProcsTotal)," guardian of elune procs and ",v.a.createElement("strong",null,"used ",this.consumedGoEProc)," of them.")})}}]),a}(O.c),M=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).statisticOrder=N.a.CORE(9),e.active=e.selectedCombatant.hasTalent(u.a.GUARDIAN_OF_ELUNE_TALENT.id),e}return Object(o.a)(a,[{key:"statistic",value:function(){var e=this.guardianOfElune.nonGoEIronFur,t=this.guardianOfElune.GoEIronFur;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.IRONFUR.id}),value:"".concat(Object(G.e)(e/(e+t)),"%"),label:"Unbuffed Ironfur",tooltip:v.a.createElement(v.a.Fragment,null,"You cast ",v.a.createElement("strong",null,e+t)," total ",u.a.IRONFUR.name," and ",v.a.createElement("strong",null,t)," were buffed by 2s.")})}}]),a}(O.c);M.dependencies={guardianOfElune:w};var U=M,D=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).statisticOrder=N.a.CORE(8),e.active=e.selectedCombatant.hasTalent(u.a.GUARDIAN_OF_ELUNE_TALENT.id),e}return Object(o.a)(a,[{key:"statistic",value:function(){var e=this.guardianOfElune.nonGoEFRegen,t=this.guardianOfElune.GoEFRegen;return e+t===0?null:v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.FRENZIED_REGENERATION.id}),value:"".concat(Object(G.e)(e/(e+t)),"%"),label:"Unbuffed Frenzied Regen",tooltip:v.a.createElement(v.a.Fragment,null,"You cast ",v.a.createElement("strong",null,e+t)," total ",u.a.FRENZIED_REGENERATION.name," and ",v.a.createElement("strong",null,t)," were buffed by 20%.")})}}]),a}(O.c);D.dependencies={guardianOfElune:w};var B,H=D,Y=a(12),W=a(88),V=(B={},Object(Y.a)(B,u.a.MELEE.id,"Melee"),Object(Y.a)(B,u.a.MANGLE_BEAR.id,"Mangle"),Object(Y.a)(B,u.a.THRASH_BEAR.id,"Thrash"),Object(Y.a)(B,u.a.MOONFIRE.id,"Moonfire (Galactic Guardian)"),Object(Y.a)(B,u.a.BLOOD_FRENZY_TICK.id,"Blood Frenzy"),Object(Y.a)(B,u.a.BRISTLING_FUR.id,"Bristling Fur"),Object(Y.a)(B,u.a.OAKHEARTS_PUNY_QUODS_BUFF.id,"Oakheart's Puny Quods"),Object(Y.a)(B,u.a.PURE_RAGE_POTION.id,"Pure Rage Potion"),B),x=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).rageWastedBySpell={},i.totalRageGained=0,i._currentRawRage=0,i._currentMaxRage=0,i.addEventListener(y.f.energize.by(O.a),i.onEnergize),i.addEventListener(y.f.cast.by(O.a),i.onCast),i}return Object(o.a)(a,[{key:"totalWastedRage",get:function(){var e=this;return Object.keys(this.rageWastedBySpell).map((function(t){return e.rageWastedBySpell[t]})).reduce((function(e,t){return e+t}),0)}},{key:"wastedRageRatio",get:function(){return this.totalWastedRage/this.totalRageGained}},{key:"wastedRageBreakdown",get:function(){var e=this;return Object.keys(this.rageWastedBySpell).map((function(t){return V[t]||console.warn("Unknown rage generator:",t),{name:V[t],waste:e.rageWastedBySpell[t]}})).sort((function(e,t){return t.waste-e.waste})).reduce((function(e,t){return v.a.createElement(v.a.Fragment,null,e,v.a.createElement("br",null),t.name,": ",t.waste)}),"Rage wasted per spell:")}}]),Object(o.a)(a,[{key:"synchronizeRage",value:function(e){if(e.classResources){var t=e.classResources.find((function(e){return e.type===W.a.RAGE.id}));t&&(this._currentRawRage=t.amount,this._currentMaxRage=t.max)}else console.log("no classResources",e)}},{key:"registerRageWaste",value:function(e,t){this.rageWastedBySpell[e]?this.rageWastedBySpell[e]+=t:this.rageWastedBySpell[e]=t}},{key:"onEnergize",value:function(e){this.synchronizeRage(e),e.resourceChangeType===W.a.RAGE.id&&(e.waste>0&&this.registerRageWaste(e.ability.guid,e.waste),this.totalRageGained+=e.resourceChange+e.waste)}},{key:"onCast",value:function(e){if(e.ability.guid===u.a.MELEE.id){if(this._currentRawRage+60>this._currentMaxRage){var t=Math.floor((this._currentRawRage+60-this._currentMaxRage)/10);this.registerRageWaste(e.ability.guid,t)}this.totalRageGained+=6}this.synchronizeRage(e)}},{key:"suggestions",value:function(e){e(this.wastedRageRatio).isGreaterThan(0).addSuggestion((function(e,t,a){return e(v.a.createElement("span",null,"You are wasting rage.  Try to spend rage before you reach the rage cap so you aren't losing out on potential ",v.a.createElement(S.a,{id:u.a.IRONFUR.id}),"s or ",v.a.createElement(S.a,{id:u.a.MAUL.id}),"s.")).icon(u.a.BRISTLING_FUR.icon).actual(P.i18n._({id:"druid.guardian.suggestions.rage.wasted",defaults:"{0}% wasted rage",values:{0:Object(G.e)(t)}})).recommended("".concat(Object(G.e)(a),"% is recommended")).regular(a+.02).major(a+.05)}))}},{key:"statistic",value:function(){return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.BRISTLING_FUR.id}),label:"Wasted Rage",value:"".concat(Object(G.e)(this.wastedRageRatio),"%"),tooltip:v.a.createElement(v.a.Fragment,null,"You wasted ",v.a.createElement("strong",null,this.totalWastedRage)," rage out of ",v.a.createElement("strong",null,this.totalRageGained)," total rage gained. (",v.a.createElement("strong",null,Object(G.e)(this.wastedRageRatio),"%")," of total)",v.a.createElement("br",null),v.a.createElement("br",null),this.wastedRageBreakdown)})}}]),a}(O.c);function Z(e){if("function"===typeof e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.apply(void 0,a)}return e}var z=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._totalGCDSpells=0,i._totalFillerSpells=0,i._unnecessaryFillerSpells=0,i.addEventListener(y.f.cast.by(O.a),i.onCast),i}return Object(o.a)(a,[{key:"fillerSpamPercentage",get:function(){return this._unnecessaryFillerSpells/this._totalGCDSpells}}]),Object(o.a)(a,[{key:"onCast",value:function(e){var t=this,a=e.ability.guid,n=this.abilities.getAbility(a);if(n&&n.gcd){this._totalGCDSpells+=1;var i=this.activeTargets.getActiveTargets(e.timestamp).map((function(e){return t.enemyInstances.enemies[e]})).filter((function(e){return Boolean(e)})),r=this.selectedCombatant,s=!1;if(n.antiFillerSpam&&(s="function"===typeof n.antiFillerSpam.isFiller?n.antiFillerSpam.isFiller(e,r,i):n.antiFillerSpam.isFiller),s){this._totalFillerSpells+=1;var c=[];if(this.abilities.abilities.filter((function(e){return e.antiFillerSpam})).forEach((function(a){var s=a.primarySpell.id;if(n.primarySpell.id!==s){var l=t.spellUsable.isAvailable(s),o=[e,r,i],u=void 0!==a.antiFillerSpam.isHighPriority&&Z.apply(void 0,[a.antiFillerSpam.isHighPriority].concat(o));l&&u&&c.push(a)}})),c.length>0){this._unnecessaryFillerSpells+=1;for(var l="",o=0;o<c.length;o+=1)c[o].primarySpell.id===u.a.MOONFIRE.id?l+="a Galactic Guardian proc":l+=c[o].name,o+2<c.length?l+=", ":o+1<c.length&&(l+=" and ");e.meta=e.meta||{},e.meta.isInefficientCast=!0,e.meta.inefficientCastReason="This spell was cast while ".concat(l," was available.")}}}}},{key:"statistic",value:function(){return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.SWIPE_BEAR.id}),value:"".concat(Object(G.e)(this.fillerSpamPercentage),"%"),label:"Unnecessary Fillers",tooltip:v.a.createElement(v.a.Fragment,null,"You cast ",v.a.createElement("strong",null,this._unnecessaryFillerSpells)," unnecessary filler spells out of ",v.a.createElement("strong",null,this._totalGCDSpells)," total GCDs. Filler spells (Swipe, Moonfire without a GG proc, or Moonfire outside of pandemic if talented into Incarnation) do far less damage than your main rotational spells, and should be minimized whenever possible.")})}},{key:"suggestions",value:function(e){e(this.fillerSpamPercentage).isGreaterThan(.1).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"You are casting too many unnecessary filler spells. Try to plan your casts two or three GCDs ahead of time to anticipate your main rotational spells coming off cooldown, and to give yourself time to react to ",v.a.createElement(S.a,{id:u.a.GORE_BEAR.id})," and ",v.a.createElement(S.a,{id:u.a.GALACTIC_GUARDIAN_TALENT.id})," procs.")).icon(u.a.SWIPE_BEAR.icon).actual(P.i18n._({id:"druid.guardian.suggestions.fillerSpells.efficiency",defaults:"{0}% unnecessary filler spells cast",values:{0:Object(G.e)(t)}})).recommended("".concat(Object(G.e)(a,0),"% or less is recommended")).regular(a+.05).major(a+.1)}))}}]),a}(O.c);z.dependencies={enemyInstances:R.a,activeTargets:I,spellUsable:k.b,abilities:p};var K=z,J=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).buffCheckPhysical=[u.a.IRONFUR.id],e.buffCheckPhysAndMag=[u.a.FRENZIED_REGENERATION.id,u.a.BARKSKIN.id,u.a.SURVIVAL_INSTINCTS.id],e}return a}(a(849).a),Q=a(826),q=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._hitsPerStack=[],i.addEventListener(y.f.damage.to(O.a),i.onDamageTaken),i.addEventListener(y.f.fightend,i.onFightend),i}return Object(o.a)(a,[{key:"hitsMitigated",get:function(){return this._hitsPerStack.slice(1).reduce((function(e,t){return e+t}),0)}},{key:"hitsUnmitigated",get:function(){return this._hitsPerStack[0]||0}},{key:"ironfurStacksApplied",get:function(){return this._hitsPerStack.reduce((function(e,t,a){return e+t*a}),0)}},{key:"totalHitsTaken",get:function(){return this._hitsPerStack.reduce((function(e,t){return e+t}),0)}},{key:"overallIronfurUptime",get:function(){return 0===this.totalHitsTaken?0:this.ironfurStacksApplied/this.totalHitsTaken}},{key:"percentOfHitsMitigated",get:function(){return 0===this.totalHitsTaken?0:this.hitsMitigated/this.totalHitsTaken}}]),Object(o.a)(a,[{key:"registerHit",value:function(e){this._hitsPerStack[e]||(this._hitsPerStack[e]=0),this._hitsPerStack[e]+=1}},{key:"onDamageTaken",value:function(e){if(e.ability.type===Q.a.ids.PHYSICAL){var t=this.selectedCombatant.getBuff(u.a.IRONFUR.id);this.registerHit(t?t.stacks:0)}}},{key:"computeIronfurUptimeArray",value:function(){var e=this;return this._hitsPerStack.map((function(t){return t/e.totalHitsTaken}))}},{key:"onFightend",value:function(){0}},{key:"suggestions",value:function(e){e(this.percentOfHitsMitigated).isLessThan(.9).addSuggestion((function(e,t,a){return e(v.a.createElement("span",null,"You only had the ",v.a.createElement(S.a,{id:u.a.IRONFUR.id})," buff for ",Object(G.e)(t),"% of physical damage taken. You should have the Ironfur buff up to mitigate as much physical damage as possible.")).icon(u.a.IRONFUR.icon).actual(P.i18n._({id:"druid.guardian.suggestions.ironfur.uptime",defaults:"{0}% was mitigated by Ironfur",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(a)),"% or more is recommended")).regular(a-.1).major(a-.2)}))}},{key:"statistic",value:function(){var e=this.selectedCombatant.getBuffUptime(u.a.IRONFUR.id),t=this.computeIronfurUptimeArray().reduce((function(e,t,a){return v.a.createElement(v.a.Fragment,null,e,v.a.createElement("li",null,a," stack",1!==a?"s":"",": ",Object(G.e)(t),"%"))}),null);return v.a.createElement(N.b,{position:N.a.CORE(10),icon:v.a.createElement(L.a,{id:u.a.IRONFUR.id}),value:"".concat(Object(G.e)(this.percentOfHitsMitigated),"% / ").concat(this.overallIronfurUptime.toFixed(2)),label:"Hits mitigated with Ironfur / Average Stacks",tooltip:v.a.createElement(v.a.Fragment,null,"Ironfur usage breakdown:",v.a.createElement("ul",null,v.a.createElement("li",null,"You were hit ",v.a.createElement("strong",null,this.hitsMitigated)," times with your Ironfur buff."),v.a.createElement("li",null,"You were hit ",v.a.createElement("strong",null,this.hitsUnmitigated)," times ",v.a.createElement("strong",null,v.a.createElement("em",null,"without"))," your Ironfur buff.")),v.a.createElement("strong",null,"Uptimes per stack: "),v.a.createElement("ul",null,t),v.a.createElement("strong",null,Object(G.e)(this.percentOfHitsMitigated),"%")," of physical attacks were mitigated with Ironfur, and your overall uptime was ",v.a.createElement("strong",null,Object(G.e)(e/this.owner.fightDuration),"%"),".")})}}]),a}(O.c),X=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).statisticOrder=N.a.CORE(11),e}return Object(o.a)(a,[{key:"suggestions",value:function(e){var t=this.enemies.getBuffUptime(u.a.THRASH_BEAR_DOT.id)/this.owner.fightDuration;e(t).isLessThan(.95).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null," Your ",v.a.createElement(S.a,{id:u.a.THRASH_BEAR_DOT.id})," uptime was ",Object(G.e)(t),"%, unless you have extended periods of downtime it should be near 100%. ",v.a.createElement("br",null),"Thrash applies a bleed which buffs the damage of ",v.a.createElement(S.a,{id:u.a.MANGLE_BEAR.id})," by 20%.  Thrash uptime is especially important if you are talented into ",v.a.createElement(S.a,{id:u.a.REND_AND_TEAR_TALENT.id}),", since it buffs the rest of your damage and gives you extra damage reduction.")).icon(u.a.THRASH_BEAR.icon).actual(P.i18n._({id:"druid.guardian.suggestions.thrash.uptime",defaults:"{0}% uptime",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(n)),"% is recommended")).regular(n-.05).major(n-.15)}))}},{key:"statistic",value:function(){var e=this.enemies.getBuffUptime(u.a.THRASH_BEAR_DOT.id)/this.owner.fightDuration;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.THRASH_BEAR.id}),value:"".concat(Object(G.e)(e),"%"),label:"Thrash uptime"})}}]),a}(O.c);X.dependencies={enemies:h.a};var $=X,ee=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).statisticOrder=N.a.CORE(12),e}return Object(o.a)(a,[{key:"suggestions",value:function(e){var t=this.enemies.getBuffUptime(u.a.MOONFIRE_BEAR.id)/this.owner.fightDuration;e(t).isLessThan(.95).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null," Your ",v.a.createElement(S.a,{id:u.a.MOONFIRE_BEAR.id})," uptime was ",Object(G.e)(t),"%, unless you have extended periods of downtime it should be near 100%.")).icon(u.a.MOONFIRE_BEAR.icon).actual(P.i18n._({id:"druid.guardian.suggestions.moonfire.uptime",defaults:"{0}% uptime",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(n)),"% is recommended")).regular(n-.05).major(n-.15)}))}},{key:"statistic",value:function(){var e=this.enemies.getBuffUptime(u.a.MOONFIRE_BEAR.id)/this.owner.fightDuration;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.MOONFIRE_BEAR.id}),value:"".concat(Object(G.e)(e),"%"),label:"Moonfire uptime"})}}]),a}(O.c);ee.dependencies={enemies:h.a};var te=ee,ae=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).statisticOrder=N.a.CORE(13),e.active=e.selectedCombatant.hasTalent(u.a.PULVERIZE_TALENT.id),e}return Object(o.a)(a,[{key:"suggestions",value:function(e){var t=this.selectedCombatant.getBuffUptime(u.a.PULVERIZE_BUFF.id)/this.owner.fightDuration;this.selectedCombatant.hasTalent(u.a.PULVERIZE_TALENT.id)&&e(t).isLessThan(.9).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null," Your ",v.a.createElement(S.a,{id:u.a.PULVERIZE_TALENT.id})," uptime was ",Object(G.e)(t),"%, unless there are extended periods of downtime it should be over should be near 100%. ",v.a.createElement("br",null),"All targets deal less damage to you due to the ",v.a.createElement(S.a,{id:u.a.PULVERIZE_BUFF.id})," buff.")).icon(u.a.PULVERIZE_TALENT.icon).actual(P.i18n._({id:"druid.guardian.suggestions.pulverize.uptime",defaults:"{0}% uptime",values:{0:Object(G.e)(t)}})).recommended("".concat(Math.round(Object(G.e)(n)),"% is recommended")).regular(n-.1).major(n-.2)}))}},{key:"statistic",value:function(){var e=this.selectedCombatant.getBuffUptime(u.a.PULVERIZE_BUFF.id)/this.owner.fightDuration;return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.PULVERIZE_TALENT.id}),value:"".concat(Object(G.e)(e),"%"),label:"Pulverize uptime"})}}]),a}(O.c),ne=a(766),ie=a(867),re=[u.a.MELEE,u.a.MAGIC_MELEE,u.a.RECURSIVE_STRIKES_ENEMY],se=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).damageFromMelees=0,e.swingsMitigated=0,e.totalSwings=0,e.active=e.selectedCombatant.lv45Talent===u.a.EARTHWARDEN_TALENT.id,e.addEventListener(y.f.damage.to(O.a).spell(re),e.onDamage),e.addEventListener(y.f.damage.by(O.a).spell(u.a.EARTHWARDEN_BUFF),e.onAbsorbed),e}return Object(o.a)(a,[{key:"hps",get:function(){return this.abilityTracker.getAbility(u.a.EARTHWARDEN_BUFF.id).healingEffective/(this.owner.fightDuration/1e3)}},{key:"percentOfSwingsMitigated",get:function(){return this.swingsMitigated/this.totalSwings}},{key:"meleeDamageContribution",get:function(){var e=this.damageTaken.total.effective;return this.damageFromMelees/e}},{key:"totalMitigation",get:function(){return this.percentOfSwingsMitigated*this.meleeDamageContribution*.3}}]),Object(o.a)(a,[{key:"onDamage",value:function(e){this.damageFromMelees+=e.amount+e.absorbed,(e.hitType!==ne.a.DODGE||e.amount>0)&&(this.totalSwings+=1)}},{key:"onAbsorbed",value:function(e){this.swingsMitigated+=1}},{key:"statistic",value:function(){return v.a.createElement(N.b,{icon:v.a.createElement(L.a,{id:u.a.EARTHWARDEN_BUFF.id}),label:"Hits mitigated by Earthwarden",value:"".concat(Object(G.e)(this.percentOfSwingsMitigated),"%"),tooltip:v.a.createElement(v.a.Fragment,null,"You mitigated ",this.swingsMitigated," out of a possible ",this.totalSwings," attacks (",Object(G.e)(this.percentOfSwingsMitigated),"%) with Earthwarden. ",v.a.createElement("br",null),v.a.createElement("br",null),"(",Object(G.e)(this.totalMitigation),"% of total damage, ",Object(G.d)(this.hps)," HPS)")})}},{key:"suggestions",value:function(e){e(this.percentOfSwingsMitigated).isLessThan(.6).addSuggestion((function(e,t,a){return e(v.a.createElement("span",null,v.a.createElement(S.a,{id:u.a.EARTHWARDEN_TALENT.id})," is not mitigating enough potential damage to be effective.  This is often caused by stacks being consumed too quickly due to tanking multiple mobs and/or low ",v.a.createElement(S.a,{id:u.a.THRASH_BEAR.id})," casts.  Consider using a different talent if you cannot get better usage from Earthwarden.")).icon(u.a.EARTHWARDEN_TALENT.icon).actual(P.i18n._({id:"druid.guardian.suggestions.earthwarden.efficiency",defaults:"{0}% of potential damage was mitigated by Earthwarden",values:{0:Object(G.e)(t)}})).recommended("".concat(Object(G.e)(a,0),"% or more is recommended")).regular(a-.1).major(a-.2)})),e(this.meleeDamageContribution).isLessThan(.4).addSuggestion((function(e,t,a){return e(v.a.createElement("span",null,"The damage pattern of this encounter makes ",v.a.createElement(S.a,{id:u.a.EARTHWARDEN_TALENT.id})," less effective. Consider using a different talent that will provide more value against non-melee damage.")).icon(u.a.EARTHWARDEN_TALENT.icon).actual(P.i18n._({id:"druid.guardian.suggestions.earthwarden.notOptimal",defaults:"{0}% of total damage is melee attacks",values:{0:Object(G.e)(t)}})).recommended("".concat(Object(G.e)(a,0),"% or more is recommended")).regular(a-.05).major(a-.1)}))}}]),a}(O.c);se.dependencies={abilityTracker:c.a,damageTaken:ie.a};var ce=se,le=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).addEventListener(y.f.applybuff.by(O.a).spell(u.a.INCARNATION_GUARDIAN_OF_URSOC_TALENT),i.onApplyBuff),i}return Object(o.a)(a,[{key:"onApplyBuff",value:function(e){this.spellUsable.isOnCooldown(u.a.MANGLE_BEAR.id)&&this.spellUsable.endCooldown(u.a.MANGLE_BEAR.id),this.spellUsable.isOnCooldown(u.a.THRASH_BEAR.id)&&this.spellUsable.endCooldown(u.a.THRASH_BEAR.id)}}]),a}(O.c);le.dependencies={spellUsable:k.b};var oe=le,ue=a(122),de=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];(e=t.call.apply(t,[this].concat(r)))._healModifier=.5,e.castData=[],e.damageEventsInWindow=[];var c=e.selectedCombatant,l=c.traitsBySpellId[u.a.WILDFLESH_TRAIT.id],o=e.statTracker.currentVersatilityPercentage;return e._healModifier+=.05*l,e._healModifier+=o,e.addEventListener(y.f.cast.by(O.a).spell(u.a.FRENZIED_REGENERATION),e.onCast),e.addEventListener(y.f.cast.to(O.a),e.onDamage),e}return Object(o.a)(a,[{key:"healModifier",get:function(){return this._healModifier}},{key:"charges",get:function(){return this._charges}},{key:"inefficientCasts",get:function(){return this.castData.filter((function(e){return e.percentHeal<=.2&&e.percentHP>=.7}))}}]),Object(o.a)(a,[{key:"pruneDamageEvents",value:function(e){for(;this.damageEventsInWindow.length&&this.damageEventsInWindow[0].timestamp+5e3<e;)this.damageEventsInWindow.shift()}},{key:"onCast",value:function(e){var t=e.hitPoints/e.maxHitPoints,a=.05;this.pruneDamageEvents(e.timestamp);var n=this.damageEventsInWindow.reduce((function(e,t){return e+t.damage}),0),i=this.selectedCombatant.hasBuff(u.a.GUARDIAN_OF_ELUNE.id)?1.2:1,r=n*this.healModifier*i,s=r/e.maxHitPoints;s>a&&(a=s),this.castData.push({percentHP:t,percentHeal:a,actualHeal:r})}},{key:"onDamage",value:function(e){this.damageEventsInWindow.push({timestamp:e.timestamp,damage:e.amount+e.absorbed})}},{key:"suggestions",value:function(e){e(this.inefficientCasts.length/this.castData.length).isGreaterThan(0).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"You are casting ",v.a.createElement(S.a,{id:u.a.FRENZIED_REGENERATION.id})," inefficiently (at high HP and after low damage intake). It is almost always better to wait until after you have taken a big hit to cast it, even if that means spending extended periods of time at maximum charges. If you don't already have one, consider getting an FR prediction weakaura to assist you in casting it more effectively.")).icon(u.a.FRENZIED_REGENERATION.icon).actual(P.i18n._({id:"druid.guardian.suggestions.frenziedRegeneration.efficiency",defaults:"{0}% of casts had a predicted heal of less than {1}% and were cast above {2}% HP",values:{0:Object(G.e)(t,0),1:Object(G.e)(.2,0),2:Object(G.e)(.7,0)}})).recommended("".concat(a,"% is recommended")).regular(a+.05).major(a+.1)}))}}]),a}(O.c);de.dependencies={statTracker:ue.a};var he=de,Ee=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(s.a);Ee.specModules={abilityTracker:c.a,abilities:p,mitigationCheck:J,activeTargets:I,goreProcs:j,galacticGuardianProcs:F,guardianOfEluneProcs:w,ironFurGoEProcs:U,frenziedRegenGoEProcs:H,rageWasted:x,antiFillerSpam:K,ironFur:q,thrash:$,moonfire:te,pulverize:ae,frenziedRegeneration:he,earthwarden:ce,incarnation:oe};t.default=Ee},849:function(e,t,a){"use strict";var n=a(26),i=a(8),r=a(9),s=a(119),c=a(10),l=a(11),o=a(0),u=a.n(o),d=a(43),h=a(3),E=a(53),f=a(33),g=a(4),m=a(756),b=a(54),T=a(750),A=a(766),p=a(826),O=a(15),R=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];if((e=t.call.apply(t,[this].concat(c))).checksPassedMap=new Map,e.checksFailedMap=new Map,e.checksPhysical=[],e.checksMagical=[],e.buffCheckPhysical=[],e.buffCheckMagical=[],e.buffCheckPhysAndMag=[],e.debuffCheckPhysical=[],e.debuffCheckMagical=[],e.debuffCheckPhysAndMag=[],null==e.owner.boss)return e.active=!1,Object(s.a)(e);var o=Object(b.a)(e.owner.boss.id);return o.fight.softMitigationChecks&&o.fight.softMitigationChecks.physical&&o.fight.softMitigationChecks.magical?(e.checksPhysical=o.fight.softMitigationChecks.physical,e.checksMagical=o.fight.softMitigationChecks.magical,void 0!==e.checksPhysical&&void 0!==e.checksMagical||(e.checksPhysical=[],e.checksMagical=[])):(e.checksPhysical=[],e.checksMagical=[],e.buffCheckPhysical=[],e.buffCheckMagical=[],e.buffCheckPhysAndMag=[],e.debuffCheckPhysical=[],e.debuffCheckMagical=[],e.debuffCheckPhysAndMag=[]),[].concat(Object(n.a)(e.checksPhysical),Object(n.a)(e.checksMagical)).forEach((function(t){e.checksPassedMap.set(t,0),e.checksFailedMap.set(t,0)})),e.addEventListener(O.f.damage.to(d.a),e.onDamageTaken),e}return Object(r.a)(a,[{key:"onDamageTaken",value:function(e){var t=this,a=e.ability.guid,i=[],r=[],s=[];if(e.ability.type===p.a.ids.PHYSICAL?(i=this.checksPhysical,r=[].concat(Object(n.a)(this.buffCheckPhysical),Object(n.a)(this.buffCheckPhysAndMag)),s=[].concat(Object(n.a)(this.debuffCheckPhysical),Object(n.a)(this.debuffCheckPhysAndMag))):(i=this.checksMagical,r=[].concat(Object(n.a)(this.buffCheckMagical),Object(n.a)(this.buffCheckPhysAndMag)),s=[].concat(Object(n.a)(this.debuffCheckMagical),Object(n.a)(this.debuffCheckPhysAndMag))),i.includes(a)&&!e.tick)if(r.some((function(e){return t.selectedCombatant.hasBuff(e)}))||e.hitType===A.a.IMMUNE)this.checksPassedMap.set(a,this.checksPassedMap.get(a)+1);else{var c=this.enemies.getEntities()[e.sourceID];c&&s.some((function(t){return c.hasBuff(t,e.timestamp)}))?this.checksPassedMap.set(a,this.checksPassedMap.get(a)+1):this.checksFailedMap.set(a,this.checksFailedMap.get(a)+1)}}},{key:"statistic",value:function(){var e=this,t=Array.from(this.checksFailedMap.values()).reduce((function(e,t){return e+t}),0),a=Array.from(this.checksPassedMap.values()).reduce((function(e,t){return e+t}),0);if(t+a===0)return null;var i,r=[].concat(Object(n.a)(this.buffCheckPhysical),Object(n.a)(this.buffCheckMagical),Object(n.a)(this.buffCheckPhysAndMag));i=r.length>0?r[0]:h.a.SHIELD_BLOCK_BUFF.id;var s=this.physicalChecks.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Physical"),u.a.createElement("th",null,"Ability"),u.a.createElement("th",null,"Passed"),u.a.createElement("th",null,"Failed"))),u.a.createElement("tbody",null,this.physicalChecks.map((function(t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null),u.a.createElement("th",{scope:"row"},u.a.createElement(g.a,{id:t,style:{height:"2.5em"}})),u.a.createElement("td",null,Object(f.d)(e.checksPassedMap.get(t))),u.a.createElement("td",null,Object(f.d)(e.checksFailedMap.get(t))))})))):null,c={borderTop:"none"},l=this.magicalChecks.length>0?u.a.createElement(u.a.Fragment,null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{style:c},"Magical"),u.a.createElement("th",{style:c},"Ability"),u.a.createElement("th",{style:c},"Passed"),u.a.createElement("th",{style:c},"Failed"))),u.a.createElement("tbody",null,this.magicalChecks.map((function(t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null),u.a.createElement("th",{scope:"row"},u.a.createElement(g.a,{id:t,style:{height:"2.5em"}})),u.a.createElement("td",null,Object(f.d)(e.checksPassedMap.get(t))),u.a.createElement("td",null,Object(f.d)(e.checksFailedMap.get(t))))})))):null;return u.a.createElement(T.b,{icon:u.a.createElement(E.a,{id:i}),value:"".concat(Object(f.e)(a/(a+t))," %"),label:"Soft mitigation checks passed.",tooltip:u.a.createElement(u.a.Fragment,null,"Checks if one of the following buffs or debuffs were up during the mechanic:",u.a.createElement("ul",null,this.tooltip))},u.a.createElement("table",{className:"table table-condensed",style:{fontWeight:"bold"}},s,l))}},{key:"tooltip",get:function(){return[].concat(Object(n.a)(this.buffCheckPhysical),Object(n.a)(this.buffCheckMagical),Object(n.a)(this.buffCheckPhysAndMag),Object(n.a)(this.debuffCheckPhysical),Object(n.a)(this.debuffCheckMagical),Object(n.a)(this.debuffCheckPhysAndMag)).map((function(e){return u.a.createElement("li",{key:e},h.a[e].name)}))}},{key:"physicalChecks",get:function(){var e=this;return this.checksPhysical.filter((function(t){return e.checksPassedMap.get(t)+e.checksFailedMap.get(t)>0}))}},{key:"magicalChecks",get:function(){var e=this;return this.checksMagical.filter((function(t){return e.checksPassedMap.get(t)+e.checksFailedMap.get(t)>0}))}}]),a}(d.c);R.dependencies={enemies:m.a},t.a=R}}]);
//# sourceMappingURL=GuardianDruid.7ce09c21.chunk.js.map
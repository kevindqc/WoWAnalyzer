(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[23],{731:function(e,t,a){"use strict";a.r(t);var n=a(8),s=a(10),i=a(11),r=a(776),l=a(9),c=a(3),o=a(797),u=a(810),d=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"buffs",value:function(){var e=this.selectedCombatant;return[{spellId:c.a.ICEFURY_TALENT.id,timelineHighlight:!0},{spellId:c.a.FIRE_ELEMENTAL.id,timelineHighlight:!0},{spellId:c.a.MASTER_OF_THE_ELEMENTS_BUFF.id,enabled:e.hasTalent(c.a.MASTER_OF_THE_ELEMENTS_TALENT.id),timelineHighlight:!0},{spellId:c.a.SURGE_OF_POWER_BUFF.id,enabled:e.hasTalent(c.a.SURGE_OF_POWER_TALENT.id),timelineHighlight:!0},{spellId:c.a.STORMKEEPER_TALENT.id,triggeredBySpellId:c.a.STORMKEEPER_TALENT.id,timelineHighlight:!0},{spellId:Object.keys(u.a).map((function(e){return Number(e)})),timelineHighlight:!0}]}}]),a}(o.a),E=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:c.a.LAVA_BURST,charges:e.hasTalent(c.a.ECHO_OF_THE_ELEMENTS_TALENT.id)?2:1,cooldown:function(e){return 8/(1+e)},category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:c.a.LIGHTNING_BOLT,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:c.a.LIQUID_MAGMA_TOTEM_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500},cooldown:60,enabled:e.hasTalent(c.a.LIQUID_MAGMA_TOTEM_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:c.a.CHAIN_LIGHTNING,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:c.a.LAVA_BEAM,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE},{spell:c.a.EARTHQUAKE,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:c.a.ELEMENTAL_BLAST_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:e.hasTalent(c.a.ELEMENTAL_BLAST_TALENT.id),cooldown:12,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.6}},{spell:c.a.ASCENDANCE_TALENT_ELEMENTAL,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{base:1500},enabled:e.hasTalent(c.a.ASCENDANCE_TALENT_ELEMENTAL.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:c.a.FIRE_ELEMENTAL,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:150,gcd:{base:1500},damageSpellIds:[c.a.FIRE_BLAST.id,c.a.METEOR_DAMAGE.id,c.a.FIRE_ELEMENTAL_IMMOLATE.id],enabled:!e.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:1}},{spell:c.a.STORMKEEPER_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:60,gcd:{base:1500},enabled:e.hasTalent(c.a.STORMKEEPER_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:c.a.STORM_ELEMENTAL_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:150,enabled:e.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id),damageSpellIds:[c.a.WIND_GUST.id,c.a.EYE_OF_THE_STORM.id,c.a.CALL_LIGHTNING.id],castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:c.a.FLAME_SHOCK,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:6,gcd:{base:1500}},{spell:c.a.FROST_SHOCK,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:c.a.ICEFURY_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:30,gcd:{base:1500},enabled:e.hasTalent(c.a.ICEFURY_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.8}},{spell:c.a.EARTH_SHOCK,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:c.a.CAPACITOR_TOTEM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:60},{spell:c.a.ASTRAL_SHIFT,buffSpellId:c.a.ASTRAL_SHIFT.id,cooldown:90,category:a.SPELL_CATEGORIES.DEFENSIVE},{spell:c.a.THUNDERSTORM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1e3},cooldown:45},{spell:c.a.TREMOR_TOTEM,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:c.a.WIND_SHEAR,category:a.SPELL_CATEGORIES.UTILITY,cooldown:12,gcd:null},{spell:c.a.STATIC_DISCHARGE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,castEfficiency:{suggestion:!0,recommendedEfficiency:.9},enabled:e.hasTalent(c.a.STATIC_DISCHARGE_TALENT.id),gcd:{base:1500}},{spell:c.a.ECHOING_SHOCK_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,castEfficiency:{suggestion:!0,recommendedEfficiency:.9},enabled:e.hasTalent(c.a.ECHOING_SHOCK_TALENT.id),gcd:{base:1500}},{spell:c.a.BLOODLUST,category:a.SPELL_CATEGORIES.COOLDOWNS},{spell:c.a.HEROISM,category:a.SPELL_CATEGORIES.COOLDOWNS},{spell:c.a.REINCARNATION,category:a.SPELL_CATEGORIES.OTHERS}]}}]),a}(a(753).a),m=a(780),h=a(164),T=a(4),f=a(33),g=a(0),b=a.n(g),p=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(b.a.createElement(b.a.Fragment,null,"Your downtime can be improved. If you need to move use ",b.a.createElement(T.a,{id:c.a.FLAME_SHOCK.id}),", ",b.a.createElement(T.a,{id:c.a.EARTH_SHOCK.id})," or ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id}))).icon("spell_mage_altertime").actual("".concat(Object(f.e)(1-t),"% downtime")).recommended("<".concat(Object(f.e)(1-a),"% is recommended"))}))}},{key:"suggestionThresholds",get:function(){return{actual:this.activeTimePercentage,isLessThan:{minor:.95,average:.85,major:.75},style:h.a.PERCENTAGE}}}]),a}(m.a),A=a(43),L=a(750),O=a(15),y=a(746),S=a(748),_=a(58),C=a(988),v=a(88),N=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).refund=0,s.active=s.selectedCombatant.hasTalent(c.a.AFTERSHOCK_TALENT.id),s.addEventListener(O.f.energize.spell(c.a.AFTERSHOCK),s.onAftershock),s}return Object(l.a)(a,[{key:"onAftershock",value:function(e){this.refund+=e.resourceChange}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible",category:_.a.TALENTS},b.a.createElement(S.a,{spell:c.a.AFTERSHOCK_TALENT},b.a.createElement(b.a.Fragment,null,b.a.createElement(C.a,{resourceType:v.a.MAELSTROM,amount:this.refund}))))}}]),a}(A.c),R=a(12),I=a(764),k=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s,i;return Object(n.a)(this,a),(i=t.call(this,e)).justEnteredAscendance=!1,i.checkDelay=0,i.numCasts=(s={},Object(R.a)(s,c.a.ASCENDANCE_TALENT_ELEMENTAL.id,0),Object(R.a)(s,c.a.LAVA_BURST.id,0),Object(R.a)(s,c.a.EARTH_SHOCK.id,0),Object(R.a)(s,c.a.ELEMENTAL_BLAST_TALENT.id,0),Object(R.a)(s,"others",0),s),i.abilities=void 0,i.enemies=void 0,i.active=i.selectedCombatant.hasTalent(c.a.ASCENDANCE_TALENT_ELEMENTAL.id),i}return Object(l.a)(a,[{key:"statistic",value:function(){var e=this.selectedCombatant.hasTalent(c.a.ELEMENTAL_BLAST_TALENT.id);return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible",category:_.a.TALENTS,tooltip:b.a.createElement(b.a.Fragment,null,"With a uptime of: ",Object(f.e)(this.AscendanceUptime)," %",b.a.createElement("br",null),"Casts while Ascendance was up:",b.a.createElement("ul",null,b.a.createElement("li",null,"Earth Shock: ",this.numCasts[c.a.EARTH_SHOCK.id]),b.a.createElement("li",null,"Lava Burst: ",this.numCasts[c.a.LAVA_BURST.id]),e&&b.a.createElement("li",null,"Elemental Blast: ",this.numCasts[c.a.ELEMENTAL_BLAST_TALENT.id]),b.a.createElement("li",null,"Other Spells: ",this.numCasts.others)))},b.a.createElement(S.a,{spell:c.a.ASCENDANCE_TALENT_ELEMENTAL},b.a.createElement(b.a.Fragment,null,"On average ",Object(f.d)(this.averageLavaBurstCasts)," Lava Bursts cast during Ascendance.")))}},{key:"suggestions",value:function(e){var t="Lava Burst ".concat(this.selectedCombatant.hasTalent(c.a.ELEMENTAL_BLAST_TALENT.id)?", Elemental Blast ":""," and Earth Shock");e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(b.a.createElement("span",null,"Maximize your damage during ascendance by only using $",t,".")).icon(c.a.ASCENDANCE_TALENT_ELEMENTAL.icon).actual("".concat(a," other casts during Ascendence")).recommended("Only cast ".concat(t," during Ascendence."))}))}},{key:"AscendanceUptime",get:function(){return this.selectedCombatant.getBuffUptime(c.a.ASCENDANCE_TALENT_ELEMENTAL.id)/this.owner.fightDuration}},{key:"averageLavaBurstCasts",get:function(){return this.numCasts[c.a.LAVA_BURST.id]/this.numCasts[c.a.ASCENDANCE_TALENT_ELEMENTAL.id]||0}},{key:"suggestionThresholds",get:function(){return{actual:this.numCasts.others,isGreaterThan:{major:0},style:h.a.NUMBER}}}]),a}(A.c);k.dependencies={abilities:E,enemies:I.a};var j=k,M=a(751),w=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).damageGained=0,s.active=s.selectedCombatant.hasTalent(c.a.EARTHEN_RAGE_TALENT.id),s.addEventListener(O.f.damage.by(A.a).spell(c.a.EARTHEN_RAGE_DAMAGE),s.onERDamage),s}return Object(l.a)(a,[{key:"onERDamage",value:function(e){this.damageGained+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible",category:_.a.TALENTS},b.a.createElement(S.a,{spell:c.a.EARTHEN_RAGE_DAMAGE},b.a.createElement(b.a.Fragment,null,b.a.createElement(M.a,{amount:this.damageGained}))))}}]),a}(A.c),F=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).damageGained=0,s.active=s.selectedCombatant.hasTalent(c.a.LIQUID_MAGMA_TOTEM_TALENT.id),s.addEventListener(O.f.damage.by(A.a).spell(c.a.LIQUID_MAGMA_TOTEM_DAMAGE),s.onLMTDamage),s}return Object(l.a)(a,[{key:"onLMTDamage",value:function(e){this.damageGained+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible"},b.a.createElement(S.a,{spell:c.a.LIQUID_MAGMA_TOTEM_TALENT},b.a.createElement(b.a.Fragment,null,b.a.createElement(M.a,{amount:this.damageGained}))))}}]),a}(A.c),G=a(752),B=a(18),D={INCREASE:.2,DURATION:15e3,WINDOW_DURATION:500,AFFECTED_DAMAGE:[c.a.ICEFURY_TALENT,c.a.ICEFURY_OVERLOAD,c.a.FROST_SHOCK,c.a.LIGHTNING_BOLT,c.a.LIGHTNING_BOLT_OVERLOAD,c.a.CHAIN_LIGHTNING,c.a.CHAIN_LIGHTNING_OVERLOAD,c.a.ELEMENTAL_BLAST_TALENT,c.a.ELEMENTAL_BLAST_OVERLOAD,c.a.EARTH_SHOCK],AFFECTED_CASTS:[c.a.EARTHQUAKE,c.a.ICEFURY_TALENT,c.a.FROST_SHOCK,c.a.ELEMENTAL_BLAST_TALENT,c.a.CHAIN_LIGHTNING,c.a.EARTH_SHOCK,c.a.LIGHTNING_BOLT],TALENTS:[c.a.ICEFURY_TALENT.id,c.a.ELEMENTAL_BLAST_TALENT.id]},P=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;for(var i in Object(n.a)(this,a),(s=t.call(this,e)).moteBuffedAbilities={},s.moteActivationTimestamp=null,s.moteConsumptionTimestamp=null,s.damageGained=0,s.active=s.selectedCombatant.hasTalent(c.a.MASTER_OF_THE_ELEMENTS_TALENT.id),D.AFFECTED_CASTS){var r=D.AFFECTED_CASTS[i].id;!s.selectedCombatant.hasTalent(r)&&D.TALENTS.includes(r)||(s.moteBuffedAbilities[r]=0)}return s.addEventListener(O.f.cast.by(B.a).spell(D.AFFECTED_CASTS),s._onCast),s.addEventListener(O.f.cast.by(B.a).spell(c.a.LAVA_BURST),s._onLvBCast),s.addEventListener(O.f.damage.by(B.a).spell(D.AFFECTED_DAMAGE),s._onDamage),s}return Object(l.a)(a,[{key:"_onCast",value:function(e){null!==this.moteActivationTimestamp&&(this.moteConsumptionTimestamp=e.timestamp,this.moteActivationTimestamp=null,e.meta=e.meta||{},e.meta.isEnhancedCast=!0,this.moteBuffedAbilities[e.ability.guid]+=1)}},{key:"_onLvBCast",value:function(e){this.moteActivationTimestamp=e.timestamp}},{key:"_onDamage",value:function(e){e.timestamp<(this.moteConsumptionTimestamp||0)||e.timestamp>(this.moteConsumptionTimestamp||1/0)+D.WINDOW_DURATION||(this.damageGained+=Object(G.a)(e,D.INCREASE))}},{key:"statistic",value:function(){var e=this;return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible",dropdown:b.a.createElement(b.a.Fragment,null,b.a.createElement("table",{className:"table table-condensed"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Ability"),b.a.createElement("th",null,"Number of Buffed Casts"))),b.a.createElement("tbody",null,Object.keys(this.moteBuffedAbilities).map((function(t){return b.a.createElement("tr",{key:t},b.a.createElement("th",null,b.a.createElement(T.a,{id:Number(t)})),b.a.createElement("td",null,e.moteBuffedAbilities[Number(t)]))})))))},b.a.createElement(S.a,{spell:c.a.MASTER_OF_THE_ELEMENTS_TALENT},b.a.createElement(b.a.Fragment,null,b.a.createElement(M.a,{amount:this.damageGained}))))}}]),a}(A.c),H=a(13),U=[c.a.FIRE_ELEMENTAL_METEOR,c.a.FIRE_ELEMENTAL_IMMOLATE,c.a.FIRE_ELEMENTAL_FIRE_BLAST],x=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s,i;return Object(n.a)(this,a),(i=t.call(this,e)).meteorCasts=0,i.PFEcasts=0,i.usedCasts=void 0,i.damageGained=0,i.maelstromGained=0,i.usedCasts=(s={},Object(R.a)(s,c.a.FIRE_ELEMENTAL_METEOR.id,!1),Object(R.a)(s,c.a.IMMOLATE.id,!1),Object(R.a)(s,c.a.FIRE_BLAST.id,!1),s),i.active=i.selectedCombatant.hasTalent(c.a.PRIMAL_ELEMENTALIST_TALENT.id)&&!i.selectedCombatant.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id),i.addEventListener(O.f.damage.by(A.b).spell(U),i.onDamage),i.addEventListener(O.f.cast.by(A.a).spell(c.a.FIRE_ELEMENTAL),i.onFECast),i.addEventListener(O.f.cast.by(A.b).spell(U),i.onDamagingCast),i}return Object(l.a)(a,[{key:"onDamage",value:function(e){this.damageGained+=e.amount+(e.absorbed||0)}},{key:"onFECast",value:function(e){this.PFEcasts+=1}},{key:"onDamagingCast",value:function(e){this.usedCasts[e.ability.guid]=!0}},{key:"suggestions",value:function(e){var t=this,a=Object.keys(this.usedCasts).filter((function(e){return!t.usedCasts[Number(e)]})),n=a.join(", "),s=a.length;e(s).isGreaterThan(0).addSuggestion((function(e,t,a){return e(b.a.createElement("span",null," Your Fire Elemental is not using all of it's spells. Check if immolate and Fire Blast are set to autocast and you are using Meteor.")).icon(c.a.FIRE_ELEMENTAL.icon).actual(H.i18n._({id:"shaman.elemental.suggestions.primalElemental.unusedSpells",defaults:"{0} spells not used by your Fire Elemental ({unusedSpellsString})",values:{0:Object(f.d)(s),unusedSpellsString:n}})).recommended("You should be using all spells of your Fire Elemental.").major(a+1)})),e(this.missedMeteorCasts).isGreaterThan(0).addSuggestion((function(e,a,n){return e(b.a.createElement("span",null,"You are not using ",b.a.createElement(T.a,{id:c.a.FIRE_ELEMENTAL_METEOR.id})," every time you cast ",b.a.createElement(T.a,{id:c.a.FIRE_ELEMENTAL.id})," if you are using ",b.a.createElement(T.a,{id:c.a.PRIMAL_ELEMENTALIST_TALENT.id}),". Only wait with casting meteor if you wait for adds to spawn.")).icon(c.a.FIRE_ELEMENTAL.icon).actual(H.i18n._({id:"shaman.elemental.suggestions.primalElemental.meteorCastsMissed",defaults:"{0} missed Meteor Casts.",values:{0:Object(f.d)(t.missedMeteorCasts)}})).recommended("You should cast Meteor every time you summon your Fire Elemental ").major(n+1)}))}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible"},b.a.createElement(b.a.Fragment,null,b.a.createElement(S.a,{spell:c.a.FIRE_ELEMENTAL},b.a.createElement(M.a,{amount:this.damageGained}))))}},{key:"missedMeteorCasts",get:function(){return this.PFEcasts-this.meteorCasts}}]),a}(A.c),K=[c.a.EYE_OF_THE_STORM.id,c.a.WIND_GUST.id,c.a.CALL_LIGHTNING.id],W=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s,i;return Object(n.a)(this,a),(i=t.call(this,e)).eotsCasts=0,i.pseCasts=0,i.lastCLCastTimestamp=0,i.usedCasts=void 0,i.damageGained=0,i.maelstromGained=0,i.badCasts=0,i.usedCasts=(s={},Object(R.a)(s,c.a.EYE_OF_THE_STORM.id,!1),Object(R.a)(s,c.a.WIND_GUST.id,!1),Object(R.a)(s,c.a.CALL_LIGHTNING.id,!1),s),i.active=i.selectedCombatant.hasTalent(c.a.PRIMAL_ELEMENTALIST_TALENT.id)&&i.selectedCombatant.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id),i.addEventListener(O.f.cast.by(A.b).spell(K),i.onPetCast),i.addEventListener(O.f.damage.by(A.b).spell(K),i.onPetDamage),i.addEventListener(O.f.cast.by(A.a).spell(c.a.STORM_ELEMENTAL_TALENT),i.onPSECast),i}return Object(l.a)(a,[{key:"onPSECast",value:function(e){this.pseCasts+=1}},{key:"onPetCast",value:function(e){this.usedCasts[e.ability.guid]=!0}},{key:"onPetDamage",value:function(e){this.damageGained+=e.amount+(e.absorbed||0),e.ability.guid!==c.a.CALL_LIGHTNING.id&&e.timestamp>this.lastCLCastTimestamp+15e3&&(this.badCasts+=1)}},{key:"suggestions",value:function(e){var t=this.unusedSpells.join(", ");e(this.unusedSpellsSuggestionTresholds).addSuggestion((function(e,a,n){return e(b.a.createElement("span",null," Your Storm Elemental is not using all of it's spells. Check if Wind Gust and Call Lightning are set to autocast and you are using Eye Of The Storm.")).icon(c.a.STORM_ELEMENTAL_TALENT.icon).actual("".concat(Object(f.d)(a)," spells not used by your Storm Elemental (").concat(t,")")).recommended("You should be using all spells of your Storm Elemental.")})),e(this.badCastsSuggestionTresholds).addSuggestion((function(e,t,a){return e(b.a.createElement("span",null,"You are not using ",b.a.createElement(T.a,{id:c.a.CALL_LIGHTNING.id})," on cooldown.")).icon(c.a.STORM_ELEMENTAL_TALENT.icon).actual("".concat(Object(f.d)(t),' casts done by your Storm Elemental without the "Call Lightning"-Buff.}')).recommended('You should be recasting "Call Lightning" before the buff drops off.')}))}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible",tooltip:b.a.createElement(b.a.Fragment,null,"Your Storm Elemental cast ",Object(f.d)(this.badCasts)," spells without ",b.a.createElement(T.a,{id:c.a.CALL_LIGHTNING.id}))},b.a.createElement(S.a,{spell:c.a.STORM_ELEMENTAL_TALENT},b.a.createElement(M.a,{amount:this.damageGained})))}},{key:"unusedSpells",get:function(){var e=this;return Object.keys(this.usedCasts).filter((function(t){return!e.usedCasts[Number(t)]}))}},{key:"unusedSpellsSuggestionTresholds",get:function(){return{actual:this.unusedSpells.length,isGreaterThan:{minor:1,major:1},style:h.a.NUMBER}}},{key:"badCastsSuggestionTresholds",get:function(){return{actual:this.unusedSpells.length,isGreaterThan:{minor:1,major:5},style:h.a.NUMBER}}}]),a}(A.c),Y=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s,i;return Object(n.a)(this,a),(i=t.call(this,e)).badFS=0,i.justEnteredSE=!1,i.checkDelay=0,i.numCasts=(s={},Object(R.a)(s,c.a.STORM_ELEMENTAL_TALENT.id,0),Object(R.a)(s,c.a.LIGHTNING_BOLT.id,0),Object(R.a)(s,c.a.CHAIN_LIGHTNING.id,0),Object(R.a)(s,c.a.EARTH_SHOCK.id,0),Object(R.a)(s,c.a.EARTHQUAKE.id,0),Object(R.a)(s,"others",0),s),i.enemies=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id),i.addEventListener(O.f.cast.by(A.a).spell(c.a.STORM_ELEMENTAL_TALENT),i.onSECast),i.addEventListener(O.f.cast.by(A.a),i.onSECast),i}return Object(l.a)(a,[{key:"onSECast",value:function(e){this.justEnteredSE=!0,this.numCasts[c.a.STORM_ELEMENTAL_TALENT.id]+=1}},{key:"onCast",value:function(e){var t=e.ability.guid;void 0!==this.numCasts[t]?this.numCasts[t]+=1:this.numCasts.others+=1}},{key:"statistic",value:function(){return b.a.createElement(y.a,{tooltip:b.a.createElement(b.a.Fragment,null,"With a uptime of: ",Object(f.e)(this.stormEleUptime)," %",b.a.createElement("br",null),"Casts while Storm Elemental was up:",b.a.createElement("ul",null,b.a.createElement("li",null,"Earth Shock: ",this.numCasts[c.a.EARTH_SHOCK.id]),b.a.createElement("li",null,"Lightning Bolt: ",this.numCasts[c.a.LIGHTNING_BOLT.id]),b.a.createElement("li",null,"Earthquake: ",this.numCasts[c.a.EARTHQUAKE.id]),b.a.createElement("li",null,"Chain Lightning: ",this.numCasts[c.a.CHAIN_LIGHTNING.id]),b.a.createElement("li",null,"Other Spells: ",this.numCasts.others)))},b.a.createElement(b.a.Fragment,null,"You cast ",b.a.createElement(T.a,{id:c.a.LIGHTNING_BOLT.id})," ",this.averageLightningBoltCasts," times per ",b.a.createElement(T.a,{id:c.a.STORM_ELEMENTAL_TALENT.id})))}},{key:"suggestions",value:function(e){var t="Lightning Bolt/Chain Lightning and Earth Shock/Earthquake";e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(b.a.createElement("span",null,"Maximize your damage during Storm Elemental by only using ",t,".")).icon(c.a.STORM_ELEMENTAL_TALENT.icon).actual(H.i18n._({id:"shaman.elemental.suggestions.stormElemental.badCasts",defaults:"{actual} other casts with Storm Elemental up",values:{actual:a}})).recommended("Only cast ".concat(t," while Storm Elemental is up."))}))}},{key:"stormEleUptime",get:function(){return this.selectedCombatant.getBuffUptime(c.a.WIND_GUST_BUFF.id)/this.owner.fightDuration}},{key:"averageLightningBoltCasts",get:function(){return this.numCasts[c.a.LIGHTNING_BOLT.id]/this.numCasts[c.a.STORM_ELEMENTAL_TALENT.id]||0}},{key:"averageChainLightningCasts",get:function(){return this.numCasts[c.a.CHAIN_LIGHTNING.id]/this.numCasts[c.a.STORM_ELEMENTAL_TALENT.id]||0}},{key:"suggestionThresholds",get:function(){return{actual:this.numCasts.others,isGreaterThan:{major:1},style:h.a.NUMBER}}}]),a}(A.c);Y.dependencies={abilities:E,enemies:I.a};var z=Y,V=[c.a.LIGHTNING_BOLT_OVERLOAD.id,c.a.LIGHTNING_BOLT.id,c.a.CHAIN_LIGHTNING_OVERLOAD.id,c.a.CHAIN_LIGHTNING.id],q=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).damageDoneByBuffedCasts=0,s.active=s.selectedCombatant.hasTalent(c.a.STORMKEEPER_TALENT.id),s.addEventListener(O.f.damage.by(A.a).spell(V),s.onSKDamage),s}return Object(l.a)(a,[{key:"onSKDamage",value:function(e){this.selectedCombatant.hasBuff(c.a.STORMKEEPER_TALENT.id)&&(this.damageDoneByBuffedCasts+=e.amount+(e.absorbed||0))}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible"},b.a.createElement(S.a,{spell:c.a.STORMKEEPER_TALENT},b.a.createElement(b.a.Fragment,null,b.a.createElement(M.a,{amount:this.damageDoneByBuffedCasts}))))}}]),a}(A.c),Q=a(831),J=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).unlimitedPowerStacks=[],s.lastUPStack=0,s.lastUPUpdate=s.owner.fight.start_time,s.active=s.selectedCombatant.hasTalent(c.a.UNLIMITED_POWER_TALENT.id),s.unlimitedPowerStacks=Array.from({length:21},(function(e){return[]})),s.addEventListener(O.f.applybuff.by(A.a).spell(c.a.UNLIMITED_POWER_BUFF),s.handleStacks),s.addEventListener(O.f.applybuffstack.by(A.a).spell(c.a.UNLIMITED_POWER_BUFF),s.handleStacks),s.addEventListener(O.f.removebuff.by(A.a).spell(c.a.UNLIMITED_POWER_BUFF),s.handleStacks),s.addEventListener(O.f.removebuffstack.by(A.a).spell(c.a.UNLIMITED_POWER_BUFF),s.handleStacks),s.addEventListener(O.f.fightend,s.handleStacks),s}return Object(l.a)(a,[{key:"handleStacks",value:function(e){this.unlimitedPowerStacks[this.lastUPStack].push(e.timestamp-this.lastUPUpdate),e.type!==O.b.FightEnd&&(this.lastUPUpdate=e.timestamp,this.lastUPStack=Object(Q.a)(e))}},{key:"unlimitedPowerTimesByStacks",get:function(){return this.unlimitedPowerStacks}},{key:"averageUnlimitedPowerStacks",get:function(){var e=this,t=0;return this.unlimitedPowerStacks.forEach((function(a,n){t+=a.reduce((function(e,t){return e+t}),0)/e.owner.fightDuration*n})),t}}]),a}(A.c),$=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).unlimitedPowerTimesByStacks=void 0,s.active=s.selectedCombatant.hasTalent(c.a.UNLIMITED_POWER_TALENT.id),s}return Object(l.a)(a,[{key:"statistic",value:function(){var e=this;return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible",category:_.a.TALENTS,dropdown:b.a.createElement(b.a.Fragment,null,b.a.createElement("table",{className:"table table-condensed"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Stacks"),b.a.createElement("th",null,"Time (s)"),b.a.createElement("th",null,"Time (%)"))),b.a.createElement("tbody",null,Object.values(this.unlimitedPowerTimesByStack).map((function(t,a){return b.a.createElement("tr",{key:a},b.a.createElement("th",null,a),b.a.createElement("td",null,Object(f.a)(t.reduce((function(e,t){return e+t}),0)/1e3)),b.a.createElement("td",null,Object(f.e)(t.reduce((function(e,t){return e+t}),0)/e.owner.fightDuration),"%"))})))))},b.a.createElement(S.a,{spell:c.a.UNLIMITED_POWER_TALENT},b.a.createElement(b.a.Fragment,null,"Unlimited Power Average Haste Gain (Uptime ",Object(f.e)(this.uptime),"%)")))}},{key:"unlimitedPowerTimesByStack",get:function(){return this.unlimitedPowerTimesByStacks.unlimitedPowerTimesByStacks}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(c.a.UNLIMITED_POWER_BUFF.id)/this.owner.fightDuration}},{key:"averageHaste",get:function(){return.02*this.unlimitedPowerTimesByStacks.averageUnlimitedPowerStacks}}]),a}(A.c);$.dependencies={unlimitedPowerTimesByStacks:J};var Z=$,X={AFFECTED_CASTS:[c.a.FLAME_SHOCK,c.a.FROST_SHOCK,c.a.LAVA_BURST,c.a.LIGHTNING_BOLT]},ee=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;for(var i in Object(n.a)(this,a),(s=t.call(this,e)).sopBuffedAbilities={},s.skSopCasts=0,s.skCasts=0,s.active=s.selectedCombatant.hasTalent(c.a.SURGE_OF_POWER_TALENT.id),X.AFFECTED_CASTS){var r=X.AFFECTED_CASTS[i].id;s.sopBuffedAbilities[r]=0}return s.addEventListener(O.f.cast.by(B.a).spell(X.AFFECTED_CASTS),s._onCast),s}return Object(l.a)(a,[{key:"_onCast",value:function(e){this.selectedCombatant.hasBuff(c.a.STORMKEEPER_TALENT.id,e.timestamp)&&e.ability.guid===c.a.LIGHTNING_BOLT.id&&(this.skCasts+=1),this.selectedCombatant.hasBuff(c.a.SURGE_OF_POWER_BUFF.id)&&(e.meta=e.meta||{},e.meta.isEnhancedCast=!0,this.sopBuffedAbilities[e.ability.guid]+=1,this.selectedCombatant.hasBuff(c.a.STORMKEEPER_TALENT.id,e.timestamp)&&e.ability.guid===c.a.LIGHTNING_BOLT.id&&(this.skSopCasts+=1))}},{key:"statistic",value:function(){var e=this;return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible"},b.a.createElement("table",{className:"table table-condensed"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Ability"),b.a.createElement("th",null,"Number of Buffed Casts"))),b.a.createElement("tbody",null,Object.keys(this.sopBuffedAbilities).map((function(t){return b.a.createElement("tr",{key:t},b.a.createElement("th",null,b.a.createElement(T.a,{id:Number(t)})),b.a.createElement("td",null,e.sopBuffedAbilities[Number(t)]))})))))}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(b.a.createElement("span",null,"You should aim to empower all of your Stormkeeper lightning bolts with Surge of Power. You can accomplish this consistently by pooling to 95+ maelstrom right before Stormkeeper is available, then casting ES ","->"," SK ","->"," LB ","->"," LvB ","->"," ES ","->"," LB.")).icon(c.a.SURGE_OF_POWER_TALENT.icon).actual(H.i18n._({id:"shaman.elemental.suggestions.surgeOfPower.stormKeeperEmpowered",defaults:"{0}% of Stormkeeper Lightning Bolts empowered with Surge",values:{0:Object(f.e)(t)}})).recommended("100% is recommended.")}))}},{key:"suggestionThresholds",get:function(){return{actual:this.skSopCasts/this.skCasts,isLessThan:{minor:.9,average:.75,major:.5},style:h.a.PERCENTAGE}}}]),a}(A.c),te=a(755),ae=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).empoweredFrostShockCasts=0,s.abilityTracker=void 0,s.active=s.selectedCombatant.hasTalent(c.a.ICEFURY_TALENT.id),s.addEventListener(O.f.cast.by(A.a).spell(c.a.FROST_SHOCK),s.onFrostShockCast),s}return Object(l.a)(a,[{key:"onFrostShockCast",value:function(){this.selectedCombatant.hasBuff(c.a.ICEFURY_TALENT.id)&&(this.empoweredFrostShockCasts+=1)}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t){return e(b.a.createElement(b.a.Fragment,null,"You should fully utilize your ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id})," casts by casting 4 ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id}),"s before the ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id})," buff expires. Pay attention to the remaining duration of the buff to ensure you have time to use all of the stacks.")).icon(c.a.ICEFURY_TALENT.icon).actual(b.a.createElement(b.a.Fragment,null,"On average, only ",t.toFixed(2)," ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id}),"(s) stacks were consumed with ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id})," casts before ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id})," buff expired.")).recommended("It's recommended to always consume all 4 stacks.")}))}},{key:"suggestionThresholds",get:function(){return{actual:this.empoweredFrostShockCasts/this.abilityTracker.getAbility(c.a.ICEFURY_TALENT.id).casts,isLessThan:{minor:4,average:3.5,major:3},style:h.a.DECIMAL}}}]),a}(A.c);ae.dependencies={abilityTracker:te.a};var ne=ae,se=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).damageDone=0,s.ticks=0,s.casts=0,s.active=s.selectedCombatant.hasTalent(c.a.STATIC_DISCHARGE_TALENT.id),s.addEventListener(O.f.damage.by(A.a).spell(c.a.STATIC_DISCHARGE_TALENT),s.onSDDamage),s.addEventListener(O.f.cast.by(A.a).spell(c.a.STATIC_DISCHARGE_TALENT),s.onSDCast),s}return Object(l.a)(a,[{key:"onSDDamage",value:function(e){this.ticks+=1,this.damageDone+=e.amount+(e.absorbed||0)}},{key:"onSDCast",value:function(e){this.casts+=1}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(b.a.createElement("span",null,"You missed $",Object(f.e)(1-t),"% of the ticks of your ",b.a.createElement(T.a,{id:c.a.STATIC_DISCHARGE.id}),". Try to maximize the ticks by only using it while Flame Shock is active on an enemy in range.")).icon(c.a.STATIC_DISCHARGE_TALENT.icon).actual("".concat(t,"% of possible ticks with ").concat(b.a.createElement(T.a,{id:c.a.STATIC_DISCHARGE_TALENT.id}))).recommended("".concat(Object(f.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return b.a.createElement(y.a,{position:L.a.OPTIONAL(),size:"flexible"},b.a.createElement(S.a,{spell:c.a.STATIC_DISCHARGE_TALENT},b.a.createElement(b.a.Fragment,null,b.a.createElement(M.a,{amount:this.damageDone}))))}},{key:"efficientcy",get:function(){return this.ticks/(6*this.casts)||1}},{key:"suggestionThresholds",get:function(){return{actual:this.ticks/(6*this.casts),isLessThan:{minor:1,major:.85},style:h.a.PERCENTAGE}}}]),a}(A.c),ie=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).badCasts=0,s.casts=0,s.active=s.selectedCombatant.hasTalent(c.a.ECHOING_SHOCK_TALENT.id),s.addEventListener(O.f.cast.by(A.a),s.onCast),s}return Object(l.a)(a,[{key:"onCast",value:function(e){this.selectedCombatant.hasBuff(c.a.ECHOING_SHOCK_TALENT.id)&&(this.casts+=1,e.ability.guid!==c.a.LAVA_BURST.id&&(this.badCasts+=1))}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(b.a.createElement("span",null,"Maximize your damage with Echoing Shock by always duplicating Lava Burst.")).icon(c.a.ECHOING_SHOCK_TALENT.icon).actual("".concat(Object(f.e)(t),"% of Echoing Shocks used on Lava Burst")).recommended("".concat(Object(f.e)(a),"% is recommended"))}))}},{key:"efficiency",get:function(){return 1-this.badCasts/this.casts||0}},{key:"suggestionThresholds",get:function(){return{actual:this.efficiency,isLessThan:{minor:.95,major:.85},style:h.a.PERCENTAGE}}}]),a}(A.c),re=a(214),le=a(754),ce=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).spellUsable=void 0,s.addEventListener(O.f.applybuff.by(A.a).spell(re.a.LAVA_SURGE),s.onLS),s}return Object(l.a)(a,[{key:"onLS",value:function(e){this.spellUsable.isOnCooldown(re.a.LAVA_BURST.id)&&this.spellUsable.endCooldown(re.a.LAVA_BURST.id)}}]),a}(A.c);ce.dependencies={spellUsable:le.b};var oe=ce,ue=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).statisticOrder=L.a.CORE(8),e}return Object(l.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e("".concat(Object(f.e)(t),"% of spells casts were cancelled. Some casts will likely need to be cancelled due to mechanics, but generally, it is rarely a DPS up to cancel a cast in favor of casting another spell.")).icon("inv_misc_map_01").actual(H.i18n._({id:"shaman.elemental.suggestions.castsCancelled",defaults:"{0}% casts cancelled",values:{0:Object(f.e)(t)}})).recommended("<".concat(Object(f.e)(a),"% is recommended"))}))}},{key:"suggestionThresholds",get:function(){return{actual:this.castsCancelled/this.totalCasts,isGreaterThan:{minor:.05,average:.075,major:.1},style:h.a.PERCENTAGE}}}]),a}(a(869).a),de=a(7),Ee=a(203),me=a(767),he=a(757),Te=a(777),fe=a(770),ge=a(762),be=a(771),pe=a(763),Ae=a(772),Le=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,s=function(e){return b.a.createElement(Ae.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return b.a.createElement(fe.a,null,b.a.createElement(ge.c,{name:"Use core abilities as often as possible",description:b.a.createElement(b.a.Fragment,null,"Using your core abilities as often as possible can help raise your dps significantly. Some help more than others, but as a general rule of thumb you should be looking to use most of your damaging abilities and damage cooldowns as often as possible, unless you need to save them for a priority burst phase that is coming up soon."," ",b.a.createElement("a",{href:"https://stormearthandlava.com/guide/general/priority_list.html",target:"_blank",rel:"noopener noreferrer"},"More info."))},t.hasTalent(c.a.ASCENDANCE_TALENT_ELEMENTAL.id)&&b.a.createElement(s,{spell:c.a.ASCENDANCE_TALENT_ELEMENTAL.id}),t.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id)&&b.a.createElement(s,{spell:c.a.FIRE_ELEMENTAL.id}),t.hasTalent(c.a.STORM_ELEMENTAL_TALENT.id)&&b.a.createElement(s,{spell:c.a.STORM_ELEMENTAL_TALENT.id}),t.hasTalent(c.a.ICEFURY_TALENT.id)&&b.a.createElement(s,{spell:c.a.ICEFURY_TALENT.id}),t.hasTalent(c.a.STORMKEEPER_TALENT.id)&&b.a.createElement(s,{spell:c.a.STORMKEEPER_TALENT.id}),t.hasTalent(c.a.LIQUID_MAGMA_TOTEM_TALENT.id)&&b.a.createElement(s,{spell:c.a.LIQUID_MAGMA_TOTEM_TALENT.id}),t.hasTalent(c.a.ELEMENTAL_BLAST_TALENT.id)&&b.a.createElement(s,{spell:c.a.ELEMENTAL_BLAST_TALENT.id})),b.a.createElement(ge.c,{name:"Minimize Downtime",description:b.a.createElement(b.a.Fragment,null,"Downtime is the time where you are not casting and not GCD locked. Ensure you are casting as much as possible by avoiding movement when you could be casting. Elemental shaman has many GCDs available from ",b.a.createElement(T.a,{id:c.a.EARTH_SHOCK.id}),", ",b.a.createElement(T.a,{id:c.a.LAVA_SURGE.id})," empowered ",b.a.createElement(T.a,{id:c.a.LAVA_BURST.id}),"s, ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id}),", and others that help you move towards your location without incurring downtime. Additionally, cancelled casts contribute significantly as they fill a GCD without actually doing damage. It's expected that some casts will need to be cancelled due to mechanics, but proper planning can help mitigate that.")},b.a.createElement(pe.a,{name:"Downtime",thresholds:n.downtime}),b.a.createElement(pe.a,{name:"Cancelled casts",thresholds:n.cancelledCasts})),b.a.createElement(ge.c,{name:"Maintain your flame shock",description:b.a.createElement(b.a.Fragment,null,"It's important to maintain flame shock on your target to guarantee ",b.a.createElement(T.a,{id:c.a.LAVA_BURST.id})," will crit and to allow for ",b.a.createElement(T.a,{id:c.a.LAVA_SURGE.id})," procs. Applying ",b.a.createElement(T.a,{id:c.a.FLAME_SHOCK.id})," itself doesn't do much damage so you should only refresh it with 30% (about 7 seconds) or less of it's total duration remaining to beneift from pandemic.")},b.a.createElement(pe.a,{name:b.a.createElement(b.a.Fragment,null,b.a.createElement(T.a,{id:c.a.FLAME_SHOCK.id})," uptime"),thresholds:n.flameShockUptime}),b.a.createElement(pe.a,{name:b.a.createElement(b.a.Fragment,null," Bad ",b.a.createElement(T.a,{id:c.a.FLAME_SHOCK.id})," refreshes "),thresholds:n.flameShockRefreshes})),t.hasTalent(c.a.ICEFURY_TALENT.id)&&b.a.createElement(ge.c,{name:"Utilize all Icefury Stacks",description:b.a.createElement(b.a.Fragment,null,b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id}),"'s damage component itself is not a strong spell so it's important to fully utilize the talent by consuming all 4 ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id})," buff stacks with ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id})," casts during the buff's duration.",t.hasTalent(c.a.MASTER_OF_THE_ELEMENTS_TALENT.id)&&b.a.createElement(b.a.Fragment,null," While you should try to buff as many ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id})," empowered ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id})," as you can with ",b.a.createElement(T.a,{id:c.a.MASTER_OF_THE_ELEMENTS_TALENT.id}),", it is far more important to actually use all 4 charges before the buff expires."))},b.a.createElement(pe.a,{name:b.a.createElement(b.a.Fragment,null,"Average ",b.a.createElement(T.a,{id:c.a.FROST_SHOCK.id})," Casts within ",b.a.createElement(T.a,{id:c.a.ICEFURY_TALENT.id})," Duration"),thresholds:n.icefuryEfficiency})),t.hasTalent(c.a.ASCENDANCE_TALENT_ELEMENTAL)&&b.a.createElement(ge.c,{name:"Spam Meatballs(Lava Burst)",description:b.a.createElement(b.a.Fragment,null,b.a.createElement(T.a,{id:c.a.ASCENDANCE_TALENT_ELEMENTAL.id}),"'s damage comes from spamming ",b.a.createElement(T.a,{id:c.a.LAVA_BURST.id})," during it's duration. Only use ",b.a.createElement(T.a,{id:c.a.LAVA_BURST.id})," and ",b.a.createElement(T.a,{id:c.a.EARTH_SHOCK.id})," while it is up.",t.hasTalent(c.a.ASCENDANCE_TALENT_ELEMENTAL.id)&&b.a.createElement(b.a.Fragment,null," Use ",b.a.createElement(T.a,{id:c.a.LAVA_BURST.id})," as much as you can. Only use ",b.a.createElement(T.a,{id:c.a.EARTH_SHOCK.id})," when you need to spend Malestrom.."))},b.a.createElement(pe.a,{name:b.a.createElement(b.a.Fragment,null,'"Wrong" Casts within ',b.a.createElement(T.a,{id:c.a.ASCENDANCE_TALENT_ELEMENTAL.id})," Duration"),thresholds:n.ascendanceEfficiency})),b.a.createElement(be.a,{thresholds:n}))},Oe=a(989),ye=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).combatants=void 0,e.castEfficiency=void 0,e.preparationRuleAnalyzer=void 0,e.cancelledCasts=void 0,e.alwaysBeCasting=void 0,e.icefury=void 0,e.ascendance=void 0,e.flameshock=void 0,e}return Object(l.a)(a,[{key:"render",value:function(){return b.a.createElement(Le,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(de.a)(Object(de.a)({},this.preparationRuleAnalyzer.thresholds),{},{cancelledCasts:this.cancelledCasts.cancelledCastSuggestionThresholds,downtime:this.alwaysBeCasting.downtimeSuggestionThresholds,icefuryEfficiency:this.icefury.suggestionThresholds,ascendanceEfficiency:this.ascendance.suggestionThresholds,flameShockUptime:this.flameshock.uptimeThreshold,flameShockRefreshes:this.flameshock.refreshThreshold})})}}]),a}(Ee.a);ye.dependencies={combatants:he.a,castEfficiency:me.a,preparationRuleAnalyzer:Te.a,cancelledCasts:ue,alwaysBeCasting:p,icefury:ne,ascendance:j,flameshock:Oe.a};var Se=ye,_e=a(888),Ce=a(939),ve=a(940),Ne=a(1031),Re=a(941),Ie=a(1032),ke=a(812),je=a(781),Me=a(28),we=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).resource=v.a.MAELSTROM,e.maxResource=100,e}return a}(a(773).a),Fe=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholdsWasted).addSuggestion((function(e,a,n){return e("You overcapped ".concat(t.wasted," Maelstrom. Always prioritize spending it over avoiding the overcap of any other ability.")).icon("spell_shadow_mindflay").actual(H.i18n._({id:"shaman.shared.suggestions.maelstrom.overcapped",defaults:"{0}% overcapped Maelstrom",values:{0:Object(f.e)(a)}})).recommended("".concat(Object(f.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return[b.a.createElement(L.b,{key:"StatisticBox",position:L.a.CORE(1),icon:b.a.createElement(Me.a,{icon:"spell_shadow_mindflay"}),value:"".concat(Object(f.e)(this.wastedPercent)," %"),label:"Overcapped Maelstrom",tooltip:"".concat(this.wasted," out of ").concat(this.total," Maelstrom wasted.")}),b.a.createElement(ke.a,{key:"Panel",title:"Maelstrom usage",position:200,pad:!1},b.a.createElement(je.a,{tracker:this.maelstromTracker,showSpenders:!0}))]}},{key:"wasted",get:function(){return this.maelstromTracker.wasted||0}},{key:"total",get:function(){return this.maelstromTracker.wasted+this.maelstromTracker.generated||0}},{key:"wastedPerMinute",get:function(){return this.wasted/this.owner.fightDuration*1e3*60||0}},{key:"wastedPercent",get:function(){return this.wasted/this.total||0}},{key:"suggestionThresholdsWasted",get:function(){return{actual:this.wastedPercent,isGreaterThan:{minor:0,average:.02,major:.05},style:"percentage"}}},{key:"suggestionThresholds",get:function(){return{actual:1-this.wastedPercent,isLessThan:{minor:1,average:.98,major:.95},style:"percentage"}}}]),a}(A.c);Fe.dependencies={maelstromTracker:we};var Ge=Fe,Be=a(49),De=a(788),Pe=a(779),He="rgba(0, 139, 215, 0.2)",Ue="rgba(0, 145, 255, 1)",xe="rgba(255, 20, 147, 0.3)",Ke="rgba(255, 90, 160, 1)",We=function(e){if(!e.tracker)return b.a.createElement("div",null,"Loading...");var t=e.start,a=[];e.tracker.resourceUpdates.forEach((function(e){var n=Math.floor((e.timestamp-t)/1e3);a.push({kind:"Maelstrom",x:n,y:e.current}),a.push({kind:"Wasted",x:n,y:e.waste})}));var n={data:a},s={mark:{type:"area",line:{strokeWidth:1}},encoding:{x:{field:"x",type:"quantitative",axis:{labelExpr:Object(Pe.c)("datum.value * 1000"),grid:!1},scale:{nice:!1},title:"Time"},y:{field:"y",type:"quantitative",axis:{grid:!1},title:"Maelstrom"},color:{field:"kind",type:"nominal",title:null,legend:{orient:"top"},scale:{domain:["Maelstrom","Wasted"],range:[He,xe]}},stroke:{field:"kind",type:"nominal",title:null,legend:{orient:"top"},scale:{domain:["Maelstrom","Wasted"],range:[Ue,Ke]}}},data:{name:"data"}};return b.a.createElement(De.a,{disableHeight:!0},(function(e){var t=e.width;return b.a.createElement(Pe.a,{height:400,width:t,spec:s,data:n})}))},Ye=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"tab",value:function(){var e=this;return{title:"Maelstrom Chart",url:"maelstrom",render:function(){return b.a.createElement(Be.a,{style:{padding:"15px 22px"}},b.a.createElement(We,{start:e.owner.fight.start_time,end:e.owner.fight.end_time,tracker:e.maelstromTracker}))}}}}]),a}(A.c);Ye.dependencies={maelstromTracker:we};var ze=Ye,Ve=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);Ve.specModules={abilities:E,flameShock:Oe.a,lavaSurge:oe,buffs:d,cancelledCasts:ue,alwaysBeCasting:p,earthenRage:w,aftershock:N,elementalBlast:Ie.a,spiritWolf:Ce.a,earthShield:_e.b,staticCharge:ve.a,masterOfTheElements:P,stormElemental:z,liquidMagmaTotem:F,surgeOfPower:ee,primalFireElemental:x,primalStormElemental:W,icefury:ne,unlimitedPowerTimesByStacks:J,unlimitedPower:Z,stormkeeper:q,ascendance:j,staticDischarge:se,echoingShock:ie,maelstromTracker:we,maelstromDetails:Ge,maelstromTab:ze,ankhNormalizer:Ne.a,checklist:Se,astralShift:Re.a};t.default=Ve},761:function(e,t,a){"use strict";var n=a(0),s=a.n(n);t.a=function(e){var t=e.label,a=e.children,n=e.className;return s.a.createElement("div",{className:"pad boring-text ".concat(n||"")},s.a.createElement("label",null,t),s.a.createElement("div",{className:"value"},a))}},762:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"a",(function(){return T}));var n=a(7),s=a(26),i=a(31),r=a(0),l=a.n(r),c=a(821),o=a(124),u=a(822),d=a(795);function E(e){var t=Object(s.a)(e);t.sort((function(e,t){return e-t}));var a=Math.floor(t.length/2);return t.length%2?t[a]:(t[a-1]+t[a])/2}function m(e){return e.reduce((function(e,t){return e+t}),0)/e.length}function h(e){return e.length/e.reduce((function(e,t){return e+1/t}),0)}var T,f=l.a.createContext((function(e){}));!function(e){e.DEFAULT="DEFAULT",e.MEDIAN="MEDIAN",e.AVERAGE="AVERAGE",e.LOWEST="LOWEST",e.FIRST="FIRST",e.HARMONIC="HARMONIC"}(T||(T={}));t.c=function(e){var t=Object(r.useState)({requirementPerformances:[],performance:1,passed:!0,expanded:!1}),a=Object(i.a)(t,2),g=a[0],b=a[1],p=Object(r.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T.DEFAULT;switch(t){case T.DEFAULT:return Math.min(E(e),m(e));case T.MEDIAN:return E(e);case T.AVERAGE:return m(e);case T.LOWEST:return Math.min.apply(Math,Object(s.a)(e));case T.FIRST:return e[0];case T.HARMONIC:return h(e);default:throw new Error("Unknown style: ".concat(t))}}),[]),A=e.name,L=e.children,O=e.description;if(!L||Array.isArray(L)&&!L.some((function(e){return!(!l.a.isValidElement(e)||!(null===e||void 0===e?void 0:e.props))})))return null;return l.a.createElement(f.Provider,{value:function(t){b((function(a){var n=[].concat(Object(s.a)(a.requirementPerformances),[t]),i=n.length>0?p(n,e.performanceMethod):1,r=i>.666;return{requirementPerformances:n,performance:i,passed:r,expanded:!r}}))}},l.a.createElement(u.a,{element:"li",className:g.passed?"passed":"failed",inverseExpanded:function(){b((function(e){return Object(n.a)(Object(n.a)({},e),{},{expanded:!e.expanded})}))},expanded:g.expanded,header:l.a.createElement("div",{className:"flex wrapable"},l.a.createElement("div",{className:"flex-main name"},A),l.a.createElement("div",{className:"flex-sub perf"},l.a.createElement("div",{className:"perf-container"},l.a.createElement("div",{className:"perf-bar",style:{width:"".concat(100*g.performance,"%"),backgroundColor:Object(d.a)(g.performance)}}))),l.a.createElement("div",{className:"flex-sub chevron"},l.a.createElement("div",null,l.a.createElement(c.a,null))))},O&&l.a.createElement("div",{className:"row text-muted description"},l.a.createElement(o.a,null),l.a.createElement("div",{className:"col-md-12"},O)),l.a.createElement("div",{className:"row"},L)))}},763:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(10),r=a(11),l=a(6),c=a(0),o=a.n(c),u=a(124),d=a(33),E=a(22),m=a(795),h=a(164);var T=a(762),f=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),s=t.call(this,e),e.setPerformance(s.performance),s}return Object(s.a)(a,[{key:"formatThresholdsActual",value:function(e){switch(e.style){case h.a.PERCENTAGE:return"".concat(Object(d.e)(e.actual),"%");case h.a.NUMBER:return"".concat(Object(d.d)(e.actual));case h.a.THOUSANDS:return"".concat(Object(d.f)(e.actual));case h.a.DECIMAL:return"".concat(e.actual.toFixed(2));case h.a.BOOLEAN:return e.actual?o.a.createElement(l.Trans,{id:"common.yes"}):o.a.createElement(l.Trans,{id:"common.no"});case h.a.SECONDS:return"".concat(e.actual.toFixed(2),"s");default:throw new Error("Unknown style: ".concat(e.style))}}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.thresholds,n=e.tooltip,s=e.valueTooltip,i=e.prefix,r=e.suffix,l=this.performance,c=void 0,d=a;void 0!==d.max&&(c="/ ".concat(d.max));var h=o.a.createElement(o.a.Fragment,null,i," ",this.formatThresholdsActual(a)," ",c," ",r);return o.a.createElement("div",{className:"col-md-6"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"flex-main"},t),n&&o.a.createElement("div",{className:"flex-sub",style:{marginLeft:10}},o.a.createElement(E.b,{content:n},o.a.createElement("div",null,o.a.createElement(u.a,null)))),o.a.createElement("div",{className:"flex-sub content-middle text-muted",style:{minWidth:55,marginLeft:5,marginRight:10}},o.a.createElement("div",{className:"text-right",style:{width:"100%"}},s?o.a.createElement(E.a,{content:s},h):h)),o.a.createElement("div",{className:"flex-sub content-middle",style:{width:50}},o.a.createElement("div",{className:"performance-bar-container"},o.a.createElement("div",{className:"performance-bar small",style:{width:"".concat(100*l,"%"),transition:"background-color 800ms",backgroundColor:Object(m.a)(l)}})))))}},{key:"performance",get:function(){return function(e){if(e.isGreaterThan)return"object"===typeof e.isGreaterThan?function(e,t){var a=t.minor,n=t.average,s=t.major;return e>s?.333*s/e:e>n?.666-(e-n)/(s-n)*.333:e>a?1-(e-a)/(n-a)*.333:1}(e.actual,e.isGreaterThan):e.isGreaterThan/e.actual;if(e.isLessThan)return"object"===typeof e.isLessThan?function(e,t){var a=t.minor,n=t.average,s=t.major;return e<s?.333*e/s:e<n?.333+(e-s)/(n-s)*.333:e<a?.666+(e-n)/(a-n)*.333:1}(e.actual,e.isLessThan):e.actual/e.isLessThan;if(void 0!==e.isEqual)return e.actual!==e.isEqual?1:0;throw new Error("Failed to recognize threshold type")}(this.props.thresholds)}}]),a}(o.a.PureComponent);t.a=function(e){return o.a.createElement(T.b.Consumer,null,(function(t){return o.a.createElement(f,Object.assign({},e,{setPerformance:t}))}))}},770:function(e,t,a){"use strict";var n=a(6),s=a(0),i=a.n(s);a(830);t.a=function(e){var t=e.children;return i.a.createElement("ul",{className:"checklist"},!t&&i.a.createElement("li",null,i.a.createElement("div",{className:"alert alert-danger"},i.a.createElement(n.Trans,{id:"shared.checklist.missingChecklist",components:[i.a.createElement("a",{href:"https://github.com/WoWAnalyzer/WoWAnalyzer"}),i.a.createElement("a",{href:"https://discord.gg/AxphPxU"})]}))),t)}},771:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(10),r=a(11),l=a(6),c=a(0),o=a.n(c),u=a(762),d=a(763),E=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"renderPotionRequirements",value:function(){var e=this.props.thresholds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.combatPotionsUsed"}),thresholds:e.potionsUsed}),o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.highQualityCombatPotionsUsed"}),thresholds:e.bestPotionUsed}))}},{key:"renderEnchantRequirements",value:function(){var e=this.props.thresholds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.enchanted"}),thresholds:e.itemsEnchanted}),o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.enchantedHigh"}),thresholds:e.itemsBestEnchanted}))}},{key:"renderWeaponEnhancementRequirements",value:function(){var e=this.props.thresholds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"All weapons enhanced (oils/stones)"}),thresholds:e.weaponsEnhanced}),o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"Using high quality weapon enhancements"}),thresholds:e.bestWeaponEnhancements}))}},{key:"renderFlaskRequirements",value:function(){var e=this.props.thresholds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.flaskHigh"}),thresholds:e.higherFlaskPresent}),o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.flask"}),thresholds:e.flaskPresent}))}},{key:"renderFoodRequirements",value:function(){var e=this.props.thresholds;return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.foodHigh"}),thresholds:e.higherFoodPresent}),o.a.createElement(d.a,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.food"}),thresholds:e.foodPresent}))}},{key:"render",value:function(){var e=this.props.children;return o.a.createElement(u.c,{name:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.wellPrepared"}),description:o.a.createElement(l.Trans,{id:"shared.modules.features.checklist.wellPreparedDetails"})},this.renderEnchantRequirements(),this.renderWeaponEnhancementRequirements(),this.renderPotionRequirements(),this.renderFlaskRequirements(),this.renderFoodRequirements(),e)}}]),a}(o.a.PureComponent);t.a=E},772:function(e,t,a){"use strict";var n=a(27),s=a(8),i=a(9),r=a(10),l=a(11),c=a(0),o=a.n(c),u=a(4),d=a(40),E=a(763),m=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.spell,a=e.name,s=Object(n.a)(e,["spell","name"]),i=this.thresholds;return i?o.a.createElement(E.a,Object.assign({name:a||o.a.createElement(u.a,{id:t}),thresholds:i},s)):null}},{key:"thresholds",get:function(){if(!this.props.castEfficiency)return Object(d.a)(new Error("GenericCastEfficiencyRequirement requires that you pass the castEfficiency object yourself. Spell: ".concat(this.props.spell))),null;if(this.props.isMaxCasts){var e=this.props.castEfficiency,t=e.casts,a=e.maxCasts;return{actual:t,max:a,isLessThan:{minor:a,average:a-1,major:a-2},style:"number"}}var n=this.props.castEfficiency,s=n.efficiency;return{actual:n.gotMaxCasts?1:s,isLessThan:{minor:n.recommendedEfficiency,average:n.averageIssueEfficiency,major:n.majorIssueEfficiency},style:"percentage"}}}]),a}(o.a.PureComponent);t.a=m},773:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(10),r=a(11),l=a(43),c=a(123),o=a(15),u=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).eventEmitter=void 0,s.current=0,s.resourceUpdates=[],s.buildersObj={},s.spendersObj={},s.resource=void 0,s.maxResource=void 0,s.addEventListener(o.f.energize.to(l.a),s.onEnergize),s.addEventListener(o.f.cast.by(l.a),s.onCast),s}return Object(s.a)(a,[{key:"initBuilderAbility",value:function(e){this.buildersObj[e]={generated:0,wasted:0,casts:0}}},{key:"initSpenderAbility",value:function(e){this.spendersObj[e]={spent:0,spentByCast:[],casts:0}}},{key:"onEnergize",value:function(e){var t=e.ability.guid;if(e.resourceChangeType===this.resource.id){var a=e.waste,n=e.resourceChange-a;this._applyBuilder(t,n,a,this.getResource(e),e.timestamp)}}},{key:"processInvisibleEnergize",value:function(e,t){var a=void 0!==this.maxResource?this.maxResource-this.current:t,n=Math.min(t,a),s=Math.max(t-a,0);this._applyBuilder(e,n,s)}},{key:"_applyBuilder",value:function(e,t,a,n,s){this.buildersObj[e]||this.initBuilderAbility(e),this.buildersObj[e].wasted+=a,this.buildersObj[e].generated+=t,this.buildersObj[e].casts+=1,null!==n&&void 0!==n&&void 0!==n.amount?(this.current=n.amount,void 0!==n.max&&(this.maxResource=n.max)):this.current+=t,this.resourceUpdates.push({timestamp:s,current:this.current,waste:a,generated:t,used:0})}},{key:"onCast",value:function(e){var t=e.ability.guid;if(this.shouldProcessCastEvent(e)){var a=this.getResource(e);if(a){a.max&&(this.maxResource=a.max);var n=this.getReducedCost(e);this.spendersObj[t]||this.initSpenderAbility(t),n&&0!==n&&(this.spendersObj[t].casts+=1,this.spendersObj[t].spentByCast.push(n),n>0&&(this.spendersObj[t].spent+=n),this.current=a.amount-n,this.resourceUpdates.push({timestamp:e.timestamp,current:this.current,waste:0,generated:0,used:a.amount}),this.triggerSpendEvent(n,e))}}}},{key:"getReducedCost",value:function(e){var t;return e.resourceCost&&void 0!==e.resourceCost[this.resource.id]?e.resourceCost[this.resource.id]:null===(t=this.getResource(e))||void 0===t?void 0:t.cost}},{key:"getResource",value:function(e){var t=this;return e.classResources?e.classResources.find((function(e){return e.type===t.resource.id})):void 0}},{key:"triggerSpendEvent",value:function(e,t){var a={type:o.b.SpendResource,timestamp:t.timestamp,sourceID:t.sourceID,targetID:t.targetID,resourceChange:e,resourceChangeType:this.resource.id,ability:t.ability,__fabricated:!0};this.eventEmitter.fabricateEvent(a,t)}},{key:"shouldProcessCastEvent",value:function(e){return Boolean(this.getResource(e))}},{key:"getGeneratedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].generated||0}},{key:"getWastedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].wasted||0}},{key:"getBuilderCastsBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].casts||0}},{key:"generated",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.generated}),0)}},{key:"wasted",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.wasted}),0)}},{key:"spent",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.spent}),0)}},{key:"spendersCasts",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.casts}),0)}}]),a}(l.c);u.dependencies={eventEmitter:c.a},t.a=u},781:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(10),r=a(11),l=a(0),c=a.n(l),o=a(4),u=a(33),d=a(22),E=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"prepareGenerated",value:function(e){return Object.keys(e).map((function(t){return{abilityId:Number(t),generated:e[Number(t)].generated,wasted:e[Number(t)].wasted}})).sort((function(e,t){return t.generated-e.generated})).filter((function(e){return e.generated>0||e.wasted}))}},{key:"prepareSpent",value:function(e){return Object.keys(e).map((function(t){return{abilityId:Number(t),spent:e[Number(t)].spent,casts:e[Number(t)].casts}})).sort((function(e,t){return t.spent-e.spent})).filter((function(e){return e.spent>0}))}},{key:"render",value:function(){var e=this.props,t=e.tracker,a=e.showSpenders,n=t.resource.name,s=this.prepareGenerated(t.buildersObj),i=this.prepareSpent(t.spendersObj),r=t.generated,l=t.wasted,E=t.spent,m=t.spendersCasts;return r=0===r?1:r,l=0===l?1:l,E=0===E?1:E,m=0===m?1:m,c.a.createElement(c.a.Fragment,null,c.a.createElement("table",{className:"data-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Ability"),c.a.createElement("th",{colSpan:2},n," generated"),c.a.createElement("th",{colSpan:2},c.a.createElement(d.a,{content:"This is the amount of resources that were generated while you were already at cap."},n," wasted")))),c.a.createElement("tbody",null,s&&s.map((function(e){return c.a.createElement("tr",{key:e.abilityId},c.a.createElement("td",{style:{width:"30%"}},c.a.createElement(o.a,{id:e.abilityId})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(d.a,{content:"".concat(Object(u.e)(e.generated/r)," %")},e.generated.toFixed(0))),c.a.createElement("td",{style:{width:"40%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.generated/r*100,"%")}})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(d.a,{content:"".concat(Object(u.e)(e.wasted/l)," %")},e.wasted.toFixed(0))),c.a.createElement("td",{style:{width:"30%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.wasted/l*100,"%")}})))})))),a&&c.a.createElement("table",{className:"data-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Ability"),c.a.createElement("th",{colSpan:2},n," spent"),c.a.createElement("th",{colSpan:2},"Casts"))),c.a.createElement("tbody",null,i&&i.map((function(e){return c.a.createElement("tr",{key:e.abilityId},c.a.createElement("td",{style:{width:"30%"}},c.a.createElement(o.a,{id:e.abilityId})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(d.a,{content:"".concat(Object(u.e)(e.spent/E)," %")},e.spent.toFixed(0))),c.a.createElement("td",{style:{width:"40%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.spent/E*100,"%")}})),c.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},c.a.createElement(d.a,{content:"".concat(Object(u.e)(e.casts/m)," %")},e.casts)),c.a.createElement("td",{style:{width:"30%"}},c.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.casts/m*100,"%")}})))})))))}}]),a}(c.a.Component);t.a=E},795:function(e,t,a){"use strict";function n(e){return e>=1?"#4ec04e":e>.666?"#a6c34c":e>.5?"#ffc84a":e>.333?"#df7102":"#ac1f39"}a.d(t,"a",(function(){return n}))},821:function(e,t,a){"use strict";var n=a(0),s=a.n(n);t.a=function(e){var t=Object.assign({},e);return s.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 9",className:"icon"},t),s.a.createElement("path",{d:"M14.0059397,2.26485497e-14 C15.1072288,2.26485497e-14 15.3722573,0.627746582 14.5881847,1.41182411 L8.70999225,7.29005337 C8.317902,7.68214607 7.67653023,7.6764822 7.29009898,7.29005337 L1.41183294,1.41182411 C0.632099139,0.632095183 0.894513756,2.26485497e-14 1.99406028,2.26485497e-14 L14.0059397,2.26485497e-14 Z"}))}},822:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o}));var n=a(31),s=a(0),i=a.n(s),r=a(798),l=a.n(r),c=(a(823),function(e){var t=Object(s.useState)(!1),a=Object(n.a)(t,2),r=a[0],c=a[1],o=e.header,u=e.children,d=e.element,E=e.className;return i.a.createElement(d,{className:"expandable ".concat(r?"expanded":""," ").concat(E||"")},i.a.createElement("div",{className:"meta",onClick:function(){c((function(e){return!e}))}},o),i.a.createElement(l.a,{className:"details",height:r?"auto":0},u))}),o=function(e){var t=e.header,a=e.children,n=e.element,s=e.className;return i.a.createElement(n,{className:"expandable ".concat(e.expanded?"expanded":""," ").concat(s||"")},i.a.createElement("div",{className:"meta",onClick:e.inverseExpanded},t),i.a.createElement(l.a,{className:"details",height:e.expanded?"auto":0},a))}},823:function(e,t,a){},830:function(e,t,a){},831:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(15);function s(e){switch(e.type){case n.b.RemoveBuff:case n.b.RemoveDebuff:return 0;case n.b.ApplyBuff:case n.b.ApplyDebuff:return 1;case n.b.ApplyBuffStack:case n.b.RemoveBuffStack:case n.b.ApplyDebuffStack:case n.b.RemoveDebuffStack:return e.stack}throw new Error("Invalid event type for currentStacks")}},869:function(e,t,a){"use strict";var n=a(8),s=a(9),i=a(10),r=a(11),l=a(0),c=a.n(l),o=a(33),u=a(43),d=a(164),E=a(211),m=a(746),h=a(761),T=a(747),f=a(833),g=a(895),b=a(15),p=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).castsCancelled=0,s.castsFinished=0,s.beginCastSpell=void 0,s.wasCastStarted=!1,s.cancelledSpellList={},s.IGNORED_ABILITIES=[],s.addEventListener(b.f.begincast.by(u.a),s.onBeginCast),s.addEventListener(b.f.cast.by(u.a),s.onCast),s.addEventListener(b.f.fightend,s.onFightend),s}return Object(s.a)(a,[{key:"onBeginCast",value:function(e){var t=e.ability.guid;this.IGNORED_ABILITIES.includes(t)||f.a.includes(t)||g.a.includes(t)||(this.wasCastStarted&&void 0!==this.beginCastSpell&&e.timestamp-this.beginCastSpell.timestamp>100&&(this.castsCancelled+=1,this.addToCancelledList()),this.beginCastSpell=e,this.wasCastStarted=!0)}},{key:"onCast",value:function(e){var t=e.ability.guid,a=this.beginCastSpell&&this.beginCastSpell.ability;this.IGNORED_ABILITIES.includes(t)||f.a.includes(t)||g.a.includes(t)||!a||(a.guid!==t&&this.wasCastStarted&&(this.castsCancelled+=1,this.addToCancelledList()),a.guid===t&&this.wasCastStarted&&(this.castsFinished+=1),this.wasCastStarted=!1)}},{key:"addToCancelledList",value:function(){if(this.beginCastSpell){var e=this.beginCastSpell.ability;this.cancelledSpellList[e.guid]?this.cancelledSpellList[e.guid].amount+=1:this.cancelledSpellList[e.guid]={spellName:e.name,amount:1}}}},{key:"onFightend",value:function(){}},{key:"statistic",value:function(){return c.a.createElement(m.a,{position:T.a.CORE(10),size:"small",className:"value",tooltip:c.a.createElement(c.a.Fragment,null,"You cast ",this.totalCasts," spells.",c.a.createElement("ul",null,c.a.createElement("li",null,this.castsFinished," casts were completed"),c.a.createElement("li",null,this.castsCancelled," casts were cancelled")))},c.a.createElement(h.a,{label:"Cancelled Casts"},c.a.createElement(E.a,null)," ",Object(o.e)(this.cancelledPercentage),"% ",c.a.createElement("small",null,"Casts Cancelled")))}},{key:"totalCasts",get:function(){return this.castsCancelled+this.castsFinished}},{key:"cancelledPercentage",get:function(){return this.castsCancelled/this.totalCasts}},{key:"cancelledCastSuggestionThresholds",get:function(){return{actual:this.cancelledPercentage,isGreaterThan:{minor:.02,average:.05,major:.15},style:d.a.PERCENTAGE}}}]),a}(u.c);t.a=p}}]);
//# sourceMappingURL=ElementalShaman.76ebd53a.chunk.js.map
(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[53],{745:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),s=a(11),r=a(776),c=a(815),o=a(9),l=a(0),u=a.n(l),d=a(3),E=a(4),h=a(753),g=a(121),f=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:d.a.FESTERING_STRIKE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.SCOURGE_STRIKE,enabled:!e.hasTalent(d.a.CLAWING_SHADOWS_TALENT.id),category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.CLAWING_SHADOWS_TALENT,enabled:e.hasTalent(d.a.CLAWING_SHADOWS_TALENT.id),category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.DEATH_COIL,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.CHAINS_OF_ICE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:40,gcd:{base:1500}},{spell:d.a.DARK_TRANSFORMATION,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.OUTBREAK,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.EPIDEMIC,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:d.a.DEATH_AND_DECAY,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,enabled:!e.hasTalent(d.a.DEFILE_TALENT.id),cooldown:30,gcd:{base:1500}},{spell:d.a.APOCALYPSE,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:75,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.95,extraSuggestion:u.a.createElement("span",null,"Making sure to use ",u.a.createElement(E.a,{id:d.a.APOCALYPSE.id})," immediately after it's cooldown is up is important, try to plan for it's use as it is coming off cooldown.")}},{spell:[d.a.SUMMON_GARGOYLE_TALENT,d.a.DARK_ARBITER_TALENT_GLYPH],category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{base:1500},enabled:e.hasTalent(d.a.SUMMON_GARGOYLE_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.ARMY_OF_THE_DEAD,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:480,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.SACRIFICIAL_PACT,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:120,gcd:{base:1500}},{spell:d.a.ICEBOUND_FORTITUDE,buffSpellId:d.a.ICEBOUND_FORTITUDE.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:180,gcd:null},{spell:d.a.ANTI_MAGIC_ZONE,buffSpellId:d.a.ANTI_MAGIC_ZONE_BUFF.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:120,gcd:null,isDefensive:!0},{spell:d.a.ANTI_MAGIC_SHELL,buffSpellId:d.a.ANTI_MAGIC_SHELL.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:60,gcd:null},{spell:d.a.DEFILE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:20,gcd:{base:1500},enabled:e.hasTalent(d.a.DEFILE_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.UNHOLY_ASSAULT_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:75,enabled:e.hasTalent(d.a.UNHOLY_ASSAULT_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.UNHOLY_BLIGHT_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,enabled:e.hasTalent(d.a.UNHOLY_BLIGHT_TALENT.id),cooldown:45,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.DEATH_PACT_TALENT,category:a.SPELL_CATEGORIES.DEFENSIVE,enabled:e.hasTalent(d.a.DEATH_PACT_TALENT.id),cooldown:120,gcd:{base:1500}},{spell:d.a.ASPHYXIATE_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,gcd:{base:1500}},{spell:d.a.WRAITH_WALK_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(d.a.WRAITH_WALK_TALENT.id),gcd:{base:1500}},{spell:d.a.DEATHS_ADVANCE,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:d.a.DEATH_STRIKE,category:a.SPELL_CATEGORIES.DEFENSIVE,gcd:{base:1500}},{spell:d.a.RAISE_DEAD_UNHOLY,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500}},{spell:d.a.CONTROL_UNDEAD,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:d.a.RAISE_ALLY,category:a.SPELL_CATEGORIES.UTILITY,cooldown:600,gcd:{base:1500}},{spell:d.a.DEATH_GRIP,category:a.SPELL_CATEGORIES.UTILITY,gcd:null},{spell:d.a.MIND_FREEZE,category:a.SPELL_CATEGORIES.UTILITY,gcd:null},{spell:d.a.DARK_COMMAND,category:a.SPELL_CATEGORIES.UTILITY,cooldown:8,gcd:null},{spell:d.a.RUNE_1,category:a.SPELL_CATEGORIES.HIDDEN,cooldown:function(t){return 10/(1+t)/(1+(e.hasBuff(d.a.RUNIC_CORRUPTION.id)?1:0))},charges:2},{spell:d.a.RUNE_2,category:a.SPELL_CATEGORIES.HIDDEN,cooldown:function(t){return 10/(1+t)/(1+(e.hasBuff(d.a.RUNIC_CORRUPTION.id)?1:0))},charges:2},{spell:d.a.RUNE_3,category:a.SPELL_CATEGORIES.HIDDEN,cooldown:function(t){return 10/(1+t)/(1+(e.hasBuff(d.a.RUNIC_CORRUPTION.id)?1:0))},charges:2},{spell:d.a.SWARMING_MIST,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9},enabled:e.hasCovenant(g.a.VENTHYR.id)},{spell:d.a.DOOR_OF_SHADOWS,category:a.SPELL_CATEGORIES.UTILITY,cooldown:60,gcd:{base:1500},enabled:e.hasCovenant(g.a.VENTHYR.id)},{spell:d.a.ABOMINATION_LIMB,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9},enabled:e.hasCovenant(g.a.NECROLORD.id)},{spell:d.a.FLESHCRAFT,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:120,enabled:e.hasCovenant(g.a.NECROLORD.id)},{spell:d.a.SHACKLE_THE_UNWORTHY,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9},enabled:e.hasCovenant(g.a.KYRIAN.id)},{spell:d.a.DEATHS_DUE,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9},enabled:e.hasCovenant(g.a.NIGHT_FAE.id)},{spell:d.a.SOULSHAPE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500},enabled:e.hasCovenant(g.a.NIGHT_FAE.id)}]}}]),a}(h.a),m=a(13),p=a(33),y=a(780),b=a(164),T=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"suggestions",value:function(e){e(this.downtimeSuggestionThresholds).addSuggestion((function(e,t,a){return e(u.a.createElement("span",null,"Your downtime can be improved. Try to Always Be Casting (ABC), reducing time away from the boss unless due to mechanics.  If you do have to move, try casting filler spells, such as ",u.a.createElement(E.a,{id:d.a.DEATH_COIL.id})," or ",u.a.createElement(E.a,{id:d.a.OUTBREAK.id}),".")).icon("spell_mage_altertime").actual(m.i18n._({id:"deathknight.unholy.suggestions.alwaysBeCasting",defaults:"{0}% downtime",values:{0:Object(p.e)(t)}})).recommended("<".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"downtimeSuggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.2,average:.35,major:.4},style:b.a.PERCENTAGE}}}]),a}(y.a),O=a(26),v=a(785),R=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(v.b);R.cooldownSpells=[].concat(Object(O.a)(v.b.cooldownSpells),[{spell:d.a.UNHOLY_ASSAULT_TALENT,summary:[v.a.DAMAGE]},{spell:d.a.APOCALYPSE,summary:[v.a.DAMAGE]}]);var A=R,S=a(43),w=a(15),_=a(764),L=a(746),C=a(750),I=a(58),N=a(748),k=a(831),P=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._targets={},i.addEventListener(w.f.applydebuff.by(S.a).spell(d.a.FESTERING_WOUND),i.onFesteringWoundChange),i.addEventListener(w.f.applydebuffstack.by(S.a).spell(d.a.FESTERING_WOUND),i.onFesteringWoundChange),i.addEventListener(w.f.removedebuffstack.by(S.a).spell(d.a.FESTERING_WOUND),i.onFesteringWoundChange),i.addEventListener(w.f.removedebuff.by(S.a).spell(d.a.FESTERING_WOUND),i.onFesteringWoundChange),i}return Object(o.a)(a,[{key:"targets",get:function(){return this._targets}}]),Object(o.a)(a,[{key:"onFesteringWoundChange",value:function(e){this.targets[Object(_.b)(e.targetID,e.targetInstance)]=Object(k.a)(e)}}]),a}(S.c),j=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).woundTracker=void 0,i.totalFesteringStrikeCasts=0,i.festeringStrikeCastsOverSafeCount=0,i.addEventListener(w.f.cast.by(S.a).spell(d.a.FESTERING_STRIKE),i.onCast),i}return Object(o.a)(a,[{key:"onCast",value:function(e){this.totalFesteringStrikeCasts+=1;var t=Object(_.b)(e.targetID,e.targetInstance);this.woundTracker.targets[t]&&(this.woundTracker.targets[t]>3&&(this.festeringStrikeCastsOverSafeCount+=1))}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(u.a.createElement(u.a.Fragment,null,"You are casting ",u.a.createElement(E.a,{id:d.a.FESTERING_STRIKE.id})," too often. When spending runes remember to cast ",u.a.createElement(E.a,{id:d.a.SCOURGE_STRIKE.id})," instead on targets with more than three stacks of ",u.a.createElement(E.a,{id:d.a.FESTERING_WOUND.id}))).icon(d.a.FESTERING_STRIKE.icon).actual(m.i18n._({id:"deathknight.unholy.suggestions.festeringStrikes.efficiency",defaults:"{0}% of Festering Strikes did not risk overcapping Festering Wounds",values:{0:Object(p.e)(t)}})).recommended(">".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return u.a.createElement(L.a,{tooltip:"".concat(this.festeringStrikeCastsOverSafeCount," of out ").concat(this.totalFesteringStrikeCasts," Festering Strikes were cast on a target with more than three stacks of Festering Wounds."),position:C.a.CORE(4),category:I.a.GENERAL,size:"flexible"},u.a.createElement(N.a,{spell:d.a.FESTERING_STRIKE},u.a.createElement(u.a.Fragment,null,Object(p.e)(this.strikeEfficiency),"% ",u.a.createElement("small",null,"efficiency"))))}},{key:"strikeEfficiency",get:function(){return 1-this.festeringStrikeCastsOverSafeCount/this.totalFesteringStrikeCasts}},{key:"suggestionThresholds",get:function(){return{actual:this.strikeEfficiency,isLessThan:{minor:.8,average:.7,major:.6},style:b.a.PERCENTAGE}}}]),a}(S.c);j.dependencies={woundTracker:P};var U=j,D=a(7),x=a(203),G=a(767),W=a(757),F=a(777),H=a(781),Y=a(49),B=a(747),M=a(808),V=a(88),K=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).resource=V.a.RUNIC_POWER,i}return Object(o.a)(a,[{key:"getReducedCost",value:function(e){var t,a=null===(t=this.getResource(e))||void 0===t?void 0:t.cost;if(a)return a/10}}]),a}(a(773).a),z=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).runicPowerTracker=void 0,e}return Object(o.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e("You wasted ".concat(Object(p.e)(t.wastedPercent),"% of your Runic Power.")).icon("inv_sword_62").actual(m.i18n._({id:"deathknight.unholy.suggestions.runicPower.wasted",defaults:"{0}% wasted",values:{0:Object(p.e)(a)}})).recommended("<".concat(Object(p.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return u.a.createElement(L.a,{position:B.a.CORE(3),size:"small",tooltip:"".concat(this.runicPowerTracker.wasted," out of ").concat(this.runicPowerTracker.wasted+this.runicPowerTracker.generated," runic power wasted.")},u.a.createElement(M.a,{resource:V.a.RUNIC_POWER,value:"".concat(Object(p.e)(this.wastedPercent)," %"),label:"Runic Power wasted"}))}},{key:"tab",value:function(){var e=this;return{title:"Runic Power usage",url:"runic-power-usage",render:function(){return u.a.createElement(Y.a,null,u.a.createElement(H.a,{tracker:e.runicPowerTracker,showSpenders:!0}))}}}},{key:"wastedPercent",get:function(){return this.runicPowerTracker.wasted/(this.runicPowerTracker.wasted+this.runicPowerTracker.generated)||0}},{key:"efficiencySuggestionThresholds",get:function(){return{actual:1-this.wastedPercent,isLessThan:{minor:.95,average:.9,major:.85},style:b.a.PERCENTAGE}}},{key:"suggestionThresholds",get:function(){return{actual:this.wastedPercent,isGreaterThan:{minor:.05,average:.1,major:.15},style:b.a.PERCENTAGE}}}]),a}(S.c);z.dependencies={runicPowerTracker:K};var q=z,Z=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"suggestionThresholds",get:function(){return{actual:1-this.runeEfficiency,isGreaterThan:{minor:.15,average:.25,major:.35},style:"percentage"}}},{key:"suggestionThresholdsEfficiency",get:function(){return{actual:this.runeEfficiency,isLessThan:{minor:.85,average:.75,major:.65},style:"percentage"}}}]),a}(a(848).a),J=a(770),X=a(762),Q=a(763),$=a(771),ee=a(772),te=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,i=function(e){return u.a.createElement(ee.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return u.a.createElement(J.a,null,u.a.createElement(X.c,{name:"Use cooldowns as often as possible",description:u.a.createElement(u.a.Fragment,null,"You should aim to use your cooldowns as often as you can to maximize your damage output.",u.a.createElement("a",{href:"https://www.wowhead.com/unholy-death-knight-rotation-guide#cooldown-usage",target:"_blank",rel:"noopener noreferrer"},"More info."))},u.a.createElement(i,{spell:d.a.APOCALYPSE.id}),u.a.createElement(i,{spell:d.a.DARK_TRANSFORMATION.id}),t.hasTalent(d.a.SOUL_REAPER_TALENT.id)&&u.a.createElement(i,{spell:d.a.SOUL_REAPER_TALENT.id}),t.hasTalent(d.a.SUMMON_GARGOYLE_TALENT.id)&&u.a.createElement(i,{spell:d.a.SUMMON_GARGOYLE_TALENT.id}),t.hasTalent(d.a.UNHOLY_ASSAULT_TALENT.id)&&u.a.createElement(i,{spell:d.a.UNHOLY_ASSAULT_TALENT.id}),a.getCastEfficiencyForSpellId(d.a.ARCANE_TORRENT_RUNIC_POWER.id)&&u.a.createElement(i,{spell:d.a.ARCANE_TORRENT_RUNIC_POWER.id}),t.hasTalent(d.a.UNHOLY_BLIGHT_TALENT.id)&&u.a.createElement(i,{spell:d.a.UNHOLY_BLIGHT_TALENT.id}),t.hasTalent(d.a.DEFILE_TALENT.id)&&u.a.createElement(i,{spell:d.a.DEFILE_TALENT.id})),u.a.createElement(X.c,{name:"Try to avoid being inactive for a large portion of the fight",description:u.a.createElement(u.a.Fragment,null,"While some downtime is inevitable in fights with movement, you should aim to reduce downtime to prevent capping Runes.")},u.a.createElement(Q.a,{name:"Downtime",thresholds:n.downtimeSuggestionThresholds})),u.a.createElement(X.c,{name:"Avoid capping Runes",description:"Death Knights are a resource based class, relying on Runes and Runic Power to cast core abilities.  You can have up to three runes recharging at once.  You want to dump runes whenever you have 4 or more runes to make sure none are wasted"},u.a.createElement(Q.a,{name:"Rune Efficiency",thresholds:n.runeEfficiency})),u.a.createElement(X.c,{name:"Avoid capping Runic Power",description:u.a.createElement(u.a.Fragment,null,"Death Knights are a resource based class, relying on Runes and Runic Power to cast core abilities.  Cast ",u.a.createElement(E.a,{id:d.a.DEATH_COIL.id})," when you have 72 or more Runic Power to avoid overcapping.")},u.a.createElement(Q.a,{name:"Runic Power Efficiency",thresholds:n.runicPowerEfficiency})),u.a.createElement($.a,{thresholds:n}))},ae=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).combatants=void 0,e.castEfficiency=void 0,e.preparationRuleAnalyzer=void 0,e.alwaysBeCasting=void 0,e.runeTracker=void 0,e.runicPowerDetails=void 0,e}return Object(o.a)(a,[{key:"render",value:function(){return u.a.createElement(te,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(D.a)(Object(D.a)({},this.preparationRuleAnalyzer.thresholds),{},{runeEfficiency:this.runeTracker.suggestionThresholdsEfficiency,runicPowerEfficiency:this.runicPowerDetails.efficiencySuggestionThresholds,downtimeSuggestionThresholds:this.alwaysBeCasting.downtimeSuggestionThresholds})})}}]),a}(x.a);ae.dependencies={combatants:W.a,castEfficiency:G.a,alwaysBeCasting:T,preparationRuleAnalyzer:F.a,runicPowerDetails:q,runeTracker:Z};var ne=ae,ie=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).woundTracker=void 0,i.activeSpell=void 0,i.totalCasts=0,i.zeroWoundCasts=0,i.activeSpell=i.selectedCombatant.hasTalent(d.a.CLAWING_SHADOWS_TALENT.id)?d.a.CLAWING_SHADOWS_TALENT:d.a.SCOURGE_STRIKE,i.addEventListener(w.f.cast.by(S.a).spell(i.activeSpell),i.onCast),i}return Object(o.a)(a,[{key:"onCast",value:function(e){this.totalCasts+=1;var t=Object(_.b)(e.targetID,e.targetInstance);this.woundTracker.targets[t]?this.woundTracker.targets[t]<1&&(this.zeroWoundCasts+=1):this.zeroWoundCasts+=1}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(u.a.createElement(u.a.Fragment,null,"You are casting ",u.a.createElement(E.a,{id:t.activeSpell.id})," too often. When spending runes remember to cast ",u.a.createElement(E.a,{id:t.activeSpell.id})," instead on targets with no stacks of ",u.a.createElement(E.a,{id:t.activeSpell.id}))).icon(t.activeSpell.icon).actual(m.i18n._({id:"deathknight.unholy.suggestions.scourgeStrike.efficiency",defaults:"{0}% of {1} were used with Wounds on the target",values:{0:Object(p.e)(a),1:t.activeSpell.name}})).recommended(">".concat(Object(p.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){return u.a.createElement(L.a,{tooltip:"".concat(this.zeroWoundCasts," out of ").concat(this.totalCasts," ").concat(this.activeSpell.name," were used with no Festering Wounds on the target."),position:C.a.CORE(3),category:I.a.GENERAL,size:"flexible"},u.a.createElement(N.a,{spell:d.a.SCOURGE_STRIKE},u.a.createElement(u.a.Fragment,null,Object(p.e)(this.strikeEfficiency),"% ",u.a.createElement("small",null,"efficiency"))))}},{key:"strikeEfficiency",get:function(){return 1-this.zeroWoundCasts/this.totalCasts}},{key:"suggestionThresholds",get:function(){return{actual:this.strikeEfficiency,isLessThan:{minor:.8,average:.7,major:.6},style:b.a.PERCENTAGE}}}]),a}(S.c);ie.dependencies={woundTracker:P};var se=ie,re=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).enemies=void 0,i.totalApocalypseCasts=0,i.apocalypseWoundsPopped=0,i.addEventListener(w.f.cast.by(S.a).spell(d.a.APOCALYPSE),i.onCast),i}return Object(o.a)(a,[{key:"onCast",value:function(e){this.totalApocalypseCasts+=1;var t=this.enemies.getEntity(e),a=t&&t.hasBuff(d.a.FESTERING_WOUND.id)?t.getBuff(d.a.FESTERING_WOUND.id).stacks:0;this.apocalypseWoundsPopped=a>4?this.apocalypseWoundsPopped+4:this.apocalypseWoundsPopped+a}},{key:"suggestions",value:function(e){e(Number((this.apocalypseWoundsPopped/this.totalApocalypseCasts).toFixed(1))).isLessThan(4).addSuggestion((function(e,t,a){return e(u.a.createElement("span",null,"You are casting ",u.a.createElement(E.a,{id:d.a.APOCALYPSE.id})," with too few ",u.a.createElement(E.a,{id:d.a.FESTERING_WOUND.id})," on the target. When casting ",u.a.createElement(E.a,{id:d.a.APOCALYPSE.id}),", make sure to have at least 4 ",u.a.createElement(E.a,{id:d.a.FESTERING_WOUND.id})," on the target.")).icon(d.a.APOCALYPSE.icon).actual(m.i18n._({id:"deathknight.unholy.suggestions.apocalypse.efficiency",defaults:"An average {actual} of Festering Wounds were popped by Apocalypse",values:{actual:t}})).recommended("".concat(a," is recommended")).regular(a-1).major(a-2)}))}},{key:"statistic",value:function(){var e=(this.apocalypseWoundsPopped/this.totalApocalypseCasts).toFixed(1);return u.a.createElement(L.a,{tooltip:"You popped ".concat(this.apocalypseWoundsPopped," wounds with ").concat(this.totalApocalypseCasts," casts of Apocalypse."),position:B.a.CORE(6),size:"flexible"},u.a.createElement(N.a,{spell:d.a.APOCALYPSE},u.a.createElement(u.a.Fragment,null,e," ",u.a.createElement("small",null,"average Wounds popped"))))}}]),a}(S.c);re.dependencies={enemies:_.a};var ce=re,oe=a(756),le=a(760),ue=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).targets={},i.totalOutBreakCasts=0,i.totalTimeWasted=0,i.enemies=void 0,i.addEventListener(w.f.refreshdebuff.by(S.a).spell(d.a.VIRULENT_PLAGUE),i.onRefresh),i.addEventListener(w.f.applydebuff.by(S.a).spell(d.a.VIRULENT_PLAGUE),i.onApply),i.addEventListener(w.f.cast.by(S.a).spell(d.a.OUTBREAK),i.onCastOutbreak),i}return Object(o.a)(a,[{key:"onRefresh",value:function(e){this.targets[Object(_.b)(e.targetID,e.targetInstance)]=e.timestamp+1e3*this.VirulentDuration}},{key:"onApply",value:function(e){this.targets[Object(_.b)(e.targetID,e.targetInstance)]=e.timestamp+1e3*this.VirulentDuration-300*this.VirulentDuration}},{key:"onCastOutbreak",value:function(e){this.totalOutBreakCasts+=1,this.targets[Object(_.b)(e.targetID,e.targetInstance)]&&this.targets[Object(_.b)(e.targetID,e.targetInstance)]-e.timestamp>=0&&(this.totalTimeWasted+=(this.targets[Object(_.b)(e.targetID,e.targetInstance)]-e.timestamp)/1e3)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(u.a.createElement(u.a.Fragment,null," You are casting ",u.a.createElement(E.a,{id:d.a.VIRULENT_PLAGUE.id})," too often. Try to cast ",u.a.createElement(E.a,{id:d.a.VIRULENT_PLAGUE.id})," as close to it falling off as possible.")).icon(d.a.VIRULENT_PLAGUE.icon).actual(m.i18n._({id:"deathknight.unholy.suggestions.virulentPlague.efficiency",defaults:"{0} seconds of Virulent Plague uptime was wasted on average for each cast of Outbreak",values:{0:t.averageTimeWasted.toFixed(1)}})).recommended("<".concat(n," is recommended"))})),e(this.UptimeSuggestionThresholds).addSuggestion((function(e,t,a){return e(u.a.createElement("span",null,"Your ",u.a.createElement(E.a,{id:d.a.VIRULENT_PLAGUE.id})," uptime can be improved. Try to pay attention to when Virulent Plague is about to fall off the priority target, using ",u.a.createElement(E.a,{id:d.a.OUTBREAK.id})," to refresh Virulent Plague. Using a debuff tracker can help.")).icon(d.a.VIRULENT_PLAGUE.icon).actual(m.i18n._({id:"deathknight.unholy.suggestions.virulentPlague.uptime",defaults:"{0}% Virulent Plague uptime",values:{0:Object(p.e)(t)}})).recommended(">".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return u.a.createElement(L.a,{tooltip:"A total amount of ".concat(this.totalTimeWasted.toFixed(1)," seconds of Virulent Plague uptime was wasted with an average amount of ").concat(this.averageTimeWasted.toFixed(1)," seconds per cast"),position:B.a.CORE(7),size:"flexible"},u.a.createElement(N.a,{spell:d.a.VIRULENT_PLAGUE},u.a.createElement(u.a.Fragment,null,u.a.createElement(le.a,null)," ",Object(p.e)(this.Uptime),"% ",u.a.createElement("small",null,"uptime"),u.a.createElement("br",null),this.averageTimeWasted.toFixed(1),"s ",u.a.createElement("small",null,"average duration wasted"))))}},{key:"Uptime",get:function(){return this.enemies.getBuffUptime(d.a.VIRULENT_PLAGUE.id)/this.owner.fightDuration}},{key:"UptimeSuggestionThresholds",get:function(){return{actual:this.Uptime,isLessThan:{minor:.92,average:.84,major:.74},style:b.a.PERCENTAGE}}},{key:"VirulentDuration",get:function(){return this.selectedCombatant.hasTalent(d.a.EBON_FEVER_TALENT.id)?13.65:27.3}},{key:"averageTimeWasted",get:function(){return 0!==this.totalOutBreakCasts?this.totalTimeWasted/this.totalOutBreakCasts:0}},{key:"suggestionThresholds",get:function(){return{actual:this.averageTimeWasted,isGreaterThan:{minor:1,average:3,major:5},style:b.a.NUMBER,suffix:"Average"}}}]),a}(S.c);ue.dependencies={enemies:oe.a};var de=ue,Ee=a(754),he=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).hasAotd=void 0,i.hasAotd=i.selectedCombatant.hasTalent(d.a.ARMY_OF_THE_DAMNED_TALENT.id),i.addEventListener(w.f.damage.by(S.a).spell(d.a.DEATH_COIL),i.onDeathCoilDamage),i.addEventListener(w.f.damage.by(S.b).spell(d.a.MELEE),i.onArmyDamage),i}return Object(o.a)(a,[{key:"onArmyDamage",value:function(e){365===e.sourceID&&(this.isOnCooldown(d.a.ARMY_OF_THE_DEAD.id)||this.beginCooldown(d.a.ARMY_OF_THE_DEAD.id,e))}},{key:"onDeathCoilDamage",value:function(e){this.isOnCooldown(d.a.DARK_TRANSFORMATION.id)&&this.reduceCooldown(d.a.DARK_TRANSFORMATION.id,1e3,e.timestamp),this.hasAotd&&this.isOnCooldown(d.a.APOCALYPSE.id)&&this.reduceCooldown(d.a.APOCALYPSE.id,1e3,e.timestamp)}}]),a}(Ee.b);he.dependencies=Object(D.a)({},Ee.b.dependencies);var ge=he,fe=a(120),me=a(66),pe=a(751),ye=a(816),be=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).maxCasts=0,i.abilities=void 0,i.addEventListener(w.f.fightend,i.adjustMaxCasts),i.constructor.executeSpells.push(d.a.SOUL_REAPER_TALENT),e.abilities.add({spell:d.a.SOUL_REAPER_TALENT,category:h.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:6,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85,maxCasts:function(){return i.maxCasts}}}),i}return Object(o.a)(a,[{key:"adjustMaxCasts",value:function(e){Object(fe.a)(Object(me.a)(a.prototype),"onFightEnd",this).call(this,e),this.maxCasts+=Math.ceil(this.totalExecuteDuration/6e3)}},{key:"statistic",value:function(){return u.a.createElement(L.a,{position:B.a.OPTIONAL(30),size:"flexible",category:I.a.TALENTS},u.a.createElement(N.a,{spell:d.a.SOUL_REAPER_TALENT},u.a.createElement(u.a.Fragment,null,u.a.createElement(pe.a,{amount:this.damage}))))}}]),a}(ye.a);be.executeSources=S.a,be.lowerThreshold=.35,be.dependencies=Object(D.a)(Object(D.a)({},ye.a.dependencies),{},{abilities:h.a});var Te=be,Oe=a(921),ve=a(896),Re=a(897),Ae=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);Ae.specModules={abilities:f,alwaysBeCasting:T,cooldownThroughputTracker:A,festeringStrikeEfficiency:U,checklist:ne,scourgeStrikeEfficiency:se,apocalypse:ce,virulentPlagueEfficiency:de,woundTracker:P,spellUsable:ge,soulReaper:Te,runicPowerTracker:K,runicPowerDetails:q,runeTracker:Z,runeDetails:Oe.a,runeOfTheFallenCrusader:ve.a,runeOfHysteria:Re.a,arcaneTorrent:[c.a,{castEfficiency:.5}]};t.default=Ae},752:function(e,t,a){"use strict";function n(e,t){var a=(e.amount||0)+(e.absorbed||0);return a-a/(1+t)}a.d(t,"a",(function(){return n}))},760:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=Object.assign({},e);return i.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 80 80",className:"icon"},t),i.a.createElement("path",{d:"M50,86.4865c17.4361,0,31.6216-14.1855,31.6216-31.6216c0-16.6168-12.8865-30.2714-29.1892-31.5189v-4.9677h7.2973v-4.8649  H40.2703v4.8649h7.2973v4.9677c-16.3027,1.2475-29.1892,14.902-29.1892,31.5189C18.3784,72.3009,32.5639,86.4865,50,86.4865z M52.4324,28.2236c3.1101,0.2817,6.0664,1.0982,8.7798,2.356l-8.7798,15.2073V28.2236z M47.5676,28.2236v26.6412 c0,1.1008,0.7393,2.0647,1.8029,2.3497c0.209,0.0561,0.4205,0.0827,0.6295,0.0827c0.8533,0,1.6642-0.4504,2.1065-1.2162 l13.3146-23.0616c6.8507,4.8503,11.3357,12.8315,11.3357,21.8454c0,14.7537-12.0031,26.7567-26.7568,26.7567 s-26.7568-12.003-26.7568-26.7567C23.2432,40.9315,33.9501,29.4573,47.5676,28.2236z"}))}},816:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(15),o=a(43),l=(a(33),a(752)),u=a(754),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).spellUsable=void 0,i.inExecuteWindow=!1,i.inHealthExecuteWindow=!1,i.executeWindowStart=0,i.lastExecuteHitTimestamp=0,i.totalExecuteWindowDuration=0,i.damage=0,i.casts=0,i.castsWithExecute=0,i.addEventListener(c.f.damage.by(i.executeSources),i.onGeneralDamage),i.addEventListener(c.f.cast.by(i.executeSources).spell(i.executeSpells),i.onExecuteCast),i.addEventListener(c.f.damage.by(i.executeSources).spell(i.executeSpells),i.onExecuteDamage),i.addEventListener(c.f.applybuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.applyExecuteEnablerBuff),i.addEventListener(c.f.removebuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.removeExecuteEnablerBuff),i.addEventListener(c.f.fightend,i.onFightEnd),i}return Object(i.a)(a,[{key:"isTargetInExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints<this.lowerThreshold}},{key:"isTargetInReverseExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints>this.upperThreshold}},{key:"isTargetInHealthExecuteWindow",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&(this.isTargetInExecuteRange(e)||this.isTargetInReverseExecuteRange(e))}},{key:"isExecuteUsableOutsideExecuteRange",get:function(){var e=this,t=!1;return this.executeOutsideRangeEnablers.forEach((function(a){e.selectedCombatant.hasBuff(a.id)&&(t=!0)})),t}},{key:"areExecuteSpellsOnCD",get:function(){var e=this,t=!0;return this.executeSpells.forEach((function(a){e.spellUsable.isOnCooldown(a.id)||(t=!1)})),t}}]),Object(i.a)(a,[{key:"onGeneralDamage",value:function(e){e.targetIsFriendly||(this.areExecuteSpellsOnCD||this.isExecuteUsableOutsideExecuteRange||this.isTargetInHealthExecuteWindow(e)?(this.lastExecuteHitTimestamp=e.timestamp,this.inExecuteWindow||(this.inExecuteWindow=!0,this.inHealthExecuteWindow=!0,this.executeWindowStart=e.timestamp)):this.inExecuteWindow&&e.timestamp>this.lastExecuteHitTimestamp+500&&(this.inExecuteWindow=!1,this.inHealthExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart))}},{key:"onExecuteCast",value:function(){this.casts+=1,(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.castsWithExecute+=1)}},{key:"onExecuteDamage",value:function(e){(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.modifiesDamage?this.damage+=Object(l.a)(e,this.damageModifier):this.damage+=e.amount+(e.absorbed||0))}},{key:"applyExecuteEnablerBuff",value:function(e){this.inExecuteWindow||this.inHealthExecuteWindow||(this.executeWindowStart=e.timestamp),this.inExecuteWindow=!0,this.lastExecuteHitTimestamp=e.timestamp}},{key:"removeExecuteEnablerBuff",value:function(e){this.inHealthExecuteWindow||(this.inExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart)}},{key:"onFightEnd",value:function(e){this.inExecuteWindow&&(this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart,this.inExecuteWindow=!1)}},{key:"executeSources",get:function(){return this.constructor.executeSources}},{key:"executeSpells",get:function(){return this.constructor.executeSpells}},{key:"executeOutsideRangeEnablers",get:function(){return this.constructor.executeOutsideRangeEnablers}},{key:"lowerThreshold",get:function(){return this.constructor.lowerThreshold}},{key:"upperThreshold",get:function(){return this.constructor.upperThreshold}},{key:"modifiesDamage",get:function(){return this.constructor.modifiesDamage}},{key:"damageModifier",get:function(){return this.constructor.damageModifier}},{key:"executeDamage",get:function(){return this.damage}},{key:"totalExecuteDuration",get:function(){return this.totalExecuteWindowDuration}},{key:"totalCasts",get:function(){return this.casts}},{key:"totalExecuteCasts",get:function(){return this.castsWithExecute}}]),a}(o.c);d.dependencies={spellUsable:u.b},d.executeSpells=[],d.executeSources=void 0,d.executeOutsideRangeEnablers=[],d.lowerThreshold=void 0,d.upperThreshold=void 0,d.modifiesDamage=void 0,d.damageModifier=void 0,t.a=d},831:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(15);function i(e){switch(e.type){case n.b.RemoveBuff:case n.b.RemoveDebuff:return 0;case n.b.ApplyBuff:case n.b.ApplyDebuff:return 1;case n.b.ApplyBuffStack:case n.b.RemoveBuffStack:case n.b.ApplyDebuffStack:case n.b.RemoveDebuffStack:return e.stack}throw new Error("Invalid event type for currentStacks")}},848:function(e,t,a){"use strict";var n=a(7),i=a(8),s=a(9),r=a(120),c=a(66),o=a(10),l=a(11),u=a(0),d=a.n(u),E=a(88),h=a(3),g=a(33),f=a(747),m=a(746),p=a(754),y=a(767),b=a(753),T=a(773),O=a(15),v=a(43),R=a(13),A=a(808),S=[h.a.RUNE_1,h.a.RUNE_2,h.a.RUNE_3],w=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];(e=t.call.apply(t,[this].concat(s))).runesReady=[],e._fightend=!1,e.resource=E.a.RUNES,e._lastTimestamp=e.owner.fight.start_time,e._runesReadySum=[7];for(var c=0;c<=6;c+=1)e._runesReadySum[c]=0;return e.addEventListener(O.f.fightend,e.onFightend),e.addEventListener(O.f.applybuff.to(v.a).spell(h.a.RUNIC_CORRUPTION),e.onApplybuff),e.addEventListener(O.f.removebuff.to(v.a).spell(h.a.RUNIC_CORRUPTION),e.onRemovebuff),e.addEventListener(O.f.UpdateSpellUsable.spell(S),e.onUpdateSpellUsable),e}return Object(s.a)(a,[{key:"onFightend",value:function(){var e=this.runesAvailable;this._fightend=!0,this.runesReady.push({x:this.owner.fightDuration/1e3,y:e}),this._runesReadySum[e]+=this.owner.fight.end_time-this._lastTimestamp,this.addPassiveRuneRegeneration()}},{key:"onCast",value:function(e){var t=this;e.classResources&&!e.prepull&&(Object(r.a)(Object(c.a)(a.prototype),"onCast",this).call(this,e),e.classResources.filter((function(e){return e.type===t.resource.id})).forEach((function(a){a.amount;var n=a.cost||0;if(e.ability.guid===h.a.OBLITERATE_CAST.id&&t.selectedCombatant.hasBuff(h.a.OBLITERATION_TALENT.id)&&(n-=1),!(n<=0))for(var i=0;i<n;i+=1)t.startCooldown(e)})))}},{key:"onEnergize",value:function(e){if(Object(r.a)(Object(c.a)(a.prototype),"onEnergize",this).call(this,e),e.resourceChangeType===this.resource.id)for(var t=e.resourceChange,n=0;n<t;n+=1)this.addCharge()}},{key:"onApplybuff",value:function(e){var t=this;S.forEach((function(e){t.changeCooldown(e.id,.5)}))}},{key:"onRemovebuff",value:function(e){var t=this;S.forEach((function(e){t.changeCooldown(e.id,2)}))}},{key:"onUpdateSpellUsable",value:function(e){var t=0;if(e.trigger===O.b.EndCooldown||e.trigger===O.b.RestoreCharge)t+=1;else{if(e.trigger!==O.b.BeginCooldown&&e.trigger!==O.b.AddCooldownCharge)return;t-=1}this._runesReadySum[this.runesAvailable-t]+=e.timestamp-this._lastTimestamp,this._lastTimestamp=e.timestamp,this._fightend||(this.runesReady.push({x:this.timeFromStart(e.timestamp),y:this.runesAvailable-t}),this.runesReady.push({x:this.timeFromStart(e.timestamp),y:this.runesAvailable}))}},{key:"addPassiveRuneRegeneration",value:function(){var e=this.runesMaxCasts,t=this.runesWasted,a=this.addPassiveAccelerator(h.a.RUNIC_CORRUPTION.id,e,t,1);e*=1-a,t*=1-a,this.initBuilderAbility(h.a.RUNE_1.id),this.buildersObj[h.a.RUNE_1.id].generated+=Math.round(e),this.buildersObj[h.a.RUNE_1.id].wasted+=Math.round(t)}},{key:"addPassiveAccelerator",value:function(e,t,a,n){var i=this.selectedCombatant.getBuffUptime(e)/this.owner.fightDuration;if(!(i>0))return 0;this.initBuilderAbility(e);var s=i*n/(1+n),r=Math.round(t*s);this.buildersObj[e].generated+=r;var c=Math.round(a*s);return this.buildersObj[e].wasted+=c,s}},{key:"changeCooldown",value:function(e,t){if(this.spellUsable.isOnCooldown(e)){var a=this.spellUsable.cooldownRemaining(e),n=a-a*t;this.spellUsable.reduceCooldown(e,n)}}},{key:"addCharge",value:function(){var e=this.longestCooldown;if(this.spellUsable.isOnCooldown(e)){var t=this.abilities.getExpectedCooldownDuration(e,this.spellUsable.cooldownTriggerEvent(e));this.spellUsable.reduceCooldown(e,t)}}},{key:"startCooldown",value:function(e){var t=this.shortestCooldown;this.spellUsable.beginCooldown(t,e)}},{key:"getCooldown",value:function(e){if(!this.spellUsable.isOnCooldown(e))return null;var t=2-this.spellUsable.chargesAvailable(e),a=this.spellUsable.cooldownRemaining(e);return(t-1)*this.abilities.getExpectedCooldownDuration(e,this.spellUsable.cooldownTriggerEvent(e))+a}},{key:"timeFromStart",value:function(e){return(e-this.owner.fight.start_time)/1e3}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(d.a.createElement(d.a.Fragment,null,"You overcapped ",Object(g.e)(t),"% of your runes. Try to always have at least 3 runes on cooldown.")).icon(h.a.RUNE_1.icon).actual(R.i18n._({id:"deathknight.shared.suggestions.runes.overcapped",defaults:"{0}% runes overcapped",values:{0:Object(g.e)(t)}})).recommended("<".concat(Object(g.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){var e=this,t=this.timeSpentAtRuneCount;return d.a.createElement(m.a,{position:f.a.CORE(10),size:"flexible",tooltip:d.a.createElement(d.a.Fragment,null,"Number of runes wasted: ",Object(g.d)(this.runesWasted)," ",d.a.createElement("br",null),"These numbers only include runes wasted from passive regeneration. ",d.a.createElement("br",null),"The table below shows the time spent at any given number of runes available."),dropdown:d.a.createElement("table",{className:"table table-condensed"},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Runes"),d.a.createElement("th",null,"Time (s)"),d.a.createElement("th",null,"Time (%)"))),d.a.createElement("tbody",null,this._runesReadySum.filter((function(e,t){return t<4})).map((function(a,n){return d.a.createElement("tr",{key:n},d.a.createElement("th",null,n),d.a.createElement("td",null,Object(g.a)(e._runesReadySum[n]/1e3)),d.a.createElement("td",null,Object(g.e)(t[n]),"%"))})),this._runesReadySum.filter((function(e,t){return t>=4})).map((function(a,n){return d.a.createElement("tr",{key:n+4},d.a.createElement("th",{style:{color:"red"}},n+4),d.a.createElement("td",null,Object(g.a)(e._runesReadySum[n+4]/1e3)),d.a.createElement("td",null,Object(g.e)(t[n+4]),"%"))}))))},d.a.createElement(A.a,{resource:E.a.RUNES,value:"".concat(Object(g.e)(1-this.runeEfficiency)," %"),label:"Runes overcapped"}))}},{key:"shortestCooldown",get:function(){var e=this.getCooldown(h.a.RUNE_1.id)||0,t=this.getCooldown(h.a.RUNE_2.id)||0,a=this.getCooldown(h.a.RUNE_3.id)||0;return e<=t&&e<=a?h.a.RUNE_1.id:t<=a?h.a.RUNE_2.id:h.a.RUNE_3.id}},{key:"longestCooldown",get:function(){var e=this.getCooldown(h.a.RUNE_1.id)||0,t=this.getCooldown(h.a.RUNE_2.id)||0,a=this.getCooldown(h.a.RUNE_3.id)||0;return e>=t&&e>=a?h.a.RUNE_1.id:t>=a?h.a.RUNE_2.id:h.a.RUNE_3.id}},{key:"runesAvailable",get:function(){var e=this,t=0;return S.forEach((function(a){t+=e.spellUsable.chargesAvailable(a.id)})),t}},{key:"runeEfficiency",get:function(){var e=this,t=[];return S.forEach((function(a){t.push(e.castEfficiency.getCastEfficiencyForSpellId(a.id).efficiency)})),t.reduce((function(e,t){return e+t}))/t.length}},{key:"runesMaxCasts",get:function(){var e=0;for(var t in this.spendersObj)e+=this.spendersObj[t].spent;return e-6+this.runesReady[this.runesReady.length-1].y}},{key:"runesWasted",get:function(){return this.runesMaxCasts*(1-this.runeEfficiency)}},{key:"timeSpentAtRuneCount",get:function(){var e=this,t=[];return this._runesReadySum.forEach((function(a){t.push(a/e.owner.fightDuration)})),t}},{key:"suggestionThresholds",get:function(){return{actual:1-this.runeEfficiency,isGreaterThan:{minor:.05,average:.1,major:.2},style:"percentage"}}},{key:"suggestionThresholdsEfficiency",get:function(){return{actual:this.runeEfficiency,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),a}(T.a);w.dependencies=Object(n.a)(Object(n.a)({},T.a.dependencies),{},{spellUsable:p.b,castEfficiency:y.a,abilities:b.a}),t.a=w},896:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),o=a(0),l=a.n(o),u=a(3),d=a(43),E=a(15),h=a(747),g=a(746),f=a(748),m=a(33),p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).healing=0,i.overhealing=0;var r=i.selectedCombatant.hasWeaponEnchant(u.a.RUNE_OF_THE_FALLEN_CRUSADER);return i.active=r,r?(i.addEventListener(E.f.heal.to(d.a).spell(u.a.UNHOLY_STRENGTH_BUFF),i._onHeal),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"_onHeal",value:function(e){e.overheal&&(this.overhealing+=e.overheal),this.healing+=e.amount+e.absorb}},{key:"statistic",value:function(){return l.a.createElement(g.a,{position:h.a.OPTIONAL(2),size:"flexible",tooltip:l.a.createElement(l.a.Fragment,null,l.a.createElement("strong",null,"Uptime: ")," ",Object(m.e)(this.uptime),"% ",l.a.createElement("br",null),l.a.createElement("strong",null,"Healing: ")," ",Object(m.d)(this.healing)," ",l.a.createElement("br",null),l.a.createElement("strong",null,"Overhealing: ")," ",Object(m.d)(this.overhealing)," (",Object(m.e)(this.overhealPercentage)," %) ",l.a.createElement("br",null))},l.a.createElement(f.a,{spell:u.a.RUNE_OF_THE_FALLEN_CRUSADER},l.a.createElement(l.a.Fragment,null,Object(m.e)(this.averageStrength)," % ",l.a.createElement("small",null,"average Strength"))))}},{key:"overhealPercentage",get:function(){return this.overhealing/this.healing}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(u.a.UNHOLY_STRENGTH_BUFF.id)/this.owner.fightDuration}},{key:"averageStrength",get:function(){return.15*this.uptime}}]),a}(d.c);t.a=p},897:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),o=a(0),l=a.n(o),u=a(3),d=a(43),E=a(15),h=a(747),g=a(746),f=a(748),m=a(33),p=a(88),y=a(164),b=a(13),T=a(5),O=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).runicPowerGained=0,i.runicPowerWasted=0;var r=i.selectedCombatant.hasWeaponEnchant(u.a.RUNE_OF_HYSTERIA);return i.active=r,r?(i.addEventListener(E.f.energize,i._onEnergize),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"_onEnergize",value:function(e){this.selectedCombatant.hasBuff(u.a.RUNE_OF_HYSTERIA_BUFF.id,e.timestamp)&&e.resourceChangeType===p.a.RUNIC_POWER.id&&(this.runicPowerGained+=e.resourceChange,this.runicPowerWasted+=e.waste)}},{key:"suggestions",value:function(e){var t=this;e(this.efficiencySuggestionThresholds).addSuggestion((function(e,a,n){return e(l.a.createElement("span",null,"Avoid being Runic Power capped at all times, you wasted ",t.runicPowerWastedDuringHysteria," PR of ",u.a.RUNE_OF_HYSTERIA.name," by being RP capped.")).icon(u.a.RUNE_OF_HYSTERIA.icon).actual(b.i18n._({id:"deathknight.suggestions.hysteria.efficiency",defaults:"You wasted {0}% of RP from {1} by being RP capped.",values:{0:Object(m.e)(a),1:u.a.RUNE_OF_HYSTERIA.name}})).recommended("".concat(Object(m.e)(n),"% is recommended"))}))}},{key:"statistic",value:function(){var e=l.a.createElement(l.a.Fragment,null),t=l.a.createElement(l.a.Fragment,null);return this.selectedCombatant.spec===T.a.BLOOD_DEATH_KNIGHT&&(e=l.a.createElement(l.a.Fragment,null,", resulting in ",this.gainedDeathStrikes," additional ",u.a.DEATH_STRIKE.name),t=l.a.createElement(l.a.Fragment,null,", losing out on ",this.wastedDeathStrikes," ",u.a.DEATH_STRIKE.name)),l.a.createElement(g.a,{position:h.a.OPTIONAL(2),size:"flexible",tooltip:l.a.createElement(l.a.Fragment,null,"You gained ",Math.floor(this.runicPowerGainedByHysteria)," RP by using ",u.a.RUNE_OF_HYSTERIA.name,e,".",l.a.createElement("br",null),this.runicPowerWastedDuringHysteria>1&&l.a.createElement(l.a.Fragment,null,"You wasted ",this.runicPowerWastedDuringHysteria," RP (",Object(m.e)(this.wastedPercentage)," %) from Hysteria by being RP capped",t,"."))},l.a.createElement(f.a,{spell:u.a.RUNE_OF_HYSTERIA},l.a.createElement(l.a.Fragment,null,Math.floor(this.runicPowerGainedByHysteria)," ",l.a.createElement("small",null,"RP gained"))))}},{key:"runicPowerGainedByHysteria",get:function(){return.2*this.runicPowerGained}},{key:"runicPowerWastedDuringHysteria",get:function(){return.2*this.runicPowerWasted}},{key:"potentialRunicPowerGainedByHysteria",get:function(){return this.runicPowerGainedByHysteria+this.runicPowerWastedDuringHysteria}},{key:"wastedPercentage",get:function(){return this.runicPowerWastedDuringHysteria/this.runicPowerGainedByHysteria}},{key:"potentiallyGainedDeathStrikes",get:function(){return Math.floor(this.potentialRunicPowerGainedByHysteria/45)}},{key:"gainedDeathStrikes",get:function(){return Math.floor(this.runicPowerGainedByHysteria/45)}},{key:"wastedDeathStrikes",get:function(){return this.potentiallyGainedDeathStrikes-this.gainedDeathStrikes}},{key:"efficiencySuggestionThresholds",get:function(){return{actual:this.wastedPercentage,isGreaterThan:{minor:0,average:.2,major:.4},style:y.a.PERCENTAGE}}}]),a}(d.c);t.a=O},921:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),o=a.n(c),l=a(788),u=a(43),d=a(49),E=a(779),h=a(37),g=a.n(h),f=a(53),m=a(4),p=a(33),y=a(3),b=a(22),T=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.tracker,a=e.showSpenders,n=t.resource.name,i=this.prepareGenerated(t.buildersObj),s=this.prepareSpent(t.spendersObj),r=t.generated,c=t.wasted,l=t.spent,u=t.spendersCasts;return r=0===r?1:r,c=0===c?1:c,l=0===l?1:l,u=0===u?1:u,o.a.createElement("div",null,o.a.createElement("table",{className:"data-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Ability"),o.a.createElement("th",{colSpan:"2"},o.a.createElement(b.a,{content:"Runes generated from passive regeneration and abilities that accelerate it are estimates."},n," generated")),o.a.createElement("th",{colSpan:"2"},o.a.createElement(b.a,{content:"This is the amount of resources that were generated while you were already at cap."},n," wasted")))),o.a.createElement("tbody",null,i&&i.filter((function(e){return e.abilityId===y.a.RUNE_1.id})).map((function(e){return o.a.createElement("tr",{key:e.abilityId},o.a.createElement("td",{style:{width:"30%"}},o.a.createElement(f.a,{id:e.abilityId,noLink:!0})," ","Passive Rune regeneration"),o.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},o.a.createElement(b.a,{content:"".concat(Object(p.e)(e.generated/r)," %")},e.generated)),o.a.createElement("td",{style:{width:"40%"}},o.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.generated/r*100,"%")}})),o.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},o.a.createElement(b.a,{content:"".concat(Object(p.e)(e.wasted/c)," %")},e.wasted)),o.a.createElement("td",{style:{width:"30%"}},o.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.wasted/c*100,"%")}})))})),i&&i.filter((function(e){return e.abilityId!==y.a.RUNE_1.id})).map((function(e){return o.a.createElement("tr",{key:e.abilityId},o.a.createElement("td",{style:{width:"30%"}},o.a.createElement(m.a,{id:e.abilityId})),o.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},o.a.createElement(b.a,{content:"".concat(Object(p.e)(e.generated/r)," %")},e.generated)),o.a.createElement("td",{style:{width:"40%"}},o.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.generated/r*100,"%")}})),o.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},o.a.createElement(b.a,{content:"".concat(Object(p.e)(e.wasted/c)," %")},e.wasted)),o.a.createElement("td",{style:{width:"30%"}},o.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.wasted/c*100,"%")}})))})))),a&&o.a.createElement("table",{className:"data-table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Ability"),o.a.createElement("th",{colSpan:"2"},n," spent"),o.a.createElement("th",{colSpan:"2"},"Casts"))),o.a.createElement("tbody",null,s&&s.map((function(e){return o.a.createElement("tr",{key:e.abilityId},o.a.createElement("td",{style:{width:"30%"}},o.a.createElement(m.a,{id:e.abilityId})),o.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},o.a.createElement(b.a,{content:"".concat(Object(p.e)(e.spent/l)," %")},e.spent)),o.a.createElement("td",{style:{width:"40%"}},o.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.spent/l*100,"%")}})),o.a.createElement("td",{style:{width:50,paddingRight:5,textAlign:"center"}},o.a.createElement(b.a,{content:"".concat(Object(p.e)(e.casts/u)," %")},e.casts)),o.a.createElement("td",{style:{width:"30%"}},o.a.createElement("div",{className:"performance-bar",style:{width:"".concat(e.casts/u*100,"%")}})))})))))}}]),a}(a(781).a);T.propTypes={tracker:g.a.object.isRequired,showSpenders:g.a.bool};var O=T,v=a(848),R=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"tab",value:function(){var e=this,t=this.runeTracker.runesReady,a={data:{name:"runes"},mark:{type:"line",color:"rgb(196, 31, 59)"},encoding:{x:{field:"x",type:"quantitative",axis:{labelExpr:Object(E.c)("datum.value * 1000"),grid:!1},title:null},y:{field:"y",type:"quantitative",title:"# of Runes",axis:{grid:!1,tickMinStep:1}}}};return{title:"Rune usage",url:"rune-usage",render:function(){return o.a.createElement(d.a,null,o.a.createElement(l.a,{disableHeight:!0},(function(e){var n=e.width;return o.a.createElement(E.a,{width:n,height:400,spec:a,data:{runes:t}})})),o.a.createElement(O,{tracker:e.runeTracker,showSpenders:!0}))}}}}]),a}(u.c);R.dependencies={runeTracker:v.a};t.a=R}}]);
//# sourceMappingURL=UnholyDeathKnight.c7c31d31.chunk.js.map
(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[15],{718:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),s=a(11),r=a(776),c=a(7),l=a(9),o=a(120),u=a(66),d=a(3),h=a(754),m=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).lastPotentialTriggerForBarbedShotReset=null,e}return Object(l.a)(a,[{key:"onCast",value:function(e){Object(o.a)(Object(u.a)(a.prototype),"onCast",this).call(this,e);var t=e.ability.guid;t===d.a.AUTO_SHOT.id?this.lastPotentialTriggerForBarbedShotReset=e:t===d.a.BARBED_SHOT.id&&(this.lastPotentialTriggerForBarbedShotReset=null)}},{key:"beginCooldown",value:function(e,t){e===d.a.BARBED_SHOT.id&&this.isOnCooldown(e)&&this.endCooldown(e,void 0,this.lastPotentialTriggerForBarbedShotReset?this.lastPotentialTriggerForBarbedShotReset.timestamp:void 0),Object(o.a)(Object(u.a)(a.prototype),"beginCooldown",this).call(this,e,t)}}]),a}(h.b);m.dependencies=Object(c.a)({},h.b.dependencies);var E=m,f=a(811),g=a(800),b=a(759),T=a(783),p=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).haste=void 0,e}return Object(l.a)(a,[{key:"getGlobalCooldownDuration",value:function(e){var t=Object(o.a)(Object(u.a)(a.prototype),"getGlobalCooldownDuration",this).call(this,e);if(!t)return 0;if(T.d.includes(e)&&this.selectedCombatant.hasBuff(d.a.ASPECT_OF_THE_WILD.id)){var n=b.p-200,i=1+this.haste.current;return Math.max(b.q,n/i)}return Math.max(b.q,t)}}]),a}(f.a);p.dependencies=Object(c.a)(Object(c.a)({},f.a.dependencies),{},{haste:g.a});var A=p,O=a(0),v=a.n(O),_=a(4),C=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"spellbook",value:function(){var e=this,t=this.selectedCombatant;return[{spell:d.a.BESTIAL_WRATH,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:90,gcd:{base:1500},timelineSortIndex:-1,castEfficiency:{suggestion:!0,recommendedEfficiency:.9,extraSuggestion:v.a.createElement(v.a.Fragment,null,v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," should be cast on cooldown as its cooldown is quickly reset again through ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id}),". You want to start each ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," window with as much focus as possible.")}},{spell:d.a.KILL_COMMAND_CAST_BM,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(e){return Object(b.E)(7.5,e)},gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85}},{spell:d.a.COBRA_SHOT,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.ARCANE_SHOT,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:d.a.BARBED_SHOT,category:a.SPELL_CATEGORIES.ROTATIONAL,charges:2,cooldown:function(t){return Object(b.E)(e.selectedCombatant.hasConduitBySpellID(d.a.BLOODLETTING_CONDUIT.id)?11:12,t)},gcd:{base:1500}},{spell:d.a.MULTISHOT_BM,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:d.a.ASPECT_OF_THE_WILD,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,gcd:{static:0},timelineSortIndex:-1,castEfficiency:{suggestion:!0,recommendedEfficiency:.95}},{spell:d.a.ASPECT_OF_THE_TURTLE,category:a.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0,cooldown:180*(1-(t.hasTalent(d.a.BORN_TO_BE_WILD_TALENT.id)?.2:0)),gcd:{static:0}},{spell:d.a.EXHILARATION,category:a.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0,cooldown:120,gcd:{base:1500}},{spell:d.a.SURVIVAL_OF_THE_FITTEST,category:a.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0,cooldown:180,gcd:{static:0}},{spell:d.a.ASPECT_OF_THE_CHEETAH,category:a.SPELL_CATEGORIES.UTILITY,cooldown:180*(1-(t.hasTalent(d.a.BORN_TO_BE_WILD_TALENT.id)?.2:0)),gcd:{static:0}},{spell:d.a.DISENGAGE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:20,gcd:{static:0}},{spell:d.a.CONCUSSIVE_SHOT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:5,gcd:{base:1500}},{spell:d.a.COUNTER_SHOT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:24,gcd:{static:0}},{spell:d.a.MISDIRECTION,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{static:0}},{spell:d.a.FREEZING_TRAP,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500}},{spell:d.a.TAR_TRAP,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500}},{spell:d.a.FEIGN_DEATH,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{static:0}},{spell:d.a.FLARE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:20,gcd:{base:1500}},{spell:d.a.HUNTERS_MARK,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1e3}},{spell:d.a.DIRE_BEAST_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:t.hasTalent(d.a.DIRE_BEAST_TALENT.id),cooldown:15,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.BARRAGE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:t.hasTalent(d.a.BARRAGE_TALENT.id),cooldown:20,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.8}},{spell:d.a.STAMPEDE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:t.hasTalent(d.a.STAMPEDE_TALENT.id),cooldown:120,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.8}},{spell:d.a.CHIMAERA_SHOT_BM_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:t.hasTalent(d.a.CHIMAERA_SHOT_BM_TALENT.id),cooldown:function(e){return Object(b.E)(15,e)},gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85}},{spell:d.a.BLOODSHED_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:t.hasTalent(d.a.BLOODSHED_TALENT.id),cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:d.a.CAMOUFLAGE_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:60,enabled:t.hasTalent(d.a.CAMOUFLAGE_TALENT.id),gcd:{base:1500}},{spell:[d.a.PRIMAL_RAGE_1,d.a.PRIMAL_RAGE_2],category:a.SPELL_CATEGORIES.UTILITY,cooldown:360,gcd:{static:0}},{spell:d.a.MASTERS_CALL,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,gcd:{static:0}},{spell:d.a.INTIMIDATION,category:a.SPELL_CATEGORIES.UTILITY,cooldown:60,gcd:{base:1500}},{spell:[d.a.CALL_PET_1,d.a.CALL_PET_2,d.a.CALL_PET_3,d.a.CALL_PET_4,d.a.CALL_PET_5],category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:d.a.DISMISS_PET,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:d.a.MEND_PET,category:a.SPELL_CATEGORIES.UTILITY,cooldown:10,gcd:{base:1500}}]}}]),a}(a(753).a),y=a(810),S=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"buffs",value:function(){return[{spellId:d.a.BESTIAL_WRATH.id,timelineHighlight:!0,triggeredBySpellId:d.a.BESTIAL_WRATH.id},{spellId:d.a.DIRE_BEAST_BUFF.id,timelineHighlight:!0,triggeredBySpellId:d.a.DIRE_BEAST_TALENT.id},{spellId:d.a.BARBED_SHOT_PET_BUFF.id,timelineHighlight:!0,triggeredBySpellId:d.a.BARBED_SHOT.id},{spellId:d.a.BEAST_CLEAVE_BUFF.id,timelineHighlight:!0,triggeredBySpellId:d.a.MULTISHOT_BM.id},{spellId:d.a.ASPECT_OF_THE_WILD.id,timelineHighlight:!0,triggeredBySpellId:d.a.ASPECT_OF_THE_WILD.id},{spellId:d.a.ASPECT_OF_THE_TURTLE.id,timelineHighlight:!0,triggeredBySpellId:d.a.ASPECT_OF_THE_TURTLE.id},{spellId:Object.keys(y.a).map((function(e){return Number(e)})),timelineHighlight:!0}]}}]),a}(a(797).a),R=a(26),L=a(785),I=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(L.b);I.cooldownSpells=[].concat(Object(R.a)(L.b.cooldownSpells),[{spell:d.a.BESTIAL_WRATH,summary:[L.a.DAMAGE]},{spell:d.a.ASPECT_OF_THE_WILD,summary:[L.a.DAMAGE]}]),I.ignoredSpells=[].concat(Object(R.a)(L.b.ignoredSpells),[d.a.BINDING_SHOT_TETHER.id,d.a.BINDING_SHOT_ROOT.id]);var D=I,B=a(33),N=a(780),k=a(164),w=a(13),F=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"Your downtime can be improved. Try to reduce the delay between casting spells. If everything is on cooldown, try and use ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," to stay off the focus cap and do some damage.")).icon("spell_mage_altertime").actual(w.i18n._({id:"hunter.beastmastery.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(B.e)(1-t)}})).recommended("<".concat(Object(B.e)(1-a),"% is recommended"))}))}},{key:"suggestionThresholds",get:function(){return{actual:this.activeTimePercentage,isLessThan:{minor:.85,average:.825,major:.8},style:k.a.PERCENTAGE}}}]),a}(N.a),j=a(871),M=a(767),P=a(757),H=a(203),U=a(777),x=a(43),W=a(746),G=a(747),K=a(748),z=a(751),Y=a(15),V=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).lastCast=0,i.timeBetweenAttacks=0,i.totalCasts=0,i.chainCasts=0,i.damage=0,i.usedBasicAttack=d.a.BITE_BASIC_ATTACK,i.basicAttackChecked=!1,i.addEventListener(Y.f.damage.by(x.b).spell(T.k),i.onPetBasicAttackDamage),i}return Object(l.a)(a,[{key:"onPetBasicAttackDamage",value:function(e){this.basicAttackChecked||(this.usedBasicAttack={id:e.ability.guid,name:e.ability.name,icon:e.ability.abilityIcon},this.basicAttackChecked=!0),this.damage+=e.amount+(e.absorbed||0),e.timestamp>this.lastCast+T.I?this.lastCast=e.timestamp:(this.timeBetweenAttacks+=e.timestamp-this.lastCast,this.chainCasts+=1),this.totalCasts+=1}},{key:"potentialExtraCasts",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?T.J:T.F;return Math.max(Math.floor((this.timeBetweenAttacks-t*this.chainCasts)/t),0)}},{key:"potentialExtraDamage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.potentialExtraCasts(e)*(this.damage/this.totalCasts)||0}},{key:"suggestions",value:function(e){e(this.totalAttacksFromBasicAttacks).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null," Make sure that your pet is casting it's Basic Attacks, such as ",v.a.createElement(_.a,{id:d.a.BITE_BASIC_ATTACK.id}),".")).icon(d.a.BITE_BASIC_ATTACK.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.pet.basicAttacks",defaults:"Your pet didn't cast any Basic Attacks this fight"})).recommended("Your pet should be autocast Basic Attacks")}))}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(20),size:"flexible",dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Potential"),v.a.createElement("th",null,"150ms delay"),v.a.createElement("th",null,"0ms delay"))),v.a.createElement("tbody",null,v.a.createElement("tr",null,v.a.createElement("td",null,"Casts"),v.a.createElement("td",null,this.potentialExtraCasts()),v.a.createElement("td",null,this.potentialExtraCasts(!0))),v.a.createElement("tr",null,v.a.createElement("td",null,"Damage"),v.a.createElement("td",null,Object(B.d)(this.potentialExtraDamage()/this.owner.fightDuration*1e3)," DPS"),v.a.createElement("td",null,Object(B.d)(this.potentialExtraDamage(!0)/this.owner.fightDuration*1e3)," DPS")))))},v.a.createElement(K.a,{spell:this.usedBasicAttack},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage})," ",v.a.createElement("br",null),Object(B.d)(this.timeBetweenAttacks/this.chainCasts-T.J)," ms ",v.a.createElement("small",null,"average delay"))))}},{key:"additionalAttacksFromMacroing",get:function(){return{actual:this.potentialExtraCasts(),isGreaterThan:{minor:0,average:0,major:0},style:k.a.NUMBER}}},{key:"totalAttacksFromBasicAttacks",get:function(){return{actual:this.totalCasts,isLessThan:{minor:1,average:1,major:1},style:k.a.NUMBER}}}]),a}(x.c),q=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"getBaseRegenRate",value:function(){return T.m}},{key:"currentMaxResource",value:function(){return T.l}}]),a}(a(882).a),Z=a(760),Q=a(831),X=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).barbedShotStacks=[],i.lastBarbedShotStack=0,i.lastBarbedShotUpdate=i.owner.fight.start_time,i.additionalFocusFromNesingwary=0,i.possibleAdditionalFocusFromNesingwary=0,i.barbedShotStacks=Array.from({length:T.G+1},(function(e){return[]})),i.addEventListener(Y.f.applybuff.by(x.a).spell(d.a.BARBED_SHOT_PET_BUFF),i.handleStacks),i.addEventListener(Y.f.applybuffstack.by(x.a).spell(d.a.BARBED_SHOT_PET_BUFF),i.handleStacks),i.addEventListener(Y.f.removebuff.to(x.b).spell(d.a.BARBED_SHOT_PET_BUFF),i.handleStacks),i.addEventListener(Y.f.fightend,i.handleStacks),i.selectedCombatant.hasLegendaryByBonusID(d.a.NESINGWARYS_TRAPPING_APPARATUS_EFFECT.bonusID)&&i.addEventListener(Y.f.energize.by(x.a).spell(T.h),i.checkNesingwaryFocusGain),i}return Object(l.a)(a,[{key:"handleStacks",value:function(e){this.barbedShotStacks[this.lastBarbedShotStack].push(e.timestamp-this.lastBarbedShotUpdate),e.type!==Y.b.FightEnd&&(this.lastBarbedShotUpdate=e.timestamp,this.lastBarbedShotStack=Object(Q.a)(e))}},{key:"getAverageBarbedShotStacks",value:function(){var e=this,t=0;return this.barbedShotStacks.forEach((function(a,n){t+=a.reduce((function(e,t){return e+t}),0)/e.owner.fightDuration*n})),t}},{key:"checkNesingwaryFocusGain",value:function(e){var t=T.j-e.resourceChange;this.selectedCombatant.hasBuff(d.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)&&(this.additionalFocusFromNesingwary+=e.resourceChange*(1-1/b.u)-t,this.possibleAdditionalFocusFromNesingwary+=T.j)}},{key:"suggestions",value:function(e){e(this.frenzyUptimeThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"Your pet has a general low uptime of the buff from ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id}),", you should never be sitting on 2 stacks of this spell. ")).icon(d.a.BARBED_SHOT.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.barbedShot.petBuff.uptime",defaults:"Your pet had the buff from Barbed Shot for {0}% of the fight",values:{0:Object(B.e)(t)}})).recommended("".concat(Object(B.e)(a),"% is recommended"))})),e(this.frenzy3StackThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"Your pet has a general low uptime of the 3 stacked buff from ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id}),". It's important to try and maintain the buff at 3 stacks for as long as possible, this is done by spacing out your casts, but at the same time never letting them cap on charges. ")).icon(d.a.BARBED_SHOT.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.barbedShot.threeStacks.uptime",defaults:"Your pet had 3 stacks of the buff from Barbed Shot for {0}% of the fight",values:{0:Object(B.e)(t)}})).recommended("".concat(Object(B.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){var e=this;return v.a.createElement(W.a,{position:G.a.OPTIONAL(1),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,v.a.createElement("ul",null,v.a.createElement("li",null,"Your pet had an average of ",this.getAverageBarbedShotStacks().toFixed(2)," stacks active throughout the fight."),v.a.createElement("li",null,"Your pet had an overall uptime of ",Object(B.e)(this.percentUptimePet),"% on the increased attack speed buff"),v.a.createElement("li",null,"You had an uptime of ",Object(B.e)(this.percentPlayerUptime),"% on the focus regen buff."))),dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Stacks"),v.a.createElement("th",null,"Time (s)"),v.a.createElement("th",null,"Time (%)"))),v.a.createElement("tbody",null,Object.values(this.barbedShotTimesByStacks).map((function(t,a){return v.a.createElement("tr",{key:a},v.a.createElement("th",null,a),v.a.createElement("td",null,Object(B.a)(t.reduce((function(e,t){return e+t}),0)/1e3)),v.a.createElement("td",null,Object(B.e)(t.reduce((function(e,t){return e+t}),0)/e.owner.fightDuration),"%"))})))))},v.a.createElement(K.a,{spell:d.a.BARBED_SHOT_PET_BUFF},v.a.createElement(v.a.Fragment,null,v.a.createElement(Z.a,null)," ",Object(B.e)(this.percentUptimeMaxStacks),"% ",v.a.createElement("small",null,"3 stack uptime"))))}},{key:"barbedShotTimesByStacks",get:function(){return this.barbedShotStacks}},{key:"percentUptimeMaxStacks",get:function(){return this.barbedShotStacks[T.G].reduce((function(e,t){return e+t}),0)/this.owner.fightDuration}},{key:"percentUptimePet",get:function(){return this.barbedShotStacks.slice(1).reduce((function(e,t){return e.concat(t)}),[]).reduce((function(e,t){return e+t}),0)/this.owner.fightDuration}},{key:"percentPlayerUptime",get:function(){return this.selectedCombatant.getBuffUptime(d.a.BARBED_SHOT_BUFF.id)/this.owner.fightDuration}},{key:"frenzyUptimeThreshold",get:function(){return{actual:this.percentUptimePet,isLessThan:{minor:.9,average:.825,major:.75},style:k.a.PERCENTAGE}}},{key:"frenzy3StackThreshold",get:function(){return{actual:this.percentUptimeMaxStacks,isLessThan:{minor:.75,average:.7,major:.65},style:k.a.PERCENTAGE}}}]),a}(x.c),J=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.cleaveUp=!1,i.beastCleaveHits=0,i.casts=0,i.castsWithoutHits=0,i.timestamp=0,i.addEventListener(Y.f.applybuff.to(x.b).spell(d.a.BEAST_CLEAVE_PET_BUFF),i.onApplyBuff),i.addEventListener(Y.f.removebuff.to(x.b).spell(d.a.BEAST_CLEAVE_PET_BUFF),i.onRemoveBuff),i.addEventListener(Y.f.refreshbuff.to(x.b).spell(d.a.BEAST_CLEAVE_PET_BUFF),i.onRefreshBuff),i.addEventListener(Y.f.damage.by(x.b).spell(d.a.BEAST_CLEAVE_DAMAGE),i.onBeastCleaveDamage),i}return Object(l.a)(a,[{key:"onApplyBuff",value:function(e){this.timestamp+b.s>e.timestamp||(this.casts+=1,this.cleaveUp=!0,this.beastCleaveHits=0,this.timestamp=e.timestamp)}},{key:"onRemoveBuff",value:function(e){this.timestamp+b.s>e.timestamp||(this.checkAmountOfHits(),this.cleaveUp=!1,this.timestamp=e.timestamp)}},{key:"onRefreshBuff",value:function(e){this.timestamp+b.s>e.timestamp||(this.casts+=1,this.checkAmountOfHits(),this.beastCleaveHits=0,this.timestamp=e.timestamp)}},{key:"onBeastCleaveDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0),this.beastCleaveHits+=1}},{key:"checkAmountOfHits",value:function(){0===this.beastCleaveHits&&(this.castsWithoutHits+=1)}},{key:"suggestions",value:function(e){this.casts>0&&e(this.beastCleavesWithoutHits).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"You cast ",v.a.createElement(_.a,{id:d.a.MULTISHOT_BM.id})," ",t," ",1===t?"time":"times"," without your pets doing any ",v.a.createElement(_.a,{id:d.a.BEAST_CLEAVE_PET_BUFF.id})," damage onto additional targets. On single-target situations, avoid using ",v.a.createElement(_.a,{id:d.a.MULTISHOT_BM.id}),".")).icon(d.a.MULTISHOT_BM.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.beastCleave.efficiency",defaults:"{actual} {0} without any Beast Cleave damage",values:{0:1===t?"cast":"casts",actual:t}})).recommended("".concat(a," is recommended"))}))}},{key:"statistic",value:function(){return this.damage>0?v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible"},v.a.createElement(K.a,{spell:d.a.BEAST_CLEAVE_BUFF},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage})," ",v.a.createElement("br",null),v.a.createElement(Z.a,null)," ",Object(B.e)(this.uptime),"% ",v.a.createElement("small",null,"uptime")))):null}},{key:"beastCleavesWithoutHits",get:function(){return{actual:this.castsWithoutHits,isGreaterThan:{minor:0,average:0,major:3},style:k.a.NUMBER}}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(d.a.BEAST_CLEAVE_BUFF.id)/this.owner.fightDuration}}]),a}(x.c),$=a(88),ee=a(53),te=a(786),ae=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).effectiveBWReduction=0,i.wastedBWReduction=0,i.casts=0,i.accumulatedFocusAtBWCast=0,i.spellUsable=void 0,i.addEventListener(Y.f.cast.by(x.a).spell(d.a.BESTIAL_WRATH),i.onBestialWrathCast),i.addEventListener(Y.f.cast.by(x.a).spell(d.a.BARBED_SHOT),i.onBarbedShotCast),i}return Object(l.a)(a,[{key:"onBestialWrathCast",value:function(e){var t;this.casts+=1;var a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===$.a.FOCUS.id}));a&&(this.accumulatedFocusAtBWCast+=a.amount||0)}},{key:"onBarbedShotCast",value:function(){if(this.spellUsable.isOnCooldown(d.a.BESTIAL_WRATH.id)){var e=this.spellUsable.reduceCooldown(d.a.BESTIAL_WRATH.id,T.g);this.effectiveBWReduction+=e,this.wastedBWReduction+=T.g-e}else this.wastedBWReduction+=T.g}},{key:"suggestions",value:function(e){var t=this;e(this.focusOnBestialWrathCastThreshold).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"You started your average ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," at ",Object(B.d)(t.averageFocusAtBestialWrathCast)," focus, try and pool a bit more before casting ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id}),". This can be achieved by not casting abilities a few moments before ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," comes off cooldown.")).icon(d.a.BESTIAL_WRATH.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.bestialWrath.focusPool.efficiency",defaults:"Average of {0} focus at start of Bestial Wrath",values:{0:Object(B.d)(t.averageFocusAtBestialWrathCast)}})).recommended(">".concat(n," focus is recommended"))})),e(this.cdrEfficiencyBestialWrathThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"A crucial part of ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id})," is the cooldown reduction of ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," it provides. Therefore it's important to be casting ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," as often as possible to ensure you'll be wasting as little potential cooldown reduction as possible.")).icon(d.a.BESTIAL_WRATH.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.bestialWrath.cooldown.efficiency",defaults:"You had {0}% effective cooldown reduction of Bestial Wrath",values:{0:Object(B.e)(t)}})).recommended(">".concat(Object(B.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(2),size:"flexible",dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},v.a.createElement("b",null,"Statistic")),v.a.createElement("td",null,v.a.createElement("b",null,"Info")))),v.a.createElement("tbody",null,v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},"Average focus on cast"),v.a.createElement("td",null,v.a.createElement(v.a.Fragment,null,Object(B.d)(this.averageFocusAtBestialWrathCast),v.a.createElement(te.a,{id:$.a.FOCUS.id,noLink:!0})))),v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},"Gained Bestial Wraths"),v.a.createElement("td",null,v.a.createElement(v.a.Fragment,null,this.gainedBestialWraths.toFixed(1),v.a.createElement(ee.a,{id:d.a.BESTIAL_WRATH.id})))),v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},"CDR Efficiency"),v.a.createElement("td",null,v.a.createElement(v.a.Fragment,null,Object(B.d)(this.effectiveBWReduction/1e3),"s / ",this.totalPossibleCDR/1e3,"s"))),v.a.createElement("tr",null,v.a.createElement("td",{className:"text-left"},"CDR Efficiency %"),v.a.createElement("td",null,Object(B.e)(this.effectiveBWReduction/this.totalPossibleCDR),"%")))))},v.a.createElement(K.a,{spell:d.a.BESTIAL_WRATH},v.a.createElement(v.a.Fragment,null,v.a.createElement(Z.a,null)," ",this.percentUptime,"% ",v.a.createElement("small",null,"uptime"))))}},{key:"percentUptime",get:function(){return Object(B.e)(this.selectedCombatant.getBuffUptime(d.a.BESTIAL_WRATH.id)/this.owner.fightDuration)}},{key:"gainedBestialWraths",get:function(){return this.effectiveBWReduction/T.o}},{key:"averageFocusAtBestialWrathCast",get:function(){return this.accumulatedFocusAtBWCast/this.casts}},{key:"totalPossibleCDR",get:function(){return this.wastedBWReduction+this.effectiveBWReduction}},{key:"effectiveBestialWrathCDRPercent",get:function(){return this.effectiveBWReduction/this.totalPossibleCDR}},{key:"focusOnBestialWrathCastThreshold",get:function(){return{actual:this.averageFocusAtBestialWrathCast,isLessThan:{minor:40,average:30,major:20},style:k.a.NUMBER}}},{key:"cdrEfficiencyBestialWrathThreshold",get:function(){return{actual:this.effectiveBWReduction/this.totalPossibleCDR,isLessThan:{minor:.95,average:.9,major:.85},style:k.a.PERCENTAGE}}}]),a}(x.c);ae.dependencies={spellUsable:h.b};var ne=ae,ie=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).effectiveKCReductionMs=0,i.wastedKCReductionMs=0,i.wastedCasts=0,i.casts=0,i.spellUsable=void 0,i.globalCooldown=void 0,i.addEventListener(Y.f.cast.by(x.a).spell(d.a.COBRA_SHOT),i.onCobraShotCast),i}return Object(l.a)(a,[{key:"onCobraShotCast",value:function(e){if(void 0===e.meta&&(e.meta={isInefficientCast:!1,inefficientCastReason:""}),this.casts+=1,!this.spellUsable.isOnCooldown(d.a.KILL_COMMAND_CAST_BM.id))return this.wastedCasts+=1,this.wastedKCReductionMs+=T.r,e.meta.isInefficientCast=!0,void(e.meta.inefficientCastReason="Cobra Shot cast while Kill Command is not on cooldown.");var t=this.globalCooldown.getGlobalCooldownDuration(d.a.COBRA_SHOT.id),a=this.spellUsable.cooldownRemaining(d.a.KILL_COMMAND_CAST_BM.id);if(a<T.r+t){var n,i=a-t;this.effectiveKCReductionMs+=this.spellUsable.reduceCooldown(d.a.KILL_COMMAND_CAST_BM.id,i),this.wastedKCReductionMs+=T.r-i;var s=null===(n=e.classResources)||void 0===n?void 0:n.find((function(e){return e.type===$.a.FOCUS.id}));if(!s)return;s.amount<T.s&&(e.meta.isInefficientCast=!0,e.meta.inefficientCastReason="Cobra Shot cast while Kill Command's cooldown was under "+(t+T.r/1e3).toFixed(1)+"s remaining and you were not close to capping focus as you only had "+s.amount+" focus.")}else this.effectiveKCReductionMs+=this.spellUsable.reduceCooldown(d.a.KILL_COMMAND_CAST_BM.id,T.r)}},{key:"suggestions",value:function(e){e(this.cdrEfficiencyCobraShotThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"A crucial part of ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," is the cooldown reduction of ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," it provides. When the cooldown of ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," is larger than the duration of your GCD + 1s, you'll want to be casting ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," to maximize the amount of casts of ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id}),". If the cooldown of ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," is lower than GCD + 1s, you'll only want to be casting ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id}),", if you'd be capping focus otherwise.")).icon(d.a.COBRA_SHOT.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.cobraShot.efficiency",defaults:"You had {0}% effective cooldown reduction of Kill Command",values:{0:Object(B.e)(t)}})).recommended(">".concat(Object(B.e)(a),"% is recommended"))})),e(this.wastedCobraShotsThreshold).addSuggestion((function(e,t){return e(v.a.createElement(v.a.Fragment,null,"You should never cast ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," when ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," is off cooldown.")).icon(d.a.COBRA_SHOT.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.cobraShot.cooldown.wasted",defaults:"You cast {actual} Cobra Shots when Kill Command wasn't on cooldown",values:{actual:t}})).recommended("0 inefficient casts  is recommended")}))}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(3),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,this.wastedCasts>0&&v.a.createElement(v.a.Fragment,null,"You had ",this.wastedCasts," ",this.wastedCasts>1?"casts":"cast"," of Cobra Shot when Kill Command wasn't on cooldown. "),this.wastedCasts>0&&this.wastedKCReductionMs>0&&v.a.createElement("br",null),this.wastedKCReductionMs>0&&"You wasted ".concat(this.wastedCDR.toFixed(2)," seconds of potential cooldown reduction by casting Cobra Shot while Kill Command had less than 1 + GCD seconds remaining on its CD."))},v.a.createElement(K.a,{spell:d.a.COBRA_SHOT},v.a.createElement(v.a.Fragment,null,Object(B.d)(this.effectiveKCReductionMs/1e3),"s / ",this.totalPossibleCDR/1e3,"s",v.a.createElement("br",null),Object(B.e)(this.effectiveKCReductionMs/this.totalPossibleCDR),"% ",v.a.createElement("small",null,"effectiveness"))))}},{key:"totalPossibleCDR",get:function(){return Math.max(this.casts*T.r,1)}},{key:"wastedCDR",get:function(){return this.wastedKCReductionMs/1e3}},{key:"cdrEfficiencyCobraShotThreshold",get:function(){return{actual:this.effectiveKCReductionMs/this.totalPossibleCDR,isLessThan:{minor:.85,average:.8,major:.75},style:k.a.PERCENTAGE}}},{key:"wastedCobraShotsThreshold",get:function(){return{actual:this.wastedCasts,isGreaterThan:{minor:0,average:1,major:2},style:k.a.NUMBER}}}]),a}(x.c);ie.dependencies={spellUsable:h.b,globalCooldown:A};var se=ie,re=a(58),ce=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).effectiveKillCommandResets=0,i.wastedKillerCobraCobraShots=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(d.a.KILLER_COBRA_TALENT.id),i.addEventListener(Y.f.cast.by(x.a).spell(d.a.COBRA_SHOT),i.onCobraCast),i}return Object(l.a)(a,[{key:"onCobraCast",value:function(){this.selectedCombatant.hasBuff(d.a.BESTIAL_WRATH.id)&&(this.spellUsable.isOnCooldown(d.a.KILL_COMMAND_CAST_BM.id)?(this.spellUsable.endCooldown(d.a.KILL_COMMAND_CAST_BM.id),this.effectiveKillCommandResets+=1):this.wastedKillerCobraCobraShots+=1)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},v.a.createElement(K.a,{spell:d.a.KILLER_COBRA_TALENT},v.a.createElement(v.a.Fragment,null,this.effectiveKillCommandResets,"/",this.effectiveKillCommandResets+this.wastedKillerCobraCobraShots," ",v.a.createElement("small",null,this.effectiveKillCommandResets+this.wastedKillerCobraCobraShots===1?"reset":"resets"))))}},{key:"suggestions",value:function(e){e(this.wastedKillerCobraThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"Avoid casting ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," whilst ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," isn't on cooldown, when you have ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," up. Utilize the reset effect of ",v.a.createElement(_.a,{id:d.a.KILLER_COBRA_TALENT.id})," by only casting ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," to reset ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," when ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," is up. ")).icon(d.a.KILLER_COBRA_TALENT.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.killerCobra.efficiency",defaults:"You cast Cobra Shot while Kill Command wasn't on cooldown, whilst Bestial Wrath was up {actual} times.",values:{actual:t}})).recommended("".concat(a," is recommended."))}))}},{key:"wastedKillerCobraThreshold",get:function(){return{actual:this.wastedKillerCobraCobraShots,isGreaterThan:{minor:0,average:1,major:3},style:k.a.NUMBER}}}]),a}(x.c);ce.dependencies={spellUsable:h.b};var le=ce,oe=a(770),ue=a(762),de=a(763),he=a(771),me=a(772),Ee=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,i=function(e){return v.a.createElement(me.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return v.a.createElement(oe.a,null,v.a.createElement(ue.c,{name:"Use core abilities as often as possible",description:v.a.createElement(v.a.Fragment,null,"Using your core abilities as often as possible can help raise your dps significantly. Some help more than others, but as a general rule of thumb you should be looking to use most of your damaging abilities and damage cooldowns as often as possible, unless you need to save them for a prioirty burst phase that is coming up soon.","  ",v.a.createElement("a",{href:"https://www.icy-veins.com/wow/beast-mastery-hunter-pve-dps-rotation-cooldowns-abilities",target:"_blank",rel:"noopener noreferrer"},"More info."))},v.a.createElement(i,{spell:d.a.KILL_COMMAND_CAST_BM.id}),v.a.createElement(i,{spell:d.a.BARBED_SHOT.id}),v.a.createElement(i,{spell:d.a.BESTIAL_WRATH.id}),v.a.createElement(i,{spell:d.a.ASPECT_OF_THE_WILD.id}),t.hasTalent(d.a.DIRE_BEAST_TALENT.id)&&v.a.createElement(i,{spell:d.a.DIRE_BEAST_TALENT.id}),t.hasTalent(d.a.CHIMAERA_SHOT_BM_TALENT.id)&&v.a.createElement(i,{spell:d.a.CHIMAERA_SHOT_BM_TALENT.id}),t.hasTalent(d.a.A_MURDER_OF_CROWS_TALENT.id)&&v.a.createElement(i,{spell:d.a.A_MURDER_OF_CROWS_TALENT.id}),t.hasTalent(d.a.BARRAGE_TALENT.id)&&v.a.createElement(i,{spell:d.a.BARRAGE_TALENT.id}),t.hasTalent(d.a.STAMPEDE_TALENT.id)&&v.a.createElement(i,{spell:d.a.STAMPEDE_TALENT.id}),t.hasTalent(d.a.BLOODSHED_TALENT.id)&&v.a.createElement(i,{spell:d.a.BLOODSHED_TALENT.id})),v.a.createElement(ue.c,{name:"Barbed Shot usage",description:v.a.createElement(v.a.Fragment,null,"Using ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id})," properly is a key to achieving high dps. This means maintaining the pet buff from ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id})," as long as possible, and using it to reduce the cooldown of ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," as much as possible, to ensure high uptime on ",v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id}),".")},v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,"Uptime of ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT_PET_BUFF.id})," "),thresholds:n.frenzyUptimeSuggestionThreshold}),v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,"3 stack uptime of ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT_PET_BUFF.id})," "),thresholds:n.frenzy3StackSuggestionThreshold}),v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(_.a,{id:d.a.BESTIAL_WRATH.id})," CDR Efficiency"),thresholds:n.bestialWrathCDREfficiencyThreshold})),v.a.createElement(ue.c,{name:"Talent, cooldown and spell efficiency",description:v.a.createElement(v.a.Fragment,null,"You want to be using your baseline spells as efficiently as possible, as well as choosing the right talents for the given scenario. If a talent isn't being used optimally for the encounter, you should consider swapping to a different talent.")},v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(ee.a,{id:d.a.COBRA_SHOT.id}),v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id,icon:!1})," CDR efficiency"),thresholds:n.cobraShotCDREfficiencyThreshold}),v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," casts when ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," wasn't on cd"),thresholds:n.wastedCobraShotsThreshold}),v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(te.a,{id:$.a.FOCUS.id,noLink:!1})," Average focus on ",v.a.createElement(ee.a,{id:d.a.BESTIAL_WRATH.id})," cast "),thresholds:n.bestialWrathFocusThreshold}),v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null," Lost pet Basic Attacks "),thresholds:n.basicAttackThresholds}),v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(_.a,{id:d.a.BEAST_CLEAVE_BUFF.id})," applications with 0 cleaves"),thresholds:n.beastCleaveThresholds}),t.hasTalent(d.a.KILLER_COBRA_TALENT.id)&&v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null," Wasted ",v.a.createElement(_.a,{id:d.a.KILLER_COBRA_TALENT.id})," resets "),thresholds:n.wastedKillerCobraThreshold})),v.a.createElement(ue.c,{name:"Legendaries",description:"The throughput gain of some legendaries might vary greatly. Consider switching to a more reliable alternative if something is underperforming regularly, even after trying to improve your usage of said legendary."},t.hasLegendaryByBonusID(d.a.QAPLA_EREDUN_WAR_ORDER_EFFECT.bonusID)&&v.a.createElement(de.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(_.a,{id:d.a.QAPLA_EREDUN_WAR_ORDER_EFFECT.id})," CDR efficiency"),thresholds:n.qaplaEfficiencyThreshold})),v.a.createElement(ue.c,{name:"Downtime & resource generators",description:v.a.createElement(v.a.Fragment,null,"As a DPS, you should try to reduce the delay between casting spells, and stay off resource capping as much as possible. If everything is on cooldown, try and use ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," to stay off the focus cap and do some damage.")},v.a.createElement(de.a,{name:"Active time",thresholds:n.downtimeSuggestionThresholds}),v.a.createElement(de.a,{name:"Effective Focus from generators",thresholds:n.focusGeneratorWasteThresholds}),v.a.createElement(de.a,{name:"Effective Focus from natural regen",thresholds:n.focusNaturalRegenWasteThresholds})),v.a.createElement(he.a,{thresholds:n}))},fe=a(119),ge=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).effectiveKCReduction=0,i.wastedKCReduction=0,i.wastedCasts=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasLegendaryByBonusID(d.a.QAPLA_EREDUN_WAR_ORDER_EFFECT.bonusID),i.active?(i.addEventListener(Y.f.cast.by(x.a).spell(d.a.BARBED_SHOT),i.onBarbedShotCast),i):Object(fe.a)(i)}return Object(l.a)(a,[{key:"onBarbedShotCast",value:function(){if(this.spellUsable.isOnCooldown(d.a.KILL_COMMAND_CAST_BM.id)){var e=this.spellUsable.reduceCooldown(d.a.KILL_COMMAND_CAST_BM.id,T.L);this.effectiveKCReduction+=e,this.wastedKCReduction+=T.L-e}else this.wastedCasts+=1,this.wastedKCReduction+=T.L}},{key:"suggestions",value:function(e){e(this.cdrEfficiencyKillCommandThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"When using ",v.a.createElement(_.a,{id:d.a.QAPLA_EREDUN_WAR_ORDER_EFFECT.id})," you want to ideally only use ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id})," when ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," has as much cooldown remaining as possible to gain the most out of its effect - but you still don't want to be capping on ",v.a.createElement(_.a,{id:d.a.BARBED_SHOT.id})," charges. ")).icon(d.a.QAPLA_EREDUN_WAR_ORDER_EFFECT.icon).actual("You had ".concat(Object(B.e)(t),"% effective cooldown reduction of Kill Command")).recommended(">".concat(Object(B.e)(a,0),"% is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.CORE(),size:"flexible",category:re.a.ITEMS,tooltip:v.a.createElement(v.a.Fragment,null,this.wastedCasts>0&&v.a.createElement(v.a.Fragment,null,"You had ",this.wastedCasts," ",this.wastedCasts>1?"casts":"cast"," of Cobra Shot when Kill Command wasn't on cooldown. "),this.wastedCasts>0&&this.wastedKCReduction>0&&v.a.createElement("br",null),this.wastedKCReduction>0&&"You wasted ".concat((this.wastedKCReduction/1e3).toFixed(2)," seconds of potential cooldown reduction by casting Barbed Shot while Kill Command had less than 4 seconds remaining on its CD."))},v.a.createElement(K.a,{spell:d.a.QAPLA_EREDUN_WAR_ORDER_EFFECT},v.a.createElement(v.a.Fragment,null,Object(B.d)(this.effectiveKCReduction/1e3),"s / ",this.totalPossibleCDR/1e3,"s",v.a.createElement("br",null),Object(B.e)(this.effectiveKCReduction/this.totalPossibleCDR),"% ",v.a.createElement("small",null,"effectiveness"))))}},{key:"totalPossibleCDR",get:function(){return Math.max(this.wastedKCReduction+this.effectiveKCReduction,1)}},{key:"effectiveKillCommandCDRPercent",get:function(){return this.effectiveKCReduction/this.totalPossibleCDR}},{key:"cdrEfficiencyKillCommandThreshold",get:function(){return{actual:this.effectiveKCReduction/this.totalPossibleCDR,isLessThan:{minor:.75,average:.65,major:.55},style:k.a.PERCENTAGE}}}]),a}(x.c);ge.dependencies={spellUsable:h.b};var be=ge,Te=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).combatants=void 0,e.castEfficiency=void 0,e.preparationRuleAnalyzer=void 0,e.alwaysBeCasting=void 0,e.beastCleave=void 0,e.cobraShot=void 0,e.barbedShot=void 0,e.bestialWrath=void 0,e.killerCobra=void 0,e.qaplaEredunWarOrder=void 0,e.focusGeneratorDetails=void 0,e.focusCapTracker=void 0,e.basicAttacks=void 0,e}return Object(l.a)(a,[{key:"render",value:function(){return v.a.createElement(Ee,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(c.a)(Object(c.a)({},this.preparationRuleAnalyzer.thresholds),{},{downtimeSuggestionThresholds:this.alwaysBeCasting.suggestionThresholds,frenzy3StackSuggestionThreshold:this.barbedShot.frenzy3StackThreshold,frenzyUptimeSuggestionThreshold:this.barbedShot.frenzyUptimeThreshold,bestialWrathCDREfficiencyThreshold:this.bestialWrath.cdrEfficiencyBestialWrathThreshold,bestialWrathFocusThreshold:this.bestialWrath.focusOnBestialWrathCastThreshold,cobraShotCDREfficiencyThreshold:this.cobraShot.cdrEfficiencyCobraShotThreshold,wastedCobraShotsThreshold:this.cobraShot.wastedCobraShotsThreshold,beastCleaveThresholds:this.beastCleave.beastCleavesWithoutHits,wastedKillerCobraThreshold:this.killerCobra.wastedKillerCobraThreshold,qaplaEfficiencyThreshold:this.qaplaEredunWarOrder.cdrEfficiencyKillCommandThreshold,focusGeneratorWasteThresholds:this.focusGeneratorDetails.focusGeneratorWasteThresholds,focusNaturalRegenWasteThresholds:this.focusCapTracker.focusNaturalRegenWasteThresholds,basicAttackThresholds:this.basicAttacks.additionalAttacksFromMacroing})})}}]),a}(H.a);Te.dependencies={combatants:P.a,castEfficiency:M.a,preparationRuleAnalyzer:U.a,alwaysBeCasting:F,barbedShot:X,bestialWrath:ne,killerCobra:le,cobraShot:se,focusGeneratorDetails:j.a,focusCapTracker:q,beastCleave:J,basicAttacks:V,qaplaEredunWarOrder:be};var pe=Te,Ae=a(900),Oe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).active=i.selectedCombatant.hasTalent(d.a.KILLER_INSTINCT_TALENT.id),i}return Object(l.a)(a,[{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS,tooltip:v.a.createElement(v.a.Fragment,null,"You cast a total of ",this.casts," Kill Commands, of which ",this.castsWithExecute," were on enemies with less than 35% of their health remaining. ",v.a.createElement("br",null),"These ",this.castsWithExecute," casts provided you a total of ",Object(B.d)(this.damage)," extra damage throughout the fight.")},v.a.createElement(K.a,{spell:d.a.KILLER_INSTINCT_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),Object(B.d)(this.castsWithExecute)," ",v.a.createElement("small",null,"casts at ","<","35% health"))))}}]),a}(a(816).a);Oe.executeSpells=[d.a.KILL_COMMAND_DAMAGE_BM],Oe.executeSources=x.b,Oe.lowerThreshold=T.C,Oe.modifiesDamage=!0,Oe.damageModifier=T.B;var ve=Oe,_e=a(901),Ce=a(902),ye=a(970),Se=a(827),Re=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=0,i.hits=0,i.active=i.selectedCombatant.hasTalent(d.a.CHIMAERA_SHOT_BM_TALENT.id),i.addEventListener(Y.f.cast.by(x.a).spell(d.a.CHIMAERA_SHOT_BM_TALENT),(function(){i.casts+=1})),i.addEventListener(Y.f.damage.by(x.a).spell([d.a.CHIMAERA_SHOT_BM_FROST_DAMAGE,d.a.CHIMAERA_SHOT_BM_NATURE_DAMAGE]),i.onChimaeraDamage),i}return Object(l.a)(a,[{key:"onChimaeraDamage",value:function(e){this.hits+=1,this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},v.a.createElement(K.a,{spell:d.a.CHIMAERA_SHOT_BM_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),v.a.createElement(Se.a,{casts:this.casts,hits:this.hits}))))}}]),a}(x.c),Le=a(764),Ie=a(126),De=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.activeDireBeasts=[],i.targetId="",i.active=i.selectedCombatant.hasTalent(d.a.DIRE_BEAST_TALENT.id),i.addEventListener(Y.f.damage.by(x.b),i.onPetDamage),i.addEventListener(Y.f.summon.by(x.a).spell(d.a.DIRE_BEAST_SUMMON),i.onDireSummon),i}return Object(l.a)(a,[{key:"onPetDamage",value:function(e){var t=Object(Le.b)(e.sourceID);this.activeDireBeasts.includes(t)&&(this.damage+=e.amount+(e.absorbed||0))}},{key:"onDireSummon",value:function(e){this.targetId=Object(Le.b)(e.targetID),this.activeDireBeasts=[],this.activeDireBeasts.push(this.targetId),this.targetId=""}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS,tooltip:v.a.createElement(v.a.Fragment,null,"You had ",Object(B.e)(this.uptime),"% uptime on the Dire Beast Haste buff.")},v.a.createElement(K.a,{spell:d.a.DIRE_BEAST_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),v.a.createElement(Ie.a,null)," ",Object(B.e)(b.g*this.uptime),"% Haste",v.a.createElement("br",null))))}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(d.a.DIRE_BEAST_BUFF.id)/this.owner.fightDuration}}]),a}(x.c),Be=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).casts=[],i.damage=0,i.hits=0,i.averageHits=0,i.inefficientCasts=0,i.active=i.selectedCombatant.hasTalent(d.a.STAMPEDE_TALENT.id),i.addEventListener(Y.f.applybuff.by(x.a).spell(d.a.STAMPEDE_TALENT),i.onStampedeApply),i.addEventListener(Y.f.damage.by(x.a).spell(d.a.STAMPEDE_DAMAGE),i.onStampedeDamage),i.addEventListener(Y.f.fightend,i.onFightEnd),i}return Object(l.a)(a,[{key:"onStampedeApply",value:function(e){this.casts.push({timestamp:e.timestamp,damage:0,hits:0,averageHits:0})}},{key:"onStampedeDamage",value:function(e){var t=e.amount+(e.absorbed||0);this.hits+=1,this.damage+=t,null!==this.currentCast&&(this.currentCast.hits+=1,this.currentCast.damage+=t)}},{key:"onFightEnd",value:function(){var e=this;this.averageHits=this.hits/this.casts.length/T.P,this.casts.forEach((function(t){t.averageHits=t.hits/T.P,t.averageHits<1&&(e.inefficientCasts+=1)}))}},{key:"suggestions",value:function(e){e(this.stampedeInefficientCastsThreshold).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"You cast ",v.a.createElement(_.a,{id:d.a.STAMPEDE_TALENT.id})," inefficiently ",t," ",t>1?"times":"time"," throughout the fight. This means you've placed ",v.a.createElement(_.a,{id:d.a.STAMPEDE_TALENT.id})," at a place where it was impossible for it to deal it's full damage, or the enemy moved out of it. Avoid using ",v.a.createElement(_.a,{id:d.a.STAMPEDE_TALENT.id})," on moments where it's likely the enemy will be moving out of it.")).icon(d.a.STAMPEDE_TALENT.icon).actual(w.i18n._({id:"hunter.beastmastery.suggestions.stampede.efficiency",defaults:"{actual} inefficient {0}",values:{0:t>1?"casts":"cast",actual:t}})).recommended("".concat(a," is recommended"))}))}},{key:"statistic",value:function(){var e=this;if(this.casts.length>0){var t=this.damage/this.hits,a=1===this.casts.length?"1 Stampede":"a total of ".concat(this.casts.length," Stampedes");return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS,tooltip:v.a.createElement(v.a.Fragment,null,"You cast ",a," in the fight, which hit enemies ",this.hits," times for an average of ",Object(B.d)(t)," damage per hit."),dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Cast at"),v.a.createElement("th",null,"Damage"),v.a.createElement("th",null,"Hits"),v.a.createElement("th",null,"Avg hit"))),v.a.createElement("tbody",null,this.casts.map((function(t,a){return v.a.createElement("tr",{key:a},v.a.createElement("td",null,Object(B.b)(t.timestamp-e.owner.fight.start_time)),v.a.createElement("td",null,Object(B.d)(t.damage)),v.a.createElement("td",null,t.hits),v.a.createElement("td",null,Object(B.d)(t.damage/t.hits)))})))))},v.a.createElement(K.a,{spell:d.a.STAMPEDE_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),this.casts.length," ",this.casts.length>1?"casts":"cast"," / ",this.hits," hits")))}return null}},{key:"currentCast",get:function(){return 0===this.casts.length?null:this.casts[this.casts.length-1]}},{key:"stampedeInefficientCastsThreshold",get:function(){return{actual:this.inefficientCasts,isGreaterThan:{minor:0,average:0,major:1},style:k.a.NUMBER}}}]),a}(x.c),Ne=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.hits=0,i.casts=0,i.hasAC=!1,i.active=i.selectedCombatant.hasTalent(d.a.STOMP_TALENT.id),i.hasAC=i.selectedCombatant.hasTalent(d.a.ANIMAL_COMPANION_TALENT.id),i.addEventListener(Y.f.cast.by(x.a).spell([d.a.BARBED_SHOT,d.a.DIRE_BEAST_TALENT]),(function(){i.casts+=1})),i.addEventListener(Y.f.damage.by(x.b).spell(d.a.STOMP_DAMAGE),i.onPetStompDamage),i}return Object(l.a)(a,[{key:"onPetStompDamage",value:function(e){this.hits+=1,this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},v.a.createElement(K.a,{spell:d.a.STOMP_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),v.a.createElement(Se.a,{casts:this.casts,hits:this.hasAC?this.hits/T.a:this.hits}))))}}]),a}(x.c),ke=a(903),we=a(209),Fe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).thrillStacks=[],i.lastThrillStack=0,i.lastThrillUpdate=i.owner.fight.start_time,i.active=i.selectedCombatant.hasTalent(d.a.THRILL_OF_THE_HUNT_TALENT.id),i.active?(i.thrillStacks=Array.from({length:T.H+1},(function(e){return[]})),i.addEventListener(Y.f.applybuff.by(x.a).spell(d.a.THRILL_OF_THE_HUNT_BUFF),i.handleStacks),i.addEventListener(Y.f.applybuffstack.by(x.a).spell(d.a.THRILL_OF_THE_HUNT_BUFF),i.handleStacks),i.addEventListener(Y.f.removebuff.by(x.a).spell(d.a.THRILL_OF_THE_HUNT_BUFF),i.handleStacks),i.addEventListener(Y.f.fightend,i.handleStacks),i):Object(fe.a)(i)}return Object(l.a)(a,[{key:"handleStacks",value:function(e){this.thrillStacks[this.lastThrillStack].push(e.timestamp-this.lastThrillUpdate),e.type!==Y.b.FightEnd&&(this.lastThrillUpdate=e.timestamp,this.lastThrillStack=Object(Q.a)(e))}},{key:"statistic",value:function(){var e=this;return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS,dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Stacks"),v.a.createElement("th",null,"Time (s)"),v.a.createElement("th",null,"Time (%)"),v.a.createElement("th",null,"Crit (%)"))),v.a.createElement("tbody",null,Object.values(this.thrillOfTheHuntTimesByStacks).map((function(t,a){return v.a.createElement("tr",{key:a},v.a.createElement("th",null,a),v.a.createElement("td",null,Object(B.a)(t.reduce((function(e,t){return e+t}),0)/1e3)),v.a.createElement("td",null,Object(B.e)(t.reduce((function(e,t){return e+t}),0)/e.owner.fightDuration),"%"),v.a.createElement("td",null,Object(B.e)(T.t*a,0),"%"))})))))},v.a.createElement(K.a,{spell:d.a.THRILL_OF_THE_HUNT_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(we.a,null)," ",this.averageCritPercent,"% ",v.a.createElement("small",null,"average Crit"))))}},{key:"thrillOfTheHuntTimesByStacks",get:function(){return this.thrillStacks}},{key:"currentThrillCritPercentage",get:function(){return this.lastThrillStack*T.t}},{key:"averageCritPercent",get:function(){var e=this,t=0;return this.thrillStacks.forEach((function(a,n){t+=a.reduce((function(e,t){return e+t}),0)/e.owner.fightDuration*n*T.t})),Object(B.e)(t)}}]),a}(x.c),je=a(766),Me=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).procChances=0,i.active=i.selectedCombatant.hasTalent(d.a.ONE_WITH_THE_PACK_TALENT.id),i.addEventListener(Y.f.damage.by(x.a).spell(d.a.AUTO_SHOT),i.onAutoShotDamage),i}return Object(l.a)(a,[{key:"onAutoShotDamage",value:function(e){e.hitType===je.a.CRIT&&(this.procChances+=1)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS,tooltip:v.a.createElement(v.a.Fragment,null,"Since there is no way to track Wild Call resets, this is an approximation of how many resets One With The Pack granted you.")},v.a.createElement(K.a,{spell:d.a.ONE_WITH_THE_PACK_TALENT},v.a.createElement(v.a.Fragment,null,"\u2248",(this.procChances*T.Q).toFixed(1)," ",v.a.createElement("small",null,"resets"))))}}]),a}(x.c),Pe=a(752),He=a(769),Ue=a(765),xe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.healing=0,i.active=i.selectedCombatant.hasTalent(d.a.ASPECT_OF_THE_BEAST_TALENT.id),i.addEventListener(Y.f.damage.by(x.b),i.onPetDamage),i.addEventListener(Y.f.heal.by(x.b),i.onPetHeal),i}return Object(l.a)(a,[{key:"onPetDamage",value:function(e){var t=e.ability.guid;T.b.includes(t)||(this.damage+=Object(Pe.a)(e,T.c))}},{key:"onPetHeal",value:function(e){this.healing+=Object(He.a)(e,T.c)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},v.a.createElement(K.a,{spell:d.a.ASPECT_OF_THE_BEAST_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),v.a.createElement(Ue.a,{amount:this.healing}))))}}]),a}(x.c),We=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=0,i.totalIncrease=0,i.active=i.selectedCombatant.hasTalent(d.a.SPITTING_COBRA_TALENT.id),i.addEventListener(Y.f.cast.by(x.a).spell([d.a.BESTIAL_WRATH,d.a.COBRA_SHOT]),i.bestialWrathCobraShotCasts),i.addEventListener(Y.f.damage.by(x.b).spell(d.a.SPITTING_COBRA_DAMAGE),i.spittingCobraDamage),i}return Object(l.a)(a,[{key:"bestialWrathCobraShotCasts",value:function(e){e.ability.guid!==d.a.BESTIAL_WRATH.id?this.selectedCombatant.hasBuff(d.a.BESTIAL_WRATH.id)&&(this.totalIncrease+=T.O):this.casts+=1}},{key:"spittingCobraDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},v.a.createElement(K.a,{spell:d.a.SPITTING_COBRA_TALENT},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.damage})," ",v.a.createElement("br",null),this.averageIncrease,"% ",v.a.createElement("small",null,"average damage increase"))))}},{key:"averageIncrease",get:function(){return(this.totalIncrease/this.casts).toFixed(1)}}]),a}(x.c),Ge=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).chargesGained=0,i.chargesWasted=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(d.a.SCENT_OF_BLOOD_TALENT.id),i.addEventListener(Y.f.applybuff.by(x.a).spell(d.a.BESTIAL_WRATH),i.bestialWrathApplication),i}return Object(l.a)(a,[{key:"bestialWrathApplication",value:function(){var e=this.spellUsable.chargesAvailable(d.a.BARBED_SHOT.id);this.chargesGained+=T.N-e,this.chargesWasted+=e}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},v.a.createElement(K.a,{spell:d.a.SCENT_OF_BLOOD_TALENT},v.a.createElement(v.a.Fragment,null,this.chargesGained,"/",this.chargesGained+this.chargesWasted," ",v.a.createElement("small",null,"charges gained"))))}}]),a}(x.c);Ge.dependencies={spellUsable:E};var Ke=Ge,ze=a(904),Ye=a(905),Ve=a(860),qe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.pets=[],i.mainPetName="",i.active=i.selectedCombatant.hasTalent(d.a.ANIMAL_COMPANION_TALENT.id),i.addEventListener(Y.f.damage.by(x.b),i.petDamage),i.addEventListener(Y.f.fightend,i.onFightEnd),i}return Object(l.a)(a,[{key:"petDamage",value:function(e){var t=this.pets.find((function(t){return t.sourceID===e.sourceID})),a=e.amount+(e.absorbed||0);if(t)t.damage+=a;else{var n=this.owner.playerPets.find((function(t){return t.id===e.sourceID}));if(!n||!Object(Ve.a)(n.guid))return;this.pets.push({petName:n.name,sourceID:e.sourceID,damage:a})}}},{key:"onFightEnd",value:function(){var e=this,t=0;this.pets.forEach((function(a){a.damage>t&&(t=a.damage,e.mainPetName=a.petName)}))}},{key:"statistic",value:function(){var e=this,t=this.pets.map((function(e){return e.damage})).reduce((function(e,t){return e+t}),0);return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS,dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Pet"),v.a.createElement("th",null,"Dmg"),v.a.createElement("th",null,"DPS"),v.a.createElement("th",null,"Dmg without AC"))),v.a.createElement("tbody",null,this.pets.map((function(t,a){return v.a.createElement("tr",{key:a},v.a.createElement("td",null,t.petName),v.a.createElement("td",null,Object(B.d)(t.damage)),v.a.createElement("td",null,Object(B.d)(t.damage/(e.owner.fightDuration/1e3))),v.a.createElement("td",null,t.petName===e.mainPetName?Object(B.d)(t.damage/.65)+" / "+Object(B.d)(t.damage/.65/(e.owner.fightDuration/1e3))+" DPS":""))})))))},v.a.createElement(K.a,{spell:d.a.ANIMAL_COMPANION_TALENT},v.a.createElement(v.a.Fragment,null,Object(B.d)(t)," / ",Object(B.d)(t/(this.owner.fightDuration/1e3))," DPS")))}}]),a}(x.c),Ze=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).spellUsable=void 0,i.additionalFocusFromNesingwary=0,i.possibleAdditionalFocusFromNesingwary=0,i.selectedCombatant.hasLegendaryByBonusID(d.a.NESINGWARYS_TRAPPING_APPARATUS_EFFECT.bonusID)&&i.addEventListener(Y.f.energize.by(x.a).spell(d.a.ASPECT_OF_THE_WILD),i.checkNesingwaryFocusGain),i}return Object(l.a)(a,[{key:"checkNesingwaryFocusGain",value:function(e){var t=T.f-e.resourceChange;this.selectedCombatant.hasBuff(d.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)&&(this.additionalFocusFromNesingwary+=e.resourceChange*(1-1/b.u)-t,this.possibleAdditionalFocusFromNesingwary+=T.f)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(5),size:"flexible"},v.a.createElement(K.a,{spell:d.a.ASPECT_OF_THE_WILD},v.a.createElement(v.a.Fragment,null,v.a.createElement(Z.a,null)," ",Object(B.e)(this.uptime),"% ",v.a.createElement("small",null,"uptime"))))}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(d.a.ASPECT_OF_THE_WILD.id)/this.owner.fightDuration}}]),a}(x.c);Ze.dependencies={spellUsable:E};var Qe=Ze,Xe=a(906),Je=a(840),$e=a(907),et=a(836),tt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).focusTracker=void 0,e}return Object(l.a)(a,[{key:"suggestions",value:function(e){var t=v.a.createElement(v.a.Fragment,null,"Try to keep focus below max by using ",v.a.createElement(_.a,{id:d.a.COBRA_SHOT.id})," and ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id}),".");Object(et.a)(e,this.focusTracker,{spell:d.a.ASPECT_OF_THE_WILD,minor:T.A,avg:T.y,major:T.z,extraSuggestion:t}),Object(et.a)(e,this.focusTracker,{spell:T.h,minor:T.A,avg:T.y,major:T.z,extraSuggestion:t})}}]),a}(x.c);tt.dependencies={focusTracker:Je.a};var at=tt,nt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(a(922).a);nt.listOfResourceSpenders=Object(R.a)(T.E);var it=nt,st=a(908),rt=a(909),ct=a(910),lt=a(861),ot=a(911),ut=a(912),dt=a(913),ht=a(914),mt=a(778),Et=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(d.a.BLOODLETTING_CONDUIT.id),i.conduitRank?(i.addEventListener(Y.f.damage.by(x.a).spell(d.a.BARBED_SHOT),i.onBarbedShotDamage),i):(i.active=!1,Object(fe.a)(i))}return Object(l.a)(a,[{key:"onBarbedShotDamage",value:function(e){this.addedDamage+=Object(Pe.a)(e,T.p[this.conduitRank])}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},v.a.createElement(mt.a,{spell:d.a.BLOODLETTING_CONDUIT,rank:this.conduitRank},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.addedDamage}))))}}]),a}(x.c),ft=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.procChances=0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(d.a.ECHOING_CALL_CONDUIT.id),i.conduitRank?(i.addEventListener(Y.f.damage.by(x.a).spell(d.a.AUTO_SHOT),i.onAutoShotDamage),i):(i.active=!1,Object(fe.a)(i))}return Object(l.a)(a,[{key:"onAutoShotDamage",value:function(e){e.hitType===je.a.CRIT&&(this.procChances+=1)}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS,tooltip:v.a.createElement(v.a.Fragment,null,"Since there is no way to track Wild Call resets, this is an approximation of how many resets Echoing Call granted you.")},v.a.createElement(mt.a,{spell:d.a.ECHOING_CALL_CONDUIT,rank:this.conduitRank},v.a.createElement(v.a.Fragment,null,"\u2248",(this.procChances*T.v[this.conduitRank]).toFixed(1)," ",v.a.createElement("small",null,"resets"))))}}]),a}(x.c),gt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.effectiveCDR=0,i.wastedCDR=0,i.spellUsable=void 0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(d.a.FEROCIOUS_APPETITE_CONDUIT.id),i.conduitRank?(i.addEventListener(Y.f.damage.by(x.a).spell(d.a.KILL_COMMAND_DAMAGE_BM),i.onKillCommandDamage),i):(i.active=!1,Object(fe.a)(i))}return Object(l.a)(a,[{key:"onKillCommandDamage",value:function(e){if(e.hitType===je.a.CRIT)if(this.spellUsable.isOnCooldown(d.a.ASPECT_OF_THE_WILD.id)){var t=this.spellUsable.reduceCooldown(d.a.ASPECT_OF_THE_WILD.id,T.w[this.conduitRank]);this.effectiveCDR+=t,this.wastedCDR+=T.w[this.conduitRank]-t}else this.wastedCDR+=T.w[this.conduitRank]}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},v.a.createElement(mt.a,{spell:d.a.FEROCIOUS_APPETITE_CONDUIT,rank:this.conduitRank},v.a.createElement(v.a.Fragment,null,this.effectiveCDR,"/",this.effectiveCDR+this.wastedCDR," ",v.a.createElement("small",null,"effective cooldown reduction"))))}}]),a}(x.c);gt.dependencies={spellUsable:h.b};var bt=gt,Tt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(d.a.ONE_WITH_THE_BEAST_CONDUIT.id),i.conduitRank?(i.addEventListener(Y.f.damage.by(x.a),i.onGenericDamage),i.addEventListener(Y.f.damage.by(x.b),i.onGenericDamage),i):(i.active=!1,Object(fe.a)(i))}return Object(l.a)(a,[{key:"onGenericDamage",value:function(e){this.selectedCombatant.hasBuff(d.a.BESTIAL_WRATH.id)&&(this.addedDamage+=Object(Pe.a)(e,T.K[this.conduitRank]))}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},v.a.createElement(mt.a,{spell:d.a.ONE_WITH_THE_BEAST_CONDUIT,rank:this.conduitRank},v.a.createElement(v.a.Fragment,null,v.a.createElement(z.a,{amount:this.addedDamage}))))}}]),a}(x.c),pt=a(802),At=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.activeDireBeasts=[],i.targetId="",i.direCommandProcs=0,i.killCommandHits=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(d.a.DIRE_COMMAND_EFFECT.bonusID),i.active?(i.addEventListener(Y.f.summon.by(x.a).spell(d.a.DIRE_BEAST_SUMMON),i.direBeastSummon),i.addEventListener(Y.f.damage.by(x.b).spell(d.a.KILL_COMMAND_DAMAGE_BM),i.killCommandDamage),i.addEventListener(Y.f.damage.by(x.b),i.onPetDamage),i):Object(fe.a)(i)}return Object(l.a)(a,[{key:"direBeastSummon",value:function(e){this.direCommandProcs+=1,this.targetId=Object(Le.b)(e.targetID),this.activeDireBeasts=[],this.activeDireBeasts.push(this.targetId),this.targetId=""}},{key:"onPetDamage",value:function(e){var t=Object(Le.b)(e.sourceID);this.activeDireBeasts.includes(t)&&(this.damage+=e.amount+(e.absorbed||0))}},{key:"killCommandDamage",value:function(e){this.killCommandHits+=1}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.CORE(),size:"flexible",category:re.a.ITEMS,tooltip:v.a.createElement(v.a.Fragment,null,"You had ",Object(B.e)(this.uptime),"% uptime on the Dire Beast Haste buff."),dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{style:{padding:"8px"}},Object(pt.e)(this.direCommandProcs,this.killCommandHits,T.u),v.a.createElement("p",null,"Likelihood of getting ",v.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," casts.")))},v.a.createElement(K.a,{spell:d.a.DIRE_COMMAND_EFFECT},v.a.createElement(z.a,{amount:this.damage}),v.a.createElement("br",null),v.a.createElement(Ie.a,null)," ",Object(B.e)(b.g*this.uptime),"% Haste",v.a.createElement("br",null)))}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(d.a.DIRE_BEAST_BUFF.id)/this.owner.fightDuration}}]),a}(x.c),Ot=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).cobraCasts=0,i.procs=0,i.utilizedFlamewakerBuffs=0,i.wastedFlamewakerBuffs=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(d.a.FLAMEWAKERS_COBRA_STING_EFFECT.bonusID),i.active?(i.addEventListener(Y.f.cast.by(x.a).spell(d.a.COBRA_SHOT),i.onCobra),i.addEventListener(Y.f.cast.by(x.a).spell(d.a.KILL_COMMAND_CAST_BM),i.onKillCommand),i.addEventListener(Y.f.refreshbuff.by(x.a).spell(d.a.FLAMEWAKERS_COBRA_STING_BUFF),i.refreshFlamewaker),i.addEventListener(Y.f.applybuff.by(x.a).spell(d.a.FLAMEWAKERS_COBRA_STING_BUFF),i.applyFlamewaker),i):Object(fe.a)(i)}return Object(l.a)(a,[{key:"onCobra",value:function(){this.cobraCasts+=1}},{key:"onKillCommand",value:function(){this.selectedCombatant.hasBuff(d.a.FLAMEWAKERS_COBRA_STING_BUFF.id)&&(this.utilizedFlamewakerBuffs+=1)}},{key:"applyFlamewaker",value:function(){this.procs+=1}},{key:"refreshFlamewaker",value:function(){this.procs+=1,this.wastedFlamewakerBuffs+=1}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.CORE(),size:"flexible",category:re.a.ITEMS,dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("div",{style:{padding:"8px"}},Object(pt.e)(this.procs,this.cobraCasts,T.x),v.a.createElement("p",null,"Likelihood of getting ",v.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",v.a.createElement(_.a,{id:d.a.KILL_COMMAND_CAST_BM.id})," casts.")))},v.a.createElement(K.a,{spell:d.a.FLAMEWAKERS_COBRA_STING_EFFECT},this.utilizedFlamewakerBuffs,"/",this.wastedFlamewakerBuffs+this.utilizedFlamewakerBuffs," ",v.a.createElement("small",null," Procs utilized "),v.a.createElement("br",null),this.utilizedFlamewakerBuffs*T.D," ",v.a.createElement("small",null," Focus saved")))}}]),a}(x.c),vt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(d.a.RYLAKSTALKERS_PIERCING_FANGS_EFFECT.bonusID),i.active?(i.addEventListener(Y.f.damage.by(x.b),i.onPetDamage),i):Object(fe.a)(i)}return Object(l.a)(a,[{key:"onPetDamage",value:function(e){this.selectedCombatant.hasBuff(d.a.BESTIAL_WRATH.id)&&e.hitType===je.a.CRIT&&(this.damage+=Object(Pe.a)(e,T.M))}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.CORE(),size:"flexible",category:re.a.ITEMS},v.a.createElement(K.a,{spell:d.a.RYLAKSTALKERS_PIERCING_FANGS_EFFECT},v.a.createElement(z.a,{amount:this.damage})))}}]),a}(x.c),_t=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).focusGained=0,i.focusWasted=0,i.aspectOfTheWild=void 0,i.barbedShot=void 0,i.active=i.selectedCombatant.hasLegendaryByBonusID(d.a.NESINGWARYS_TRAPPING_APPARATUS_EFFECT.bonusID),i.active?(i.addEventListener(Y.f.energize.by(x.a).spell(d.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE),i.onEnergize),i):Object(fe.a)(i)}return Object(l.a)(a,[{key:"onEnergize",value:function(e){this.focusGained+=e.resourceChange,this.focusWasted+=e.waste}},{key:"statistic",value:function(){return v.a.createElement(W.a,{position:G.a.CORE(),size:"flexible",category:re.a.ITEMS},v.a.createElement(K.a,{spell:d.a.NESINGWARYS_TRAPPING_APPARATUS_EFFECT},v.a.createElement(te.a,{id:$.a.FOCUS.id,noLink:!0})," ",this.focusGained,"/",this.focusWasted+this.focusGained," ",v.a.createElement("small",null,"gained Focus immediately"),v.a.createElement("br",null),v.a.createElement(te.a,{id:$.a.FOCUS.id,noLink:!0})," ",this.effectiveFocus,"/",this.possibleFocus," ",v.a.createElement("small",null,"gained Focus from generators")))}},{key:"effectiveFocus",get:function(){return Object(B.d)(this.aspectOfTheWild.additionalFocusFromNesingwary+this.barbedShot.additionalFocusFromNesingwary)}},{key:"possibleFocus",get:function(){return Object(B.d)(this.aspectOfTheWild.possibleAdditionalFocusFromNesingwary+this.barbedShot.possibleAdditionalFocusFromNesingwary)}}]),a}(x.c);_t.dependencies={aspectOfTheWild:Qe,barbedShot:X};var Ct=_t,yt=a(915),St=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);St.specModules={globalCooldown:A,spellUsable:E,checklist:pe,alwaysBeCasting:F,abilities:C,buffs:S,cooldownThroughputTracker:D,focusTracker:Je.a,focusDetails:j.a,spellFocusCost:$e.a,beastMasteryFocusCapTracker:q,focus:at,beastMasteryFocusUsage:it,deathTracker:Ae.a,basicAttacks:V,bestialWrath:ne,beastCleave:J,cobraShot:se,barbedShot:X,aspectOfTheWild:Qe,killShot:Xe.a,killerInstinct:ve,chimaeraShot:Re,direBeast:De,naturalMending:_e.a,trailblazer:Ce.a,barrage:ye.a,killerCobra:le,stampede:Be,stomp:Ne,aMurderOfCrows:ke.a,thrillOfTheHunt:Fe,oneWithThePack:Me,aspectOfTheBeast:xe,spittingCobra:We,scentOfBlood:Ke,bornToBeWild:ze.a,bindingShot:Ye.a,animalCompanion:qe,resonatingArrow:st.a,deathChakrams:rt.a,wildSpirits:ct.a,flayedShot:lt.a,empoweredRelease:ut.a,enfeebledMark:ot.a,necroticBarrage:dt.a,spiritAttunement:ht.a,bloodLetting:Et,echoingCall:ft,ferociousAppetite:bt,oneWithTheBeast:Tt,nesingwarysTrappingApparatus:Ct,soulforgeEmbers:yt.a,direCommand:At,flamewakersCobraSting:Ot,qaplaEredunWarOrder:be,rylakstalkersPiercingFangs:vt};t.default=St},752:function(e,t,a){"use strict";function n(e,t){var a=(e.amount||0)+(e.absorbed||0);return a-a/(1+t)}a.d(t,"a",(function(){return n}))},760:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=Object.assign({},e);return i.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 80 80",className:"icon"},t),i.a.createElement("path",{d:"M50,86.4865c17.4361,0,31.6216-14.1855,31.6216-31.6216c0-16.6168-12.8865-30.2714-29.1892-31.5189v-4.9677h7.2973v-4.8649  H40.2703v4.8649h7.2973v4.9677c-16.3027,1.2475-29.1892,14.902-29.1892,31.5189C18.3784,72.3009,32.5639,86.4865,50,86.4865z M52.4324,28.2236c3.1101,0.2817,6.0664,1.0982,8.7798,2.356l-8.7798,15.2073V28.2236z M47.5676,28.2236v26.6412 c0,1.1008,0.7393,2.0647,1.8029,2.3497c0.209,0.0561,0.4205,0.0827,0.6295,0.0827c0.8533,0,1.6642-0.4504,2.1065-1.2162 l13.3146-23.0616c6.8507,4.8503,11.3357,12.8315,11.3357,21.8454c0,14.7537-12.0031,26.7567-26.7568,26.7567 s-26.7568-12.003-26.7568-26.7567C23.2432,40.9315,33.9501,29.4573,47.5676,28.2236z"}))}},769:function(e,t,a){"use strict";function n(e,t){var a=e.amount,n=e.absorbed||0,i=e.overheal||0,s=a+n+i,r=s-s/(1+t)-i;return Math.max(0,r)}a.d(t,"a",(function(){return n}))},778:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(53),r=a(4);t.a=function(e){var t=e.spell,a=e.rank,n=e.children,c=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(c||"")},i.a.createElement("label",null,i.a.createElement(s.a,{id:t.id})," ",i.a.createElement(r.a,{id:t.id,icon:!1})," - Rank ",a),i.a.createElement("div",{className:"value"},n))}},782:function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"j",(function(){return s})),a.d(t,"i",(function(){return r})),a.d(t,"E",(function(){return c})),a.d(t,"y",(function(){return l})),a.d(t,"z",(function(){return o})),a.d(t,"u",(function(){return u})),a.d(t,"t",(function(){return d})),a.d(t,"s",(function(){return h})),a.d(t,"c",(function(){return m})),a.d(t,"C",(function(){return E})),a.d(t,"D",(function(){return f})),a.d(t,"g",(function(){return g})),a.d(t,"x",(function(){return b})),a.d(t,"m",(function(){return T})),a.d(t,"r",(function(){return p})),a.d(t,"q",(function(){return A})),a.d(t,"n",(function(){return O})),a.d(t,"a",(function(){return v})),a.d(t,"A",(function(){return _})),a.d(t,"B",(function(){return C})),a.d(t,"b",(function(){return y})),a.d(t,"f",(function(){return S})),a.d(t,"o",(function(){return R})),a.d(t,"p",(function(){return L})),a.d(t,"d",(function(){return I})),a.d(t,"e",(function(){return D})),a.d(t,"k",(function(){return B})),a.d(t,"l",(function(){return N})),a.d(t,"v",(function(){return k})),a.d(t,"w",(function(){return w}));var n=a(3),i=5,s=.2,r=2e4,c=500,l=15,o=20,u=.3,d=12e3,h=[n.a.RAPTOR_STRIKE,n.a.RAPTOR_STRIKE_AOTE,n.a.MONGOOSE_BITE_TALENT,n.a.MONGOOSE_BITE_TALENT_AOTE],m=9e4,E=0,f=2.5,g=1500,b=[n.a.CHAKRAMS_TO_MAINTARGET.id,n.a.CHAKRAMS_BACK_FROM_MAINTARGET.id,n.a.CHAKRAMS_NOT_MAINTARGET.id],T=30,p=700,A=5,O=1,v=[n.a.WILDFIRE_BOMB_IMPACT,n.a.VOLATILE_BOMB_WFI_IMPACT,n.a.PHEROMONE_BOMB_WFI_IMPACT,n.a.SHRAPNEL_BOMB_WFI_IMPACT],_=.25,C=3,y=.3,S=.1,R=.2,L=[n.a.BUTCHERY_TALENT,n.a.CARVE,n.a.WING_CLIP,n.a.CHAKRAMS_TALENT,n.a.SERPENT_STING_SV].concat(h),I=5,D=100,B=[0,1e3,1500,2e3,2500,3e3,3500,4e3,4500,5e3,5500,6e3,6500,7e3,7500,8e3],N=[0,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25],k=[0,.14,.16,.17,.19,.2,.22,.23,.25,.26,.28,.29,.31,.32,.34,.35],w=[0,.03,.04,.04,.05,.05,.06,.06,.07,.07,.08,.08,.09,.09,.1,.1]},783:function(e,t,a){"use strict";a.d(t,"G",(function(){return i})),a.d(t,"r",(function(){return s})),a.d(t,"s",(function(){return r})),a.d(t,"D",(function(){return c})),a.d(t,"g",(function(){return l})),a.d(t,"o",(function(){return o})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"N",(function(){return h})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return E})),a.d(t,"C",(function(){return f})),a.d(t,"B",(function(){return g})),a.d(t,"Q",(function(){return b})),a.d(t,"O",(function(){return T})),a.d(t,"P",(function(){return p})),a.d(t,"a",(function(){return A})),a.d(t,"H",(function(){return O})),a.d(t,"t",(function(){return v})),a.d(t,"k",(function(){return _})),a.d(t,"I",(function(){return C})),a.d(t,"F",(function(){return y})),a.d(t,"J",(function(){return S})),a.d(t,"m",(function(){return R})),a.d(t,"l",(function(){return L})),a.d(t,"A",(function(){return I})),a.d(t,"y",(function(){return D})),a.d(t,"z",(function(){return B})),a.d(t,"h",(function(){return N})),a.d(t,"i",(function(){return k})),a.d(t,"n",(function(){return w})),a.d(t,"j",(function(){return F})),a.d(t,"e",(function(){return j})),a.d(t,"q",(function(){return M})),a.d(t,"E",(function(){return P})),a.d(t,"w",(function(){return H})),a.d(t,"K",(function(){return U})),a.d(t,"p",(function(){return x})),a.d(t,"v",(function(){return W})),a.d(t,"u",(function(){return G})),a.d(t,"x",(function(){return K})),a.d(t,"L",(function(){return z})),a.d(t,"M",(function(){return Y}));var n=a(3),i=3,s=1e3,r=50,c=30,l=12e3,o=9e4,u=[n.a.KILL_COMMAND_CAST_BM.id,n.a.COBRA_SHOT.id,n.a.BESTIAL_WRATH.id,n.a.MULTISHOT_BM.id,n.a.BARBED_SHOT.id,n.a.ASPECT_OF_THE_WILD.id,n.a.CALL_PET_1.id,n.a.CALL_PET_2.id,n.a.CALL_PET_3.id,n.a.CALL_PET_4.id,n.a.CALL_PET_5.id,n.a.INTIMIDATION.id,n.a.FREEZING_TRAP.id,n.a.TAR_TRAP.id,n.a.HUNTERS_MARK.id,n.a.ARCANE_SHOT.id,n.a.EXHILARATION.id,n.a.FLARE.id,n.a.BLOODSHED_TALENT.id,n.a.DIRE_BEAST_TALENT.id,n.a.SPITTING_COBRA_TALENT.id,n.a.BARRAGE_TALENT.id,n.a.STAMPEDE_TALENT.id,n.a.CHIMAERA_SHOT_BM_TALENT.id,n.a.A_MURDER_OF_CROWS_TALENT.id,n.a.WILD_SPIRITS.id,n.a.FLAYED_SHOT.id,n.a.RESONATING_ARROW.id,n.a.DEATH_CHAKRAM_INITIAL_AND_AOE.id],d=5,h=2,m=.3,E=[n.a.MELEE.id,n.a.KILL_COMMAND_DAMAGE_BM.id,n.a.STOMP_DAMAGE.id],f=.35,g=.5,b=.2,T=.1,p=18,A=2,O=3,v=.03,_=[n.a.BITE_BASIC_ATTACK,n.a.CLAW_BASIC_ATTACK,n.a.SMACK_BASIC_ATTACK],C=3400,y=3150,S=3e3,R=10,L=120,I=.025,D=.05,B=.1,N=[n.a.BARBED_SHOT_BUFF,n.a.BARBED_SHOT_BUFF_2,n.a.BARBED_SHOT_BUFF_3,n.a.BARBED_SHOT_BUFF_4,n.a.BARBED_SHOT_BUFF_5,n.a.BARBED_SHOT_BUFF_6,n.a.BARBED_SHOT_BUFF_7,n.a.BARBED_SHOT_BUFF_8],k=[n.a.BARBED_SHOT_BUFF.id,n.a.BARBED_SHOT_BUFF_2.id,n.a.BARBED_SHOT_BUFF_3.id,n.a.BARBED_SHOT_BUFF_4.id,n.a.BARBED_SHOT_BUFF_5.id,n.a.BARBED_SHOT_BUFF_6.id,n.a.BARBED_SHOT_BUFF_7.id,n.a.BARBED_SHOT_BUFF_8.id],w=[n.a.ASPECT_OF_THE_WILD.id,n.a.CHIMAERA_SHOT_FOCUS.id].concat(k),F=5,j=5,M=10,P=[n.a.COBRA_SHOT,n.a.MULTISHOT_BM,n.a.KILL_COMMAND_CAST_BM,n.a.DIRE_BEAST_TALENT],H=[0,1e3,1100,1200,1300,1400,1500,1600,1700,1800,1900,2e3,2100,2200,2300,2400],U=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15],x=[0,.1,.11,.12,.13,.14,.15,.16,.18,.19,.2,.21,.22,.23,.24,.25],W=[0,.05,.06,.06,.07,.07,.08,.08,.09,.09,.1,.1,.11,.11,.12,.12],G=.2,K=.25,z=5e3,Y=.2},799:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(779),u=a(33),d=a(4),h=a(22),m=(a(817),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderLegend",value:function(e){var t=e.reduce((function(e,t){return e+t.value}),0);return l.a.createElement("div",{className:"legend"},e.map((function(e,a){var n=e.color,i=e.label,s=e.tooltip,r=e.value,c=e.spellId,o=e.valueTooltip;return i=s?l.a.createElement(h.a,{content:s},i):i,i=c?l.a.createElement(d.a,{id:c},i):i,l.a.createElement("div",{key:a,className:"flex"},l.a.createElement("div",{className:"flex-sub"},l.a.createElement("div",{className:"circle",style:{background:n}})),l.a.createElement("div",{className:"flex-main"},i),l.a.createElement("div",{className:"flex-sub"},l.a.createElement(h.a,{content:o||r},Object(u.e)(r/t,0),"%")))})))}},{key:"renderChart",value:function(e,t,a){var n={items:e},i={data:{name:"items"},mark:{type:"arc",innerRadius:t*a},encoding:{theta:{field:"value",type:"quantitative"},color:{field:"label",type:"nominal",legend:null,scale:{domain:e.map((function(e){return e.label})),range:e.map((function(e){return e.color}))}}},view:{stroke:null}};return l.a.createElement("div",{className:"chart"},l.a.createElement(o.a,{width:t,height:t,spec:i,data:n}))}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.chartSize,n=e.innerRadiusFactor;return l.a.createElement("div",{className:"donut-chart"},this.renderLegend(t),this.renderChart(t,a,n))}}]),a}(l.a.PureComponent));m.defaultProps={chartSize:90,innerRadiusFactor:.28},t.a=m},802:function(e,t,a){"use strict";a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return E})),a.d(t,"a",(function(){return f})),a.d(t,"d",(function(){return g})),a.d(t,"e",(function(){return O}));var n=a(26),i=a(8),s=a(9),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(788),d=a(779),h=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={hover:null},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.probabilities,a=e.actualEvent,n=e.xAxis,i=e.yAxis,s=e.yDomain,r=e.tooltip,c={probabilities:t,actual:a},l={encoding:{x:{field:"x",type:"quantitative",title:n.title,axis:{grid:!1,format:n.tickFormat}},y:{field:"y",type:"quantitative",title:i.title,axis:{grid:!1,format:".0%"},scale:{domain:s}}},layer:[{data:{name:"probabilities"},mark:{type:"area",color:"rgba(250, 183, 0, 0.15)",line:{color:"#fab700",strokeWidth:1}}},{data:{name:"actual"},mark:{type:"point",filled:!0,color:"#00ff96",size:60},encoding:{tooltip:[{field:"x",title:r}]}}]};return o.a.createElement(u.a,{disableHeight:!0},(function(e){var t=e.width;return o.a.createElement(d.a,{height:150,width:t,spec:l,data:c})}))}}]),a}(o.a.Component);function m(e,t){return e*t}function E(e,t,a){return function(e,t){for(var a=1,n=1,i=e-t+1;i<=e;i+=1)a*=i;for(var s=1;s<=t;s+=1)n*=s;return a/n}(t,e)*Math.pow(a,e)*Math.pow(1-a,t-e)}function f(e,t,a){for(var n=0,i=0;i<=e;i+=1)n+=E(i,t,a);return n}function g(e,t){for(var a=-1,n=0,i=0;i<=e;i+=1){var s=t(i,e);s>n&&(a=i,n=s)}return{max:a,p:n}}function b(e,t,a){return Array.from({length:t},(function(e,n){return"number"===typeof a?{x:n,y:E(n,t,a)}:{x:n,y:A(n,t,a)}}))}function T(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001,i=b(0,t,a),s=i.findIndex((function(e){return e.y>=n})),r=s+i.slice(s).findIndex((function(e){return e.y<n}));return{procProbabilities:i,rangeMin:s,rangeMax:r}}function p(e,t,a,n){if(-1===e)return 0;if(e===t+1)return 0;if(0===e&&0===t)return 1;if(null!==n[e][t])return n[e][t];var i=(1-a[t-1])*p(e,t-1,a,n)+a[t-1]*p(e-1,t-1,a,n);return n[e][t]=i,i}function A(e,t,a){if(a.length!==t)throw new Error("You must supply a probability vector with the same length as the number of total tries into Poisson Binomial PMF");var i=Object(n.a)(Array(t+1)).map((function(e){return Array(t+1).fill(null)}));return p(e,t,a,i)}function O(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Procs",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,.4],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{title:n,tickFormat:"~k"},c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{title:"Likelihood"},l=T(e,t,a),u=l.procProbabilities,d=l.rangeMin,m=l.rangeMax,f="number"===typeof a?E(e,t,a):A(e,t,a);return o.a.createElement(h,{probabilities:u.slice(d,m+1),actualEvent:{x:e,y:f},yDomain:s,xAxis:r,yAxis:c,tooltip:i})}},816:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(15),l=a(43),o=(a(33),a(752)),u=a(754),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).spellUsable=void 0,i.inExecuteWindow=!1,i.inHealthExecuteWindow=!1,i.executeWindowStart=0,i.lastExecuteHitTimestamp=0,i.totalExecuteWindowDuration=0,i.damage=0,i.casts=0,i.castsWithExecute=0,i.addEventListener(c.f.damage.by(i.executeSources),i.onGeneralDamage),i.addEventListener(c.f.cast.by(i.executeSources).spell(i.executeSpells),i.onExecuteCast),i.addEventListener(c.f.damage.by(i.executeSources).spell(i.executeSpells),i.onExecuteDamage),i.addEventListener(c.f.applybuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.applyExecuteEnablerBuff),i.addEventListener(c.f.removebuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.removeExecuteEnablerBuff),i.addEventListener(c.f.fightend,i.onFightEnd),i}return Object(i.a)(a,[{key:"isTargetInExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints<this.lowerThreshold}},{key:"isTargetInReverseExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints>this.upperThreshold}},{key:"isTargetInHealthExecuteWindow",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&(this.isTargetInExecuteRange(e)||this.isTargetInReverseExecuteRange(e))}},{key:"isExecuteUsableOutsideExecuteRange",get:function(){var e=this,t=!1;return this.executeOutsideRangeEnablers.forEach((function(a){e.selectedCombatant.hasBuff(a.id)&&(t=!0)})),t}},{key:"areExecuteSpellsOnCD",get:function(){var e=this,t=!0;return this.executeSpells.forEach((function(a){e.spellUsable.isOnCooldown(a.id)||(t=!1)})),t}}]),Object(i.a)(a,[{key:"onGeneralDamage",value:function(e){e.targetIsFriendly||(this.areExecuteSpellsOnCD||this.isExecuteUsableOutsideExecuteRange||this.isTargetInHealthExecuteWindow(e)?(this.lastExecuteHitTimestamp=e.timestamp,this.inExecuteWindow||(this.inExecuteWindow=!0,this.inHealthExecuteWindow=!0,this.executeWindowStart=e.timestamp)):this.inExecuteWindow&&e.timestamp>this.lastExecuteHitTimestamp+500&&(this.inExecuteWindow=!1,this.inHealthExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart))}},{key:"onExecuteCast",value:function(){this.casts+=1,(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.castsWithExecute+=1)}},{key:"onExecuteDamage",value:function(e){(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.modifiesDamage?this.damage+=Object(o.a)(e,this.damageModifier):this.damage+=e.amount+(e.absorbed||0))}},{key:"applyExecuteEnablerBuff",value:function(e){this.inExecuteWindow||this.inHealthExecuteWindow||(this.executeWindowStart=e.timestamp),this.inExecuteWindow=!0,this.lastExecuteHitTimestamp=e.timestamp}},{key:"removeExecuteEnablerBuff",value:function(e){this.inHealthExecuteWindow||(this.inExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart)}},{key:"onFightEnd",value:function(e){this.inExecuteWindow&&(this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart,this.inExecuteWindow=!1)}},{key:"executeSources",get:function(){return this.constructor.executeSources}},{key:"executeSpells",get:function(){return this.constructor.executeSpells}},{key:"executeOutsideRangeEnablers",get:function(){return this.constructor.executeOutsideRangeEnablers}},{key:"lowerThreshold",get:function(){return this.constructor.lowerThreshold}},{key:"upperThreshold",get:function(){return this.constructor.upperThreshold}},{key:"modifiesDamage",get:function(){return this.constructor.modifiesDamage}},{key:"damageModifier",get:function(){return this.constructor.damageModifier}},{key:"executeDamage",get:function(){return this.damage}},{key:"totalExecuteDuration",get:function(){return this.totalExecuteWindowDuration}},{key:"totalCasts",get:function(){return this.casts}},{key:"totalExecuteCasts",get:function(){return this.castsWithExecute}}]),a}(l.c);d.dependencies={spellUsable:u.b},d.executeSpells=[],d.executeSources=void 0,d.executeOutsideRangeEnablers=[],d.lowerThreshold=void 0,d.upperThreshold=void 0,d.modifiesDamage=void 0,d.damageModifier=void 0,t.a=d},817:function(e,t,a){},827:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=function(e){var t=e.casts,a=e.hits,n=e.unique,s=e.approximate,r=a/t||0;return i.a.createElement(i.a.Fragment,null,s&&"\u2248",r.toFixed(1)," ",i.a.createElement("small",null," ",n?"unique targets hit":"average"," ",n?"":1===r?"hit":"hits"," per cast"))};t.a=s,s.defaultProps={approximate:!1,unique:!1}},831:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(15);function i(e){switch(e.type){case n.b.RemoveBuff:case n.b.RemoveDebuff:return 0;case n.b.ApplyBuff:case n.b.ApplyDebuff:return 1;case n.b.ApplyBuffStack:case n.b.RemoveBuffStack:case n.b.ApplyDebuffStack:case n.b.RemoveDebuffStack:return e.stack}throw new Error("Invalid event type for currentStacks")}},836:function(e,t,a){"use strict";var n=a(758),i=a(0),s=a.n(i),r=a(33),c=a(4),l=a(13);t.a=function(e,t,a){var i={generated:0,wasted:0,casts:0};if(Array.isArray(a.spell)){var o,u={id:-1,name:"",icon:""},d=Object(n.a)(a.spell);try{for(d.s();!(o=d.n()).done;){var h=o.value;t.buildersObj[h.id]&&(-1===u.id&&(u=h),i.generated+=t.buildersObj[h.id].generated,i.wasted+=t.buildersObj[h.id].wasted,i.casts+=t.buildersObj[h.id].casts)}}catch(g){d.e(g)}finally{d.f()}a.spell=u}else i=t.buildersObj[a.spell.id];if(i){var m=i.generated+i.wasted,E=i.wasted/m||0,f=t.resource.name.toLowerCase();e(E).isGreaterThan(a.minor).addSuggestion((function(e){return e(s.a.createElement(s.a.Fragment,null,"You are wasting ",f," generated by ",s.a.createElement(c.a,{id:a.spell.id}),". ",a.extraSuggestion)).icon(a.spell.icon).actual(l.i18n._({id:"shared.suggestions.resources.wasted",defaults:"{0}% wasted. Generated {1} out of {maxGenerated} possible {resourceNameLower}",values:{0:Object(r.e)(E),1:i.generated,maxGenerated:m,resourceNameLower:f}})).recommended("<".concat(Object(r.e)(a.minor),"%  ").concat(f," wasted is recommend")).regular(a.avg).major(a.major)}))}}},839:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(43),l=a(800),o=a(123),u=a(832),d=a(766),h=a(15),m=[d.a.MISS,d.a.DODGE,d.a.PARRY],E=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];(e=t.call.apply(t,[this].concat(s))).atCap=0,e.missedRegen=0,e.naturalRegen=0,e.regenState=null,e.prevSpender=null,e.hasReportedBelowCap=!1,e.debugErrorSum=0,e.debugGreatestError=0,e.debugAccuracyCheckCount=0;var l=e.currentMaxResourceWithFallback();return e.regenState={amount:l||0,max:l,regen:e.naturalRegenRate(),timestamp:e.owner.fight.start_time},e.addEventListener(h.f.fightend,e.onFightend),e.addEventListener(h.f.energize.to(c.a),e.onEnergize),e.addEventListener(h.f.cast.by(c.a),e.onCast),e.addEventListener(h.f.damage.by(c.a),e.onDamage),e.addEventListener(h.f.drain.by(c.a),e.onDrain),e.addEventListener(h.f.applybuff.to(c.a),e.onApplyBuff),e.addEventListener(h.f.removebuff.to(c.a),e.onRemoveBuff),e.addEventListener(h.f.ChangeHaste.to(c.a),e.onChangeHaste),e}return Object(i.a)(a,[{key:"current",get:function(){return this.predictValue(this.owner.currentTimestamp)}},{key:"isCapped",get:function(){return this.current>=this.regenState.max}},{key:"cappedProportion",get:function(){return this.atCap/this.owner.fightDuration}},{key:"missedRegenPerMinute",get:function(){return this.missedRegen/this.owner.fightDuration*1e3*60}}]),Object(i.a)(a,[{key:"getReducedDrain",value:function(e){return e.resourceChange}},{key:"getBaseRegenRate",value:function(){return this.constructor.baseRegenRate}},{key:"naturalRegenRate",value:function(){var e=this.getBaseRegenRate()/1e3;return this.constructor.isRegenHasted&&(e*=1+this.haste.current),e}},{key:"currentMaxResource",value:function(){return null}},{key:"processInvisibleEnergize",value:function(e){if(null==e||isNaN(e))throw new Error("processInvisibleEnergize called without required parameter. amount: ".concat(e));if(0!==e){var t=this.current,a=Math.min(t+e,this.currentMaxResourceWithFallback())-t;this.applyEnergize(a)}}},{key:"getResource",value:function(e){var t=this;return e&&e.classResources?e.classResources.find((function(e){return e.type===t.constructor.resourceType.id})):null}},{key:"getCost",value:function(e){return void 0!==e.resourceCost[this.constructor.resourceType.id]?e.resourceCost[this.constructor.resourceType.id]:this.getResource(e).cost}},{key:"combatantHasBuffActive",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||isNaN(e))throw new Error("combatantHasBuffActive called without required parameter. buffId: ".concat(e));t||(t=this.owner.currentTimestamp);var a=this.selectedCombatant.getBuffHistory(e);return Boolean(a.find((function(e){return e.start<=t&&(!e.end||e.end>t)})))}},{key:"onFightend",value:function(){this.updateState(this.predictValue(this.owner.fight.end_time))}},{key:"onEnergize",value:function(e){if(e.resourceChangeType===this.constructor.resourceType.id&&e.resourceChange){var t=e.waste?e.waste:0,a=e.resourceChange-t,n=this.constructor.energizersToApplyCumulatively.includes(e.ability.guid);this.applyEnergize(a,e,n)}}},{key:"applyEnergize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||isNaN(e))throw new Error("applyEnergize called without required parameter. gain: ".concat(e));var n=t?t.timestamp:this.owner.currentTimestamp,i=t?this.getResource(t):null,s=a||this.isLastUpdateRecent(n)||!i||null==i.amount,r=s?this.predictValue(n)+e:i.amount;var c=this.currentMaxResourceWithFallback(t);this.updateState(r,c)}},{key:"onCast",value:function(e){var t=this.getResource(e);if(t){var a=this.getCost(e);if(a){this.constructor.exemptFromRefund.includes(e.ability.guid)||(this.prevSpender={id:e.ability.guid,cost:a,timestamp:e.timestamp});var n=null==t.amount||this.constructor.castsToApplyCumulatively.includes(e.ability.guid)||this.isLastUpdateRecent(e.timestamp),i=(n?this.predictValue(e.timestamp):t.amount)-a;0;var s=this.currentMaxResourceWithFallback(e);this.updateState(i,s)}}}},{key:"onDamage",value:function(e){if(!(!this.prevSpender||e.ability.guid!==this.prevSpender.id||e.timestamp-this.prevSpender.timestamp>500||e.tick)&&m.includes(e.hitType)){var t=Math.floor(this.prevSpender.cost*this.constructor.resourceRefundOnMiss),a=this.predictValue(e.timestamp)+t;this.updateState(a)}}},{key:"onDrain",value:function(e){if(e.resourceChangeType===this.constructor.resourceType.id&&e.resourceChange){var t=this.getResource(e),a=this.getReducedDrain(e),n=!t||null==t.amount||this.constructor.energizersToApplyCumulatively.includes(e.ability.guid)||this.isLastUpdateRecent(e.timestamp),i=(n?this.predictValue(e.timestamp):t.amount)-a;0;var s=this.currentMaxResourceWithFallback(e);this.updateState(i,s)}}},{key:"isLastUpdateRecent",value:function(e){return this.regenState.timestamp+this.constructor.cumulativeEventWindow>=e}},{key:"onApplyBuff",value:function(e){this.constructor.buffsChangeMax.includes(e.ability.guid)&&this.buffChangesResourceMax(e),this.constructor.buffsChangeRegen.includes(e.ability.guid)&&this.buffChangesRegen()}},{key:"onRemoveBuff",value:function(e){this.constructor.buffsChangeMax.includes(e.ability.guid)&&this.buffChangesResourceMax(e),this.constructor.buffsChangeRegen.includes(e.ability.guid)&&this.buffChangesRegen()}},{key:"onChangeHaste",value:function(){var e=this.naturalRegenRate();this.updateState(null,null,e)}},{key:"buffChangesResourceMax",value:function(e){var t=this.currentMaxResourceWithFallback(e);this.updateState(null,t)}},{key:"buffChangesRegen",value:function(){var e=this.naturalRegenRate();this.updateState(null,null,e)}},{key:"updateState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.owner.currentTimestamp;(null==e||isNaN(e))&&(e=this.predictValue(n)),(null==t||isNaN(t))&&(t=this.currentMaxResourceWithFallback()),(null==a||isNaN(a))&&(a=this.naturalRegenRate()),e=t?Math.min(t,e):e;var i=this.regenState,s={amount:e,max:t,regen:a,timestamp:n};if(this.regenState=s,i){var r=this.timeCappedBetweenStates(i,s);this.atCap+=r,this.missedRegen+=r*i.regen,this.naturalRegen+=(s.timestamp-i.timestamp)*i.regen}s.amount<s.max&&this.onBelowCap(s.timestamp)}},{key:"timeCappedBetweenStates",value:function(e,t){if(!e||!t)throw new Error("timeCappedBetweenStates called without required parameters. oldState: ".concat(e,", newState: ").concat(t));var a=e.max?this.predictReachValue(e.timestamp,e.amount,e.regen,e.max):1/0;return a>=t.timestamp?0:(this.onAtCap(a),t.timestamp-a)}},{key:"currentMaxResourceWithFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.currentMaxResource();if(t)return t;var a=this.getResource(e);return a&&null!=a.max&&!isNaN(a.max)?a.max:this.regenState.max}},{key:"predictReachValue",value:function(e,t,a,n){if(null==t||isNaN(t)||null==a||isNaN(a)||null==n||isNaN(n)||null==e||isNaN(e))throw new Error("predictReachValue called without required parameters. startValue: ".concat(t,", regen: ").concat(a,", cap: ").concat(n,", startTime: ").concat(e));return t>=n?e:0===a?1/0:e+(n-t)/a}},{key:"predictValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e||(e=this.owner.currentTimestamp),e<this.regenState.timestamp)return this.regenState.amount;var t=e-this.regenState.timestamp,a=this.regenState.amount+this.regenState.regen*t;return this.regenState.max?Math.min(this.regenState.max,a):a}},{key:"onBelowCap",value:function(e){this.hasReportedBelowCap||(this.fabricateEndCap(e),this.hasReportedBelowCap=!0)}},{key:"onAtCap",value:function(e){this.hasReportedBelowCap&&(this.fabricateBeginCap(e),this.hasReportedBelowCap=!1)}},{key:"fabricateBeginCap",value:function(e){if(null==e||isNaN(e))throw new Error("fabricateBeginCap called without required parameter. time: ".concat(e));this.eventEmitter.fabricateEvent({type:"beginresourcecap",timestamp:e,sourceID:this.owner.playerId,targetID:this.owner.playerId,resourceType:this.constructor.resourceType.id})}},{key:"fabricateEndCap",value:function(e){if(null==e||isNaN(e))throw new Error("fabricateEndCap called without required parameter. time: ".concat(e));this.eventEmitter.fabricateEvent({type:"endresourcecap",timestamp:e,sourceID:this.owner.playerId,targetID:this.owner.playerId,resourceType:this.constructor.resourceType.id})}},{key:"debugActualVsPredicted",value:function(e,t){}},{key:"debugMeanPredictionError",get:function(){return this.debugErrorSum/this.debugAccuracyCheckCount}}]),a}(c.c);E.dependencies={eventEmitter:o.a,haste:l.a,spellResourceCost:u.a},E.baseRegenRate=0,E.isRegenHasted=!1,E.buffsChangeMax=[],E.buffsChangeRegen=[],E.energizersToApplyCumulatively=[],E.castsToApplyCumulatively=[],E.drainsToApplyCumulatively=[],E.cumulativeEventWindow=100,E.resourceRefundOnMiss=0,E.exemptFromRefund=[],t.a=E},840:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(88),l=a(773),o=a(3),u=a(783),d=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).resource=c.a.FOCUS,i}return Object(i.a)(a,[{key:"onEnergize",value:function(e){if(e.resourceChangeType===this.resource.id){var t,a=e.ability.guid,n=0;u.n.includes(a)?(t=e.resourceChange,u.i.includes(a)?t-=n=u.j*(this.selectedCombatant.hasBuff(o.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)?2:1)-t:a===o.a.ASPECT_OF_THE_WILD.id?t-=n=u.e*(this.selectedCombatant.hasBuff(o.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)?2:1)-t:a===o.a.CHIMAERA_SHOT_FOCUS.id&&(t-=n=u.q*(this.selectedCombatant.hasBuff(o.a.NESINGWARYS_TRAPPING_APPARATUS_ENERGIZE.id)?2:1)-t)):(n=e.waste,t=e.resourceChange-n),this._applyBuilder(a,t,n,this.getResource(e),e.timestamp)}}},{key:"shouldProcessCastEvent",value:function(e){return!e.__fabricated&&Boolean(this.getResource(e))}}]),a}(l.a);t.a=d},860:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e.toString().length>6}},861:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(753),u=a(3),d=a(15),h=a(746),m=a(747),E=a(58),f=a(751),g=a(0),b=a.n(g),T=a(748),p=a(754),A=a(802),O=a(4),v=a(759),_=a(33),C=a(5),y=a(121),S=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.damageTicks=0,i.totalProcs=0,i.resets=0,i.offCDProcs=0,i.activeKillShotSpell=i.selectedCombatant.spec===C.a.SURVIVAL_HUNTER?u.a.KILL_SHOT_SV:u.a.KILL_SHOT_MM_BM,i.spellUsable=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasCovenant(y.a.VENTHYR.id),i.active?(e.abilities.add({spell:u.a.FLAYED_SHOT,category:o.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(d.f.damage.by(l.a).spell(u.a.FLAYED_SHOT),i.onDamage),i.addEventListener(d.f.applybuff.by(l.a).spell(u.a.FLAYERS_MARK),i.onProc),i.addEventListener(d.f.refreshbuff.by(l.a).spell(u.a.FLAYERS_MARK),i.onProc),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0),this.damageTicks+=1}},{key:"onProc",value:function(e){this.totalProcs+=1,this.spellUsable.isOnCooldown(this.activeKillShotSpell.id)?(this.spellUsable.endCooldown(this.activeKillShotSpell.id,!1,e.timestamp),this.resets+=1):this.offCDProcs+=1}},{key:"statistic",value:function(){return b.a.createElement(h.a,{position:m.a.CORE(),size:"flexible",category:E.a.COVENANTS,tooltip:b.a.createElement(b.a.Fragment,null,"You had ",this.offCDProcs," ",1===this.offCDProcs?"proc":"procs"," with Kill Shot already off cooldown. ",b.a.createElement("br",null),"You had ",Object(_.e)(this.totalProcs/this.expectedProcs,1),"% procs of what you could expect to get over the encounter. ",b.a.createElement("br",null),"You had a total of ",this.totalProcs," procs, and your expected amount of procs was ",Object(_.d)(this.expectedProcs),". ",b.a.createElement("br",null),b.a.createElement("ul",null,b.a.createElement("li",null,"You have a \u2248",Object(_.e)(Object(A.a)(this.totalProcs,this.damageTicks,v.k)),"% chance of getting this amount of procs or fewer in the future with this amount of auto attacks."))),dropdown:b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{style:{padding:"8px"}},Object(A.e)(this.totalProcs,this.damageTicks,v.k),b.a.createElement("p",null,"Likelihood of getting ",b.a.createElement("em",null,"exactly")," as many procs as estimated on a fight given your number of ",b.a.createElement(O.a,{id:u.a.FLAYED_SHOT.id})," ticks.")))},b.a.createElement(T.a,{spell:u.a.FLAYED_SHOT},b.a.createElement(b.a.Fragment,null,this.resets," / ",this.totalProcs," (",Object(_.e)(this.resets/this.totalProcs),"%) ",b.a.createElement("small",null,"Kill Shot resets"),b.a.createElement("br",null),b.a.createElement(f.a,{amount:this.damage}))))}},{key:"expectedProcs",get:function(){return Object(A.c)(v.k,this.damageTicks)}}]),a}(l.c);S.dependencies={spellUsable:p.b,abilities:o.a},t.a=S},871:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(43),u=a(164),d=a(49),h=a(750),m=a(746),E=a(33),f=a(781),g=a(808),b=a(88),T=a(759),p=a(840),A=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).focusTracker=void 0,e}return Object(i.a)(a,[{key:"statistic",value:function(){return l.a.createElement(m.a,{position:h.a.CORE(11),size:"flexible",tooltip:"You wasted ".concat(this.wasted," out of ").concat(this.total," Focus from generators.")},l.a.createElement(g.a,{resource:b.a.FOCUS,value:"".concat(Object(E.e)(this.wastedPercent)," %"),label:"Wasted generator Focus"}))}},{key:"tab",value:function(){var e=this;return{title:"Focus",url:"focus",render:function(){return l.a.createElement(d.a,null,l.a.createElement(f.a,{tracker:e.focusTracker,showSpenders:!0}))}}}},{key:"wasted",get:function(){return this.focusTracker.wasted||0}},{key:"total",get:function(){return this.focusTracker.wasted+this.focusTracker.generated||0}},{key:"wastedPercent",get:function(){return this.wasted/this.total||0}},{key:"focusGeneratorWasteThresholds",get:function(){return{actual:1-this.wastedPercent,isLessThan:{minor:1-T.z,average:1-T.x,major:1-T.y},style:u.a.PERCENTAGE}}}]),a}(o.c);A.dependencies={focusTracker:p.a},t.a=A},882:function(e,t,a){"use strict";var n=a(7),i=a(31),s=a(8),r=a(9),c=a(120),l=a(66),o=a(10),u=a(11),d=a(0),h=a.n(d),m=a(88),E=a(33),f=a(750),g=a(22),b=a(839),T=a(847),p=a(788),A=a(865),O=a(15),v=a(164),_=a(759),C=a(43),y=a(13),S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).bySecond={},n.addEventListener(O.f.energize.by(C.a),n.onEnergizeByPlayer),n}return Object(r.a)(a,[{key:"currentMaxResource",value:function(){return _.l}},{key:"onEnergizeByPlayer",value:function(e){var t=Math.floor((e.timestamp-this.owner.fight.start_time)/1e3);this.bySecond[t]=this.bySecond[t]||this.current}},{key:"onCast",value:function(e){Object(c.a)(Object(l.a)(a.prototype),"onCast",this).call(this,e);var t=Math.floor((e.timestamp-this.owner.fight.start_time)/1e3);this.bySecond[t]=this.bySecond[t]||this.current}},{key:"onDamage",value:function(e){Object(c.a)(Object(l.a)(a.prototype),"onDamage",this).call(this,e);var t=Math.floor((e.timestamp-this.owner.fight.start_time)/1e3);this.bySecond[t]=this.bySecond[t]||this.current}},{key:"suggestions",value:function(e){e(this.focusNaturalRegenWasteThresholds).addSuggestion((function(e,t,a){return e(h.a.createElement(h.a.Fragment,null,"You're allowing your focus to reach its cap. While at its maximum value you miss out on the focus that would have regenerated. Although it can be beneficial to let focus pool ready to be used at the right time, try to spend some before it reaches the cap.")).icon("ability_hunter_focusfire").actual(y.i18n._({id:"hunter.marksmanship.suggestions.focusCapTracker.focusLost",defaults:"{0}% regenerated focus lost due to being capped.",values:{0:Object(E.e)(1-t)}})).recommended("<".concat(Object(E.e)(a,0),"% is recommended."))}))}},{key:"statistic",value:function(){var e=this,t=Object.entries(this.bySecond).map((function(e){var t=Object(i.a)(e,2);return{time:t[0],val:t[1]}}));return h.a.createElement(T.a,{position:f.a.CORE(1),wide:!0,style:{marginBottom:20,overflow:"hidden"},large:!1,ultrawide:!1},h.a.createElement(g.b,{content:h.a.createElement(h.a.Fragment,null,"Natural Focus regen lost: ",h.a.createElement("strong",null,Object(E.f)(this.missedRegen))," ",h.a.createElement("br",null)," That is ",h.a.createElement("strong",null,Object(E.e)(this.wastedPercent),"%")," of natural regenerated focus over the course of the encounter.")},h.a.createElement("div",{className:"flex"},h.a.createElement("div",{className:"flex-sub icon"},h.a.createElement("img",{src:"/img/bullseye.png",alt:"Focus"})),h.a.createElement("div",{className:"flex-sub value",style:{width:100}},"Focus"),h.a.createElement("div",{className:"flex-main chart"},this.missedRegen>0&&h.a.createElement(p.a,{disableWidth:!0},(function(a){var n=a.height;return h.a.createElement(A.a,{data:t,duration:e.owner.fightDuration/1e3,height:n})}))))))}},{key:"wastedPercent",get:function(){return this.missedRegen/this.naturalRegen||0}},{key:"focusNaturalRegenWasteThresholds",get:function(){return{actual:1-this.wastedPercent,isLessThan:{minor:.9,average:.85,major:.8},style:v.a.PERCENTAGE}}}]),a}(b.a);S.dependencies=Object(n.a)({},b.a.dependencies),S.resourceType=m.a.FOCUS,S.baseRegenRate=_.m,S.isRegenHasted=!0,t.a=S},900:function(e,t,a){"use strict";var n=a(7),i=a(8),s=a(9),r=a(120),c=a(66),l=a(10),o=a(11),u=a(857),d=a(759),h=function(e){Object(l.a)(a,e);var t=Object(o.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"deathPercentageOfEncounter",value:function(e,t){return(t-e)/this.owner.fightDuration}},{key:"resurrect",value:function(e){this.lastResurrectionTimestamp=this.owner.currentTimestamp,this.deathPercentageOfEncounter(this.lastDeathTimestamp,this.lastResurrectionTimestamp)>d.B?Object(r.a)(Object(c.a)(a.prototype),"resurrect",this).call(this,e):(this.isAlive=!0,this.deaths.pop())}}]),a}(u.a);h.dependencies=Object(n.a)({},u.a.dependencies),t.a=h},901:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(3),u=a(43),d=a(754),h=a(33),m=a(5),E=a(746),f=a(58),g=a(747),b=a(748),T=a(15),p=a(88),A=a(759),O=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).cdrPerFocus=A.r,i.effectiveExhilReductionMs=0,i.wastedExhilReductionMs=0,i.lastFocusCost=0,i.spellUsable=void 0,i.active=i.selectedCombatant.hasTalent(o.a.NATURAL_MENDING_TALENT.id),i.active&&i.selectedCombatant.spec===m.a.BEAST_MASTERY_HUNTER&&(i.cdrPerFocus=A.e),i.addEventListener(T.f.cast.by(u.a),i.onCast),i}return Object(i.a)(a,[{key:"onCast",value:function(e){var t,a=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===p.a.FOCUS.id}));if(a){this.lastFocusCost=a.cost||0;var n=this.cdrPerFocus*this.lastFocusCost;if(this.spellUsable.isOnCooldown(o.a.EXHILARATION.id)){if(this.spellUsable.cooldownRemaining(o.a.EXHILARATION.id)<n){var i=this.spellUsable.reduceCooldown(o.a.EXHILARATION.id,n);return this.effectiveExhilReductionMs+=i,void(this.wastedExhilReductionMs+=n-i)}this.effectiveExhilReductionMs+=this.spellUsable.reduceCooldown(o.a.EXHILARATION.id,n)}else this.wastedExhilReductionMs+=n}}},{key:"statistic",value:function(){return l.a.createElement(E.a,{position:g.a.OPTIONAL(14),size:"flexible",category:f.a.TALENTS},l.a.createElement(b.a,{spell:o.a.NATURAL_MENDING_TALENT},l.a.createElement(l.a.Fragment,null,Object(h.d)(this.effectiveExhilReductionMs/1e3),"s/",Object(h.d)((this.wastedExhilReductionMs+this.effectiveExhilReductionMs)/1e3),"s ",l.a.createElement("small",null," cooldown reduction"))))}}]),a}(u.c);O.dependencies={spellUsable:d.b},t.a=O},902:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(43),u=a(3),d=a(33),h=a(746),m=a(58),E=a(747),f=a(748),g=a(760),b=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).active=i.selectedCombatant.hasTalent(u.a.TRAILBLAZER_TALENT.id),i}return Object(i.a)(a,[{key:"statistic",value:function(){return l.a.createElement(h.a,{position:E.a.OPTIONAL(14),size:"flexible",category:m.a.TALENTS},l.a.createElement(f.a,{spell:u.a.TRAILBLAZER_TALENT},l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null)," ",Object(d.e)(this.percentUptime),"% ",l.a.createElement("small",null,"uptime"))))}},{key:"percentUptime",get:function(){return this.selectedCombatant.getBuffUptime(u.a.TRAILBLAZER_BUFF.id)/this.owner.fightDuration}}]),a}(o.c);t.a=b},903:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(3),u=a(43),d=a(754),h=a(751),m=a(753),E=a(746),f=a(58),g=a(747),b=a(748),T=a(15),p=a(759),A=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=0,i.applicationTimestamp=0,i.lastDamageTick=0,i.crowsEndingTimestamp=0,i.maxCasts=0,i.resets=0,i.spellUsable=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(o.a.A_MURDER_OF_CROWS_TALENT.id),i.active&&e.abilities.add({spell:o.a.A_MURDER_OF_CROWS_TALENT,category:m.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85,maxCasts:function(){return i.maxCasts}}}),i.addEventListener(T.f.any,i.checkForReset),i.addEventListener(T.f.cast.by(u.a).spell(o.a.A_MURDER_OF_CROWS_TALENT),i.onCast),i.addEventListener(T.f.damage.by(u.a).spell(o.a.A_MURDER_OF_CROWS_DEBUFF),i.onDamage),i.addEventListener(T.f.fightend,i.adjustMaxCasts),i}return Object(i.a)(a,[{key:"checkForReset",value:function(e){this.lastDamageTick&&this.spellUsable.isOnCooldown(o.a.A_MURDER_OF_CROWS_TALENT.id)&&this.applicationTimestamp&&e.timestamp<this.crowsEndingTimestamp&&e.timestamp>this.lastDamageTick+p.b+p.s&&(this.spellUsable.endCooldown(o.a.A_MURDER_OF_CROWS_TALENT.id,!1,e.timestamp),this.maxCasts+=1,this.resets+=1)}},{key:"onCast",value:function(){this.casts+=1,this.applicationTimestamp=0,this.lastDamageTick=0}},{key:"onDamage",value:function(e){0===this.casts&&(this.casts+=1,this.spellUsable.beginCooldown(o.a.A_MURDER_OF_CROWS_TALENT.id,e),this.applicationTimestamp=this.owner.fight.start_time),0===this.lastDamageTick&&0===this.applicationTimestamp&&(this.applicationTimestamp=e.timestamp,this.crowsEndingTimestamp=this.applicationTimestamp+p.a),this.lastDamageTick=e.timestamp,this.damage+=e.amount+(e.absorbed||0)}},{key:"adjustMaxCasts",value:function(){this.maxCasts+=Math.ceil(this.owner.fightDuration/6e4)}},{key:"statistic",value:function(){return l.a.createElement(E.a,{position:g.a.OPTIONAL(13),size:"flexible",category:f.a.TALENTS},l.a.createElement(b.a,{spell:o.a.A_MURDER_OF_CROWS_TALENT},l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{amount:this.damage}),l.a.createElement("br",null),this.resets," ",l.a.createElement("small",null,"resets"))))}}]),a}(u.c);A.dependencies={spellUsable:d.b,abilities:m.a},t.a=A},904:function(e,t,a){"use strict";var n=a(12),i=a(8),s=a(9),r=a(10),c=a(11),l=a(43),o=a(3),u=a(0),d=a.n(u),h=a(5),m=a(33),E=a(746),f=a(58),g=a(747),b=a(748),T=a(15),p=a(759),A=a(782),O=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var s,r;return Object(i.a)(this,a),(r=t.call(this,e))._spells=(s={},Object(n.a)(s,o.a.ASPECT_OF_THE_CHEETAH.id,{effectiveCDR:0,lastCast:0,baseCD:p.d}),Object(n.a)(s,o.a.ASPECT_OF_THE_TURTLE.id,{effectiveCDR:0,lastCast:0,baseCD:p.d}),Object(n.a)(s,o.a.ASPECT_OF_THE_EAGLE.id,{effectiveCDR:0,lastCast:0,baseCD:A.c}),s),r.hasEagle=!1,r.active=r.selectedCombatant.hasTalent(o.a.BORN_TO_BE_WILD_TALENT.id),r.hasEagle=r.selectedCombatant.spec===h.a.SURVIVAL_HUNTER,r.addEventListener(T.f.cast.by(l.a).spell(p.f),r.onCast),r}return Object(s.a)(a,[{key:"onCast",value:function(e){var t=e.ability.guid,a=this._spells[t];a.lastCast&&e.timestamp<a.lastCast+a.baseCD&&(a.effectiveCDR+=a.baseCD-(e.timestamp-a.lastCast)),a.lastCast=e.timestamp}},{key:"statistic",value:function(){return d.a.createElement(E.a,{position:g.a.OPTIONAL(14),size:"flexible",category:f.a.TALENTS,tooltip:d.a.createElement(d.a.Fragment,null,"Effective CDR constitutes the time that was left of the original CD (before reduction from Born To Be Wild) when you cast it again as that is the effective cooldown reduction it provided for you.",d.a.createElement("ul",null,this.hasEagle&&d.a.createElement("li",null,"Aspect of the Eagle: ",Object(m.d)(this._spells[o.a.ASPECT_OF_THE_EAGLE.id].effectiveCDR/1e3),"s"),d.a.createElement("li",null,"Aspect of the Cheetah: ",Object(m.d)(this._spells[o.a.ASPECT_OF_THE_CHEETAH.id].effectiveCDR/1e3),"s"),d.a.createElement("li",null,"Aspect of the Turtle: ",Object(m.d)(this._spells[o.a.ASPECT_OF_THE_TURTLE.id].effectiveCDR/1e3),"s")))},d.a.createElement(b.a,{spell:o.a.BORN_TO_BE_WILD_TALENT},d.a.createElement(d.a.Fragment,null,Object(m.d)(this.effectiveTotalCDR/1e3),"s ",d.a.createElement("small",null,"total effective CDR"))))}},{key:"effectiveTotalCDR",get:function(){return Object.values(this._spells).map((function(e){return e.effectiveCDR})).reduce((function(e,t){return e+t}),0)}}]),a}(l.c);t.a=O},905:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(43),l=a(3),o=a(0),u=a.n(o),d=a(746),h=a(58),m=a(747),E=a(748),f=a(15),g=a(5),b=a(753),T=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e))._roots=0,i._applications=0,i._casts=0,i.category=void 0,i.abilities=void 0,i.active=i.selectedCombatant.hasTalent(l.a.BINDING_SHOT_TALENT.id)||i.selectedCombatant.spec===g.a.MARKSMANSHIP_HUNTER,i.category=i.selectedCombatant.spec===g.a.MARKSMANSHIP_HUNTER?h.a.GENERAL:h.a.TALENTS,i.addEventListener(f.f.applydebuff.by(c.a).spell(l.a.BINDING_SHOT_ROOT),i.onRoot),i.addEventListener(f.f.applydebuff.by(c.a).spell(l.a.BINDING_SHOT_TETHER),i.onTether),i.addEventListener(f.f.cast.by(c.a).spell(l.a.BINDING_SHOT_TALENT),i.onCast),i.active&&e.abilities.add({spell:l.a.BINDING_SHOT_TALENT,category:b.a.SPELL_CATEGORIES.UTILITY,cooldown:45,gcd:{base:1500}}),i}return Object(i.a)(a,[{key:"onTether",value:function(){this._applications+=1}},{key:"onRoot",value:function(){this._roots+=1}},{key:"onCast",value:function(){this._casts+=1}},{key:"statistic",value:function(){return this._casts>0?u.a.createElement(d.a,{position:m.a.OPTIONAL(14),size:"flexible",category:this.category},u.a.createElement(E.a,{spell:l.a.BINDING_SHOT_TALENT},u.a.createElement(u.a.Fragment,null,this._roots," ",u.a.createElement("small",null,"roots")," / ",this._applications," ",u.a.createElement("small",null,"possible")," ",u.a.createElement("br",null),this._casts," ",u.a.createElement("small",null,"casts")))):null}}]),a}(c.c);T.dependencies={abilities:b.a},t.a=T},906:function(e,t,a){"use strict";var n=a(7),i=a(8),s=a(9),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(753),h=a(3),m=a(747),E=a(15),f=a(759),g=a(746),b=a(58),T=a(748),p=a(751),A=a(5),O=a(816),v=a(861),_=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).maxCasts=0,n.activeKillShotSpell=n.selectedCombatant.spec===A.a.SURVIVAL_HUNTER?h.a.KILL_SHOT_SV:h.a.KILL_SHOT_MM_BM,n.abilities=void 0,n.flayedShot=void 0,n.addEventListener(E.f.fightend,n.adjustMaxCasts),n.constructor.executeSpells.push(n.activeKillShotSpell),e.abilities.add({spell:n.activeKillShotSpell,category:d.a.SPELL_CATEGORIES.ROTATIONAL,charges:n.selectedCombatant.hasTalent(h.a.DEAD_EYE_TALENT.id)?2:1,cooldown:10,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.85,maxCasts:function(){return n.maxCasts}}}),n}return Object(s.a)(a,[{key:"adjustMaxCasts",value:function(){this.maxCasts+=Math.ceil(this.totalExecuteDuration/1e4),this.selectedCombatant.hasTalent(h.a.DEAD_EYE_TALENT.id)&&(this.maxCasts+=1),this.maxCasts+=this.flayedShot.totalProcs}},{key:"statistic",value:function(){return o.a.createElement(g.a,{position:m.a.OPTIONAL(13),size:"flexible",category:b.a.GENERAL},o.a.createElement(T.a,{spell:this.activeKillShotSpell},o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,{amount:this.damage}))))}}]),a}(O.a);_.executeSources=u.a,_.lowerThreshold=f.n,_.executeOutsideRangeEnablers=[h.a.FLAYERS_MARK],_.modifiesDamage=!1,_.dependencies=Object(n.a)(Object(n.a)({},O.a.dependencies),{},{abilities:d.a,flayedShot:v.a}),t.a=_},907:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(120),r=a(66),c=a(10),l=a(11),o=a(88),u=a(832),d=a(3),h=a(792),m=a(782),E=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).lockAndLoad=void 0,i.vipersVenom=void 0,i.lockAndLoad=i.selectedCombatant.hasTalent(d.a.LOCK_AND_LOAD_TALENT.id),i.vipersVenom=i.selectedCombatant.hasTalent(d.a.VIPERS_VENOM_TALENT.id),i}return Object(i.a)(a,[{key:"getResourceCost",value:function(e){var t=Object(s.a)(Object(r.a)(a.prototype),"getResourceCost",this).call(this,e),n=e.ability.guid;return this.lockAndLoad&&this.selectedCombatant.hasBuff(d.a.LOCK_AND_LOAD_BUFF.id)&&n===d.a.AIMED_SHOT.id?t*h.n:this.vipersVenom&&this.selectedCombatant.hasBuff(d.a.VIPERS_VENOM_BUFF.id)&&n===d.a.SERPENT_STING_SV.id?t*m.C:t}}]),a}(u.a);E.resourceType=o.a.FOCUS,t.a=E},908:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(753),h=a(3),m=a(15),E=a(746),f=a(747),g=a(58),b=a(748),T=a(756),p=a(760),A=a(33),O=a(209),v=a(759),_=a(121),C=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).casts=0,i.debuffs=0,i.damage=0,i.abilities=void 0,i.enemies=void 0,i.active=i.selectedCombatant.hasCovenant(_.a.KYRIAN.id),i.active?(e.abilities.add({spell:h.a.RESONATING_ARROW,category:d.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(m.f.cast.by(u.a).spell(h.a.RESONATING_ARROW),i.onCast),i.addEventListener(m.f.applydebuff.by(u.a).spell(h.a.RESONATING_ARROW_DEBUFF),i.onDebuff),i.addEventListener(m.f.damage.by(u.a).spell(h.a.RESONATING_ARROW_DAMAGE),i.onDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onCast",value:function(){this.casts+=1}},{key:"onDebuff",value:function(){this.debuffs+=1}},{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return o.a.createElement(E.a,{position:f.a.CORE(),size:"flexible",category:g.a.COVENANTS,tooltip:o.a.createElement(o.a.Fragment,null,"You had ",this.casts," ",1===this.casts?"cast":"casts"," of Resonating Arrow and applied the debuff ",this.debuffs," ",1===this.debuffs?"time":"times",".",o.a.createElement("br",null),"The direct damage of Resonating Arrow did ",this.damage," damage or ",Object(A.d)(this.damage/this.owner.fightDuration*1e3)," DPS")},o.a.createElement(b.a,{spell:h.a.RESONATING_ARROW},o.a.createElement(o.a.Fragment,null,o.a.createElement(p.a,null)," ",Object(A.e)(this.uptime),"% ",o.a.createElement("small",null," debuff uptime"),o.a.createElement("br",null),o.a.createElement(O.a,null)," ",Object(A.e)(this.uptime*v.w),"% ",o.a.createElement("small",null,"average Critical Strike"))))}},{key:"uptime",get:function(){return this.enemies.getBuffUptime(h.a.RESONATING_ARROW_DEBUFF.id)/this.owner.fightDuration}}]),a}(u.c);C.dependencies={abilities:d.a,enemies:T.a},t.a=C},909:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(753),h=a(3),m=a(15),E=a(746),f=a(747),g=a(58),b=a(748),T=a(751),p=a(88),A=a(786),O=a(121),v=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.focusGained=0,i.focusWasted=0,i.abilities=void 0,i.active=i.selectedCombatant.hasCovenant(O.a.NECROLORD.id),i.active?(e.abilities.add({spell:h.a.DEATH_CHAKRAM_INITIAL_AND_AOE,category:d.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:45,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(m.f.damage.by(u.a).spell([h.a.DEATH_CHAKRAM_SINGLE_TARGET,h.a.DEATH_CHAKRAM_INITIAL_AND_AOE]),i.onDamage),i.addEventListener(m.f.energize.by(u.a).spell(h.a.DEATH_CHAKRAM_ENERGIZE),i.onEnergize),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"onEnergize",value:function(e){this.focusGained+=e.resourceChange,this.focusWasted+=e.waste}},{key:"statistic",value:function(){return o.a.createElement(E.a,{position:f.a.CORE(),size:"flexible",category:g.a.COVENANTS},o.a.createElement(b.a,{spell:h.a.DEATH_CHAKRAM_INITIAL_AND_AOE},o.a.createElement(o.a.Fragment,null,o.a.createElement(T.a,{amount:this.damage}),o.a.createElement("br",null),o.a.createElement(A.a,{id:p.a.FOCUS.id,noLink:!0})," ",this.focusGained,"/",this.focusWasted+this.focusGained,o.a.createElement("small",null," gained Focus"))))}}]),a}(u.c);v.dependencies={abilities:d.a},t.a=v},910:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(753),u=a(3),d=a(15),h=a(746),m=a(747),E=a(58),f=a(0),g=a.n(f),b=a(748),T=a(756),p=a(752),A=a(759),O=a(33),v=a(121),_=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.ampDamage=0,i.abilities=void 0,i.enemies=void 0,i.active=i.selectedCombatant.hasCovenant(v.a.NIGHT_FAE.id),i.active?(e.abilities.add({spell:u.a.WILD_SPIRITS,category:o.a.SPELL_CATEGORIES.ROTATIONAL,cooldown:120,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}}),i.addEventListener(d.f.damage.by(l.a).spell([u.a.WILD_SPIRITS_DAMAGE,u.a.WILD_SPIRITS_DAMAGE_AOE]),i.onWildSpiritsDamage),i.addEventListener(d.f.damage.by(l.a),i.onDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onWildSpiritsDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"onDamage",value:function(e){var t=this.enemies.getEntity(e);t&&t.hasBuff(u.a.WILD_MARK.id)&&(this.ampDamage+=Object(p.a)(e,A.C))}},{key:"statistic",value:function(){return g.a.createElement(h.a,{position:m.a.CORE(),size:"flexible",category:E.a.COVENANTS},g.a.createElement(b.a,{spell:u.a.WILD_SPIRITS},g.a.createElement(g.a.Fragment,null,g.a.createElement("img",{src:"/img/sword.png",alt:"Damage",className:"icon"})," ",Object(O.d)(this.damage)," ",g.a.createElement("small",null," direct damage"),g.a.createElement("br",null),g.a.createElement("img",{src:"/img/sword.png",alt:"Damage",className:"icon"})," ",Object(O.d)(this.damage)," ",g.a.createElement("small",null," Wild Mark damage"))))}}]),a}(l.c);_.dependencies={abilities:o.a,enemies:T.a},t.a=_},911:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(746),h=a(747),m=a(58),E=a(759),f=a(15),g=a(3),b=a(751),T=a(752),p=a(756),A=a(121),O=a(778),v=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.enemies=void 0,i.active=i.selectedCombatant.hasCovenant(A.a.KYRIAN.id)&&i.selectedCombatant.hasConduitBySpellID(g.a.ENFEEBLED_MARK_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(g.a.ENFEEBLED_MARK_CONDUIT.id),i.addEventListener(f.f.damage.by(u.a|u.b),i.onGenericDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onGenericDamage",value:function(e){var t=this.enemies.getEntity(e);t&&t.hasBuff(g.a.RESONATING_ARROW_DEBUFF.id)&&(this.addedDamage+=Object(T.a)(e,E.j[this.conduitRank]))}},{key:"statistic",value:function(){return o.a.createElement(d.a,{position:h.a.OPTIONAL(13),size:"flexible",category:m.a.COVENANTS},o.a.createElement(O.a,{spell:g.a.ENFEEBLED_MARK_CONDUIT,rank:this.conduitRank},o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{amount:this.addedDamage}))))}}]),a}(u.c);v.dependencies={enemies:p.a},t.a=v},912:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(0),o=a.n(l),u=a(43),d=a(746),h=a(747),m=a(58),E=a(759),f=a(15),g=a(3),b=a(751),T=a(752),p=a(121),A=a(778),O=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).flayersMarkProcs=0,i.aggregatedContribution=0,i.conduitRank=0,i.addedDamage=0,i.active=i.selectedCombatant.hasCovenant(p.a.VENTHYR.id)&&i.selectedCombatant.hasConduitBySpellID(g.a.EMPOWERED_RELEASE_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(g.a.EMPOWERED_RELEASE_CONDUIT.id),i.addEventListener(f.f.applybuff.by(u.a).spell(g.a.FLAYERS_MARK),i.flayedShotProc),i.addEventListener(f.f.refreshbuff.by(u.a).spell(g.a.FLAYERS_MARK),i.flayedShotProc),i.addEventListener(f.f.damage.by(u.a).spell([g.a.KILL_SHOT_SV,g.a.KILL_SHOT_MM_BM]),i.onKillShotDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"flayedShotProc",value:function(){this.aggregatedContribution+=E.h/(E.k+E.h),this.flayersMarkProcs+=1}},{key:"onKillShotDamage",value:function(e){this.selectedCombatant.hasBuff(g.a.EMPOWERED_RELEASE_BUFF.id)&&(this.addedDamage+=Object(T.a)(e,E.i[this.conduitRank]))}},{key:"statistic",value:function(){return o.a.createElement(d.a,{position:h.a.OPTIONAL(13),size:"flexible",category:m.a.COVENANTS},o.a.createElement(A.a,{spell:g.a.EMPOWERED_RELEASE_CONDUIT,rank:this.conduitRank},o.a.createElement(o.a.Fragment,null,"\u2248 ",this.averageContributionAbsolute," ",o.a.createElement("small",null," additional procs "),o.a.createElement(b.a,{amount:this.addedDamage}))))}},{key:"averageContributionPercentage",get:function(){return this.aggregatedContribution/this.flayersMarkProcs}},{key:"averageContributionAbsolute",get:function(){return Math.round(this.averageContributionPercentage*this.flayersMarkProcs)}}]),a}(u.c);t.a=O},913:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(15),u=a(3),d=a(746),h=a(747),m=a(58),E=a(751),f=a(0),g=a.n(f),b=a(752),T=a(759),p=a(121),A=a(778),O=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.gainedFocus=0,i.wastedFocus=0,i.addedDamage=0,i.active=i.selectedCombatant.hasCovenant(p.a.NECROLORD.id)&&i.selectedCombatant.hasConduitBySpellID(u.a.NECROTIC_BARRAGE_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(u.a.NECROTIC_BARRAGE_CONDUIT.id),i.addEventListener(o.f.damage.by(l.a).spell([u.a.DEATH_CHAKRAM_SINGLE_TARGET,u.a.DEATH_CHAKRAM_INITIAL_AND_AOE]),i.onDeathChakramDamage),i.addEventListener(o.f.energize.by(l.a).spell(u.a.DEATH_CHAKRAM_ENERGIZE),i.onEnergize),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onDeathChakramDamage",value:function(e){this.addedDamage+=Object(b.a)(e,T.t[this.conduitRank])}},{key:"onEnergize",value:function(e){this.gainedFocus+=e.resourceChange,this.wastedFocus+=e.waste}},{key:"statistic",value:function(){return g.a.createElement(d.a,{position:h.a.OPTIONAL(13),size:"flexible",category:m.a.COVENANTS},g.a.createElement(A.a,{spell:u.a.NECROTIC_BARRAGE_CONDUIT,rank:this.conduitRank},g.a.createElement(g.a.Fragment,null,g.a.createElement(E.a,{amount:this.addedDamage}),this.gainedFocus,"/",this.gainedFocus+this.wastedFocus," ",g.a.createElement("small",null,"gained focus"))))}}]),a}(l.c);t.a=O},914:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(15),o=a(18),u=a(43),d=a(752),h=a(759),m=a(3),E=a(746),f=a(747),g=a(58),b=a(751),T=a(0),p=a.n(T),A=a(33),O=a(121),v=a(778),_=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).conduitRank=0,i.addedDamage=0,i.wildSpiritsCast=0,i.damageAfterOriginalDuration=0,i.active=i.selectedCombatant.hasCovenant(O.a.NIGHT_FAE.id)&&i.selectedCombatant.hasConduitBySpellID(m.a.SPIRIT_ATTUNEMENT_CONDUIT.id),i.active?(i.conduitRank=i.selectedCombatant.conduitRankBySpellID(m.a.SPIRIT_ATTUNEMENT_CONDUIT.id),i.addEventListener(l.f.damage.by(o.a).spell([m.a.WILD_SPIRITS_DAMAGE,m.a.WILD_SPIRITS_DAMAGE_AOE]),i.onWildSpiritsDamage),i.addEventListener(l.f.damage.by(o.a),i.onGenericDamage),i.addEventListener(l.f.cast.by(o.a).spell(m.a.WILD_SPIRITS),i.onWildSpiritsCast),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onWildSpiritsCast",value:function(e){this.wildSpiritsCast=e.timestamp}},{key:"onWildSpiritsDamage",value:function(e){this.addedDamage+=Object(d.a)(e,h.A[this.conduitRank]),e.timestamp>this.wildSpiritsCast+h.D&&(this.damageAfterOriginalDuration+=e.amount+(e.absorbed||0))}},{key:"onGenericDamage",value:function(e){e.timestamp>this.wildSpiritsCast+h.D&&(this.damageAfterOriginalDuration+=Object(d.a)(e,h.C))}},{key:"statistic",value:function(){return p.a.createElement(E.a,{position:f.a.OPTIONAL(13),size:"flexible",category:g.a.COVENANTS,tooltip:p.a.createElement(p.a.Fragment,null,"After the original duration of Wild Spirits, Spirit Attunment contributed with ",Object(A.f)(this.damageAfterOriginalDuration))},p.a.createElement(v.a,{spell:m.a.SPIRIT_ATTUNEMENT_CONDUIT,rank:this.conduitRank},p.a.createElement(p.a.Fragment,null,p.a.createElement(b.a,{amount:this.addedDamage}),Object(A.f)(this.damageAfterOriginalDuration)," ",p.a.createElement("small",null,"damage after normal duration"))))}}]),a}(u.c);t.a=_},915:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),c=a(11),l=a(43),o=a(746),u=a(747),d=a(58),h=a(0),m=a.n(h),E=a(748),f=a(3),g=a(15),b=a(751),T=a(53),p=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.flareCasts=0,i.lastFlareCastTimestamp=0,i.tarTrapCasts=0,i.lastTarTrapCastTimestamp=0,i.lostEmberApplications=0,i.active=i.selectedCombatant.hasLegendaryByBonusID(f.a.SOULFORGE_EMBERS_EFFECT.bonusID),i.active?(i.addEventListener(g.f.cast.by(l.a).spell(f.a.FLARE),i.onFlare),i.addEventListener(g.f.cast.by(l.a).spell(f.a.TAR_TRAP),i.onTarTrap),i.addEventListener(g.f.damage.by(l.a).spell(f.a.SOULFORGE_EMBERS_DAMAGE),i.onEmbersDamage),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"onFlare",value:function(e){this.flareCasts+=1,this.lastFlareCastTimestamp=e.timestamp}},{key:"onTarTrap",value:function(e){this.tarTrapCasts+=1,this.lastTarTrapCastTimestamp=e.timestamp}},{key:"onEmbersDamage",value:function(e){this.damage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return m.a.createElement(o.a,{position:u.a.CORE(),size:"flexible",category:d.a.ITEMS},m.a.createElement(E.a,{spell:f.a.SOULFORGE_EMBERS_EFFECT},m.a.createElement(b.a,{amount:this.damage}),m.a.createElement("br",null),this.flareCasts," ",m.a.createElement(T.a,{id:f.a.FLARE.id,noLink:!0})," / ",this.tarTrapCasts," ",m.a.createElement(T.a,{id:f.a.TAR_TRAP.id,noLink:!0})))}}]),a}(l.c);t.a=p},922:function(e,t,a){"use strict";var n=a(26),i=a(8),s=a(10),r=a(11),c=a(9),l=a(43),o=a(799),u=a(746),d=a(747),h=a(15),m=a(796),E=a(33),f=a(0),g=a.n(f),b=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).listOfSpellsUsed={},n.ctor=n.constructor,n.addEventListener(h.f.cast.by(l.a).spell(n.resourceSpenders),n.onCast),n}return Object(c.a)(a,[{key:"onCast",value:function(e){var t,a=this;if(e.classResources){var n=e.ability.guid;this.spellsThatShouldShowAsOtherSpells[n]&&(e.ability=this.spellsThatShouldShowAsOtherSpells[n],n=e.ability.guid);var i=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===a.resourceTypeID}));i&&(this.listOfSpellsUsed[n]||(this.listOfSpellsUsed[n]={casts:0,resourceUsed:0}),this.listOfSpellsUsed[n].casts+=1,this.listOfSpellsUsed[n].resourceUsed+=i.cost||0)}}},{key:"makeResourceUsageTooltip",value:function(e){return g.a.createElement(g.a.Fragment,null,e.casts," casts",g.a.createElement("br",null),Object(E.d)(e.resourceUsed)," ",this.resourceTypeName," spent")}},{key:"sortResourceUsage",value:function(e,t){var a=0;return e.value>t.value?a=-1:e.value<t.value&&(a=1),a}},{key:"statistic",value:function(){return g.a.createElement(u.a,{position:this.resourceUsageStatisticOrder},g.a.createElement("div",{className:"pad"},g.a.createElement("label",null,g.a.createElement(m.a,{id:this.resourceTypeID})," usage"),this.resourceUsageChart))}},{key:"resourceSpenders",get:function(){return this.ctor.listOfResourceSpenders}},{key:"resourceTypeID",get:function(){return this.ctor.resourceType.id}},{key:"resourceTypeName",get:function(){return this.ctor.resourceType.name}},{key:"listOfDefaultColours",get:function(){return this.ctor.listOfDefaultColours}},{key:"spellsThatShouldShowAsOtherSpells",get:function(){return this.ctor.spellsThatShouldShowAsOtherSpells}},{key:"resourceUsageStatisticOrder",get:function(){return this.ctor.statisticOrder}},{key:"resourceUsageChart",get:function(){var e=this,t=[],a=0;return this.resourceSpenders.forEach((function(n){e.listOfSpellsUsed[n.id]&&e.listOfSpellsUsed[n.id].resourceUsed>0&&(t.push({color:e.listOfDefaultColours[a],label:n.name,spellId:n.id,value:Math.round(e.listOfSpellsUsed[n.id].resourceUsed),valueTooltip:e.makeResourceUsageTooltip(e.listOfSpellsUsed[n.id])}),a+=1)})),t.sort(this.sortResourceUsage),g.a.createElement(o.a,{items:t})}}]),a}(l.c);b.resourceType=void 0,b.listOfResourceSpenders=[],b.spellsThatShouldShowAsOtherSpells={},b.listOfDefaultColours=["#ecd1b6","#abff3d","#ecda4c","#ff7d0a","#4ce4ec","#8b8dec","#00ec62"],b.statisticOrder=d.a.CORE(12);var T=b,p=a(759),A=a(88),O=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return a}(T);O.resourceType=A.a.FOCUS,O.listOfResourceSpenders=Object(n.a)(p.o);t.a=O},970:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),c=a(0),l=a.n(c),o=a(43),u=a(164),d=a(3),h=a(751),m=a(827),E=a(764),f=a(4),g=a(746),b=a(58),T=a(747),p=a(748),A=a(15),O=a(759),v=a(13),_=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damage=0,i.casts=[],i.hits=0,i.uniqueTargets=[],i.uniqueTargetsHit=0,i.inefficientCasts=0,i.active=i.selectedCombatant.hasTalent(d.a.BARRAGE_TALENT.id),i.addEventListener(A.f.cast.by(o.a).spell(d.a.BARRAGE_TALENT),i.onCast),i.addEventListener(A.f.damage.by(o.a).spell(d.a.BARRAGE_DAMAGE),i.onDamage),i.addEventListener(A.f.fightend,i.calculateAverageHits),i}return Object(i.a)(a,[{key:"onCast",value:function(){this.casts.push({hits:0,averageHits:0}),this.uniqueTargets=[]}},{key:"onDamage",value:function(e){var t=Object(E.b)(e.targetID,e.targetInstance);this.uniqueTargets.includes(t)||(this.uniqueTargetsHit+=1,this.uniqueTargets.push(t));var a=e.amount+(e.absorbed||0);null!==this.currentCast&&(this.currentCast.hits+=1),this.hits+=1,this.damage+=a}},{key:"calculateAverageHits",value:function(){var e=this;this.casts.forEach((function(t){t.averageHits=t.hits/O.c,t.averageHits<1&&(e.inefficientCasts+=1)}))}},{key:"suggestions",value:function(e){e(this.barrageInefficientCastsThreshold).addSuggestion((function(e,t,a){return e(l.a.createElement(l.a.Fragment,null,"You cast ",l.a.createElement(f.a,{id:d.a.BARRAGE_TALENT.id})," inefficiently ",t," ",t>1?"times":"time"," throughout the fight. This means you didn't hit all ",O.c," shots of your barrage channel. Remember to always be facing your target when channelling ",l.a.createElement(f.a,{id:d.a.BARRAGE_TALENT.id}),". ")).icon(d.a.BARRAGE_TALENT.icon).actual(v.i18n._({id:"hunter.shared.suggestions.barrage.efficiency",defaults:"{actual} inefficient {0}",values:{0:t>1?"casts":"cast",actual:t}})).recommended("".concat(a," is recommended"))}))}},{key:"statistic",value:function(){return l.a.createElement(g.a,{position:T.a.OPTIONAL(20),size:"flexible",category:b.a.TALENTS},l.a.createElement(p.a,{spell:d.a.BARRAGE_TALENT},l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{amount:this.damage})," ",l.a.createElement("br",null),l.a.createElement(m.a,{casts:this.casts.length,hits:this.hits}),l.a.createElement("br",null),l.a.createElement(m.a,{casts:this.casts.length,hits:this.uniqueTargetsHit,unique:!0}))))}},{key:"currentCast",get:function(){return 0===this.casts.length?null:this.casts[this.casts.length-1]}},{key:"barrageInefficientCastsThreshold",get:function(){return{actual:this.inefficientCasts,isGreaterThan:{minor:0,average:0,major:1},style:u.a.NUMBER}}}]),a}(o.c);t.a=_}}]);
//# sourceMappingURL=BeastMasteryHunter.07a29db4.chunk.js.map
(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[38],{711:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),s=a(11),r=a(776),l=a(875),o=a(876),c=a(874),h=a(9),u=a(120),d=a(66),m=a(3),E=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"onCast",value:function(e){e.ability.guid!==m.a.CRACKLING_JADE_LIGHTNING.id&&e.ability.guid!==m.a.SOOTHING_MIST.id&&e.ability.guid!==m.a.ESSENCE_FONT.id&&Object(u.a)(Object(d.a)(a.prototype),"onCast",this).call(this,e)}}]),a}(a(811).a),g=a(15),f=a(814),v=a(43),T=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).addEventListener(g.f.applydebuff.by(v.a).spell(m.a.CRACKLING_JADE_LIGHTNING),i.onApplyDebuff),i.addEventListener(g.f.removedebuff.by(v.a).spell(m.a.CRACKLING_JADE_LIGHTNING),i.onRemoveDebuff),i.addEventListener(g.f.removebuff.by(v.a).spell([m.a.ESSENCE_FONT,m.a.SOOTHING_MIST]),i.onRemoveBuff),i}return Object(h.a)(a,[{key:"onCast",value:function(e){e.ability.guid!==m.a.CRACKLING_JADE_LIGHTNING.id&&(e.ability.guid!==m.a.ESSENCE_FONT.id&&e.ability.guid!==m.a.SOOTHING_MIST.id?Object(u.a)(Object(d.a)(a.prototype),"onCast",this).call(this,e):this.beginChannel(e))}},{key:"cancelChannel",value:function(e,t){this.isChannelingSpell(m.a.CRACKLING_JADE_LIGHTNING.id)||this.isChannelingSpell(m.a.ESSENCE_FONT.id)||this.isChannelingSpell(m.a.SOOTHING_MIST.id)?(this.log("Marking",this._currentChannel.ability.name,"as ended since we started casting something else"),this.endChannel(e)):Object(u.a)(Object(d.a)(a.prototype),"cancelChannel",this).call(this,e,t)}},{key:"onApplyDebuff",value:function(e){this.beginChannel(e)}},{key:"onRemoveDebuff",value:function(e){this.isChannelingSpell(m.a.CRACKLING_JADE_LIGHTNING.id)&&this.endChannel(e)}},{key:"onRemoveBuff",value:function(e){this.isChannelingSpell(m.a.ESSENCE_FONT.id)&&this.isChannelingSpell(m.a.SOOTHING_MIST.id)&&this.endChannel(e)}}]),a}(f.a),b=a(12),p=a(969),y=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;Object(n.a)(this,a),(i=t.call(this,e)).mistwrapActive=!1,i.upwellingActive=!1;var s=e.owner.selectedCombatant;return i.mistwrapActive=s.hasTalent(m.a.MIST_WRAP_TALENT.id),i.upwellingActive=s.hasTalent(m.a.UPWELLING_TALENT.id),i}return Object(h.a)(a,[{key:"calculateMaxDuration",value:function(e){var t=e.ability.guid;return t===m.a.ENVELOPING_MIST.id?2*(6e3+(this.mistwrapActive?1e3:0)):t===m.a.ESSENCE_FONT_BUFF.id?2*(8e3+(this.upwellingActive?4e3:0)):e.selectedCombatant.hasBuff(m.a.THUNDER_FOCUS_TEA.id)&&t===m.a.RENEWING_MIST_HEAL.id?6e4:4e4}},{key:"calculateMaxRemDuration",value:function(e){var t=e.ability.guid;return e.selectedCombatant.hasBuff(m.a.THUNDER_FOCUS_TEA.id)&&t===m.a.RENEWING_MIST_HEAL.id?3e4:2e4}},{key:"_generateHotInfo",value:function(){var e;return e={},Object(b.a)(e,m.a.RENEWING_MIST_HEAL.id,{duration:2e4,tickPeriod:2e3,maxDuration:this.calculateMaxDuration,bouncy:!0,durationConditions:this.calculateMaxRemDuration,id:m.a.RENEWING_MIST_HEAL.id}),Object(b.a)(e,m.a.ENVELOPING_MIST.id,{duration:6e3+(this.mistwrapActive?1e3:0),tickPeriod:1e3,maxDuration:this.calculateMaxDuration,id:m.a.ENVELOPING_MIST.id}),Object(b.a)(e,m.a.ESSENCE_FONT_BUFF.id,{duration:8e3+(this.upwellingActive?4e3:0),tickPeriod:2e3,maxDuration:this.calculateMaxDuration,id:m.a.ESSENCE_FONT_BUFF.id}),e}},{key:"_generateHotList",value:function(){return[m.a.RENEWING_MIST_HEAL,m.a.ENVELOPING_MIST,m.a.ESSENCE_FONT_BUFF]}}]),a}(p.a),_=a(768),O=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).instantTickHotIds=[m.a.RENEWING_MIST_HEAL.id,m.a.ESSENCE_FONT_BUFF.id],e}return Object(h.a)(a,[{key:"normalize",value:function(e){var t=this,a=[];return e.forEach((function(e,n){if(a.push(e),e.type===g.b.ApplyBuff&&t.instantTickHotIds.includes(e.ability.guid)){var i=e.ability.guid,s=e.timestamp;if(!e.targetID)return;for(var r=n;r>=0;r-=1){var l=a[r];if(s-l.timestamp>50)break;if(l.type===g.b.Heal&&l.ability.guid===i&&l.targetID===e.targetID){a.splice(r,1),a.push(l),l.__modified=!0;break}}}})),a}}]),a}(_.a),S=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).instantTickHotIds=[m.a.RENEWING_MIST_HEAL.id,m.a.ESSENCE_FONT_BUFF.id],e}return Object(h.a)(a,[{key:"normalize",value:function(e){var t=this,a=[];return e.forEach((function(e,n){if(a.push(e),e.type===g.b.Heal&&t.instantTickHotIds.includes(e.ability.guid)){var i=e.ability.guid,s=e.timestamp;if(!e.targetID)return;for(var r=n;r>=0;r-=1){var l=a[r];if(s-l.timestamp>50)break;if(l.type===g.b.RemoveBuff&&l.ability.guid===i&&l.targetID===e.targetID){a.splice(r,1),a.push(l),l.__modified=!0;break}}}})),a}}]),a}(_.a),I=a(753),N=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:m.a.RENEWING_MIST,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:9,charges:2,gcd:{base:1500},castEfficiency:{suggestion:!0},timelineSortIndex:1},{spell:m.a.SOOTHING_MIST,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1e3},timelineSortIndex:100},{spell:m.a.THUNDER_FOCUS_TEA,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:30,castEfficiency:{suggestion:!0},timelineSortIndex:17},{spell:m.a.MANA_TEA_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:90,enabled:e.hasTalent(m.a.MANA_TEA_TALENT.id),castEfficiency:{suggestion:!0},gcd:{base:1500},timelineSortIndex:15},{spell:m.a.CHI_BURST_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:30,enabled:e.hasTalent(m.a.CHI_BURST_TALENT.id),castEfficiency:{suggestion:!0},gcd:{base:1500},timelineSortIndex:10},{spell:m.a.CHI_WAVE_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:15,enabled:e.hasTalent(m.a.CHI_WAVE_TALENT.id),castEfficiency:{suggestion:!0},gcd:{base:1500},timelineSortIndex:10},{spell:m.a.LIFE_COCOON,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,castEfficiency:{suggestion:!0},timelineSortIndex:17},{spell:m.a.REVIVAL,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{base:1500},timelineSortIndex:18},{spell:m.a.INVOKE_YULON_THE_JADE_SERPENT,category:a.SPELL_CATEGORIES.COOLDOWNS,enabled:!e.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id),cooldown:180,gcd:{base:1500},castEfficiency:{suggestion:!0},timelineSortIndex:20},{spell:m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,enabled:e.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id),cooldown:180,gcd:{base:1500},castEfficiency:{suggestion:!0},timelineSortIndex:20},{spell:m.a.ENVELOPING_MIST,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1500},timelineSortIndex:19},{spell:m.a.VIVIFY,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1500},timelineSortIndex:4},{spell:m.a.ESSENCE_FONT,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1500},cooldown:12,timelineSortIndex:2},{spell:m.a.REFRESHING_JADE_WIND_TALENT,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(m.a.REFRESHING_JADE_WIND_TALENT.id),gcd:{base:1500},timelineSortIndex:3},{spell:m.a.SUMMON_JADE_SERPENT_STATUE_TALENT,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.id),gcd:{base:1500},cooldown:10,timelineSortIndex:15},{spell:m.a.EXPEL_HARM,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1e3}},{spell:m.a.DIFFUSE_MAGIC_TALENT,buffSpellId:m.a.DIFFUSE_MAGIC_TALENT.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:90,enabled:e.hasTalent(m.a.DIFFUSE_MAGIC_TALENT.id)},{spell:m.a.DAMPEN_HARM_TALENT,buffSpellId:m.a.DAMPEN_HARM_TALENT.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:120,enabled:e.hasTalent(m.a.DAMPEN_HARM_TALENT.id)},{spell:m.a.FORTIFYING_BREW,buffSpellId:m.a.FORTIFYING_BREW.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:90},{spell:m.a.HEALING_ELIXIR_TALENT,category:a.SPELL_CATEGORIES.UTILITY,charges:2,cooldown:30,enabled:e.hasTalent(m.a.HEALING_ELIXIR_TALENT.id)},{spell:m.a.DETOX,category:a.SPELL_CATEGORIES.UTILITY,cooldown:8,gcd:{base:1500}},{spell:m.a.PARALYSIS,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,gcd:{base:1500}},{spell:m.a.RING_OF_PEACE_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,enabled:e.hasTalent(m.a.RING_OF_PEACE_TALENT.id),gcd:{base:1500}},{spell:m.a.LEG_SWEEP,category:a.SPELL_CATEGORIES.UTILITY,cooldown:e.hasTalent(m.a.TIGER_TAIL_SWEEP_TALENT.id)?50:60,gcd:{base:1500}},{spell:m.a.ROLL,category:a.SPELL_CATEGORIES.UTILITY,charges:e.hasTalent(m.a.CELERITY_TALENT.id)?3:2,cooldown:e.hasTalent(m.a.CELERITY_TALENT.id)?15:20,enabled:!e.hasTalent(m.a.CHI_TORPEDO_TALENT.id)},{spell:m.a.CHI_TORPEDO_TALENT,category:a.SPELL_CATEGORIES.UTILITY,charges:2,cooldown:20,enabled:e.hasTalent(m.a.CHI_TORPEDO_TALENT.id)},{spell:m.a.TIGERS_LUST_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{static:1500},enabled:e.hasTalent(m.a.TIGERS_LUST_TALENT.id)},{spell:m.a.TRANSCENDENCE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:10,gcd:{base:1500}},{spell:m.a.TRANSCENDENCE_TRANSFER,category:a.SPELL_CATEGORIES.UTILITY,cooldown:25,gcd:{base:1500}},{spell:m.a.TIGER_PALM,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,gcd:{base:1500},timelineSortIndex:31},{spell:m.a.BLACKOUT_KICK,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,cooldown:function(e){return 3/(1+e)},gcd:{base:1500},timelineSortIndex:32},{spell:m.a.RISING_SUN_KICK,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,cooldown:function(e){return 12/(1+e)},gcd:{base:1500},castEfficiency:{suggestion:e.hasTalent(m.a.RISING_MIST_TALENT.id)},timelineSortIndex:100},{spell:m.a.SPINNING_CRANE_KICK,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,gcd:{base:1500},timelineSortIndex:100},{spell:m.a.CRACKLING_JADE_LIGHTNING,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,gcd:{base:1500},timelineSortIndex:100}]}}]),a}(I.a),A=a(26),C=a(785),H=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(C.b);H.cooldownSpells=[].concat(Object(A.a)(C.b.cooldownSpells),[{spell:m.a.MANA_TEA_TALENT,summary:[C.a.HEALING,C.a.OVERHEALING,C.a.MANA]},{spell:m.a.INVOKE_YULON_THE_JADE_SERPENT,summary:[C.a.HEALING,C.a.OVERHEALING,C.a.MANA]},{spell:m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT,summary:[C.a.HEALING,C.a.OVERHEALING,C.a.MANA]}]),H.ignoredSpells=[].concat(Object(A.a)(C.b.ignoredSpells),[m.a.CHI_BURST_HEAL.id,m.a.REFRESHING_JADE_WIND_HEAL.id,m.a.TRANSCENDENCE.id]);var L=H,R=a(33),k=a(870),F=a(164),M=a(13),j=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.nonHealingTimePercentage).isGreaterThan(this.nonHealingTimeSuggestionThresholds.isGreaterThan.minor).addSuggestion((function(e,a,n){return e("Your non healing time can be improved. Try to reduce the delay between casting spells and try to continue healing when you have to move.").icon("petbattle_health-down").actual(M.i18n._({id:"monk.mistweaver.suggestions.alwaysBeCasting.nonHealing",defaults:"{0}% non healing time",values:{0:Object(R.e)(a)}})).recommended("<".concat(Object(R.e)(n),"% is recommended")).regular(t.nonHealingTimeSuggestionThresholds.isGreaterThan.average).major(t.nonHealingTimeSuggestionThresholds.isGreaterThan.major)})),e(this.downtimePercentage).isGreaterThan(this.downtimeSuggestionThresholds.isGreaterThan.minor).addSuggestion((function(e,a,n){return e("Your downtime can be improved. Try to Always Be Casting (ABC); try to reduce the delay between casting spells and when you're not healing try to contribute some damage.").icon("spell_mage_altertime").actual(M.i18n._({id:"monk.mistweaver.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(R.e)(a)}})).recommended("<".concat(Object(R.e)(n),"% is recommended")).regular(t.downtimeSuggestionThresholds.isGreaterThan.average).major(t.downtimeSuggestionThresholds.isGreaterThan.major)}))}},{key:"nonHealingTimeSuggestionThresholds",get:function(){return{actual:this.nonHealingTimePercentage,isGreaterThan:{minor:.4,average:.5,major:.55},style:F.a.PERCENTAGE}}},{key:"downtimeSuggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.4,average:.55,major:1},style:F.a.PERCENTAGE}}}]),a}(k.a);j.HEALING_ABILITIES_ON_GCD=[m.a.ENVELOPING_MIST.id,m.a.ESSENCE_FONT.id,m.a.RENEWING_MIST.id,m.a.VIVIFY.id,m.a.REVIVAL.id,m.a.CHI_BURST_TALENT.id,m.a.CHI_WAVE_TALENT.id,m.a.REFRESHING_JADE_WIND_TALENT.id,m.a.SOOTHING_MIST.id,m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id,m.a.EXPEL_HARM.id,m.a.INVOKE_YULON_THE_JADE_SERPENT.id];var D=j,w=a(0),G=a.n(w),P=a(4),B=a(53),x=a(22),V=a(757),U=a(750),K=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).healEF=0,i.healing=0,i.castEF=0,i.gustHeal=!1,i.hasUpwelling=!1,i.secondGustHealing=0,i.secondGustOverheal=0,i.combatants=void 0,i.hasUpwelling=i.selectedCombatant.hasTalent(m.a.UPWELLING_TALENT.id),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.gustHealing),i.addEventListener(g.f.cast.by(v.a).spell(m.a.ESSENCE_FONT),i.efCast),i}return Object(h.a)(a,[{key:"gustHealing",value:function(e){var t=e.targetID;this.combatants.players[t]&&(this.combatants.players[t].hasBuff(m.a.ESSENCE_FONT_BUFF.id,e.timestamp,0,0,e.sourceID)&&!this.gustHeal?(this.healEF+=1,this.gustHeal=!0):this.combatants.players[t].hasBuff(m.a.ESSENCE_FONT_BUFF.id,e.timestamp,0,0,e.sourceID)&&this.gustHeal&&(this.healEF+=1,this.healing+=(e.amount||0)+(e.absorbed||0),this.gustHeal=!1))}},{key:"efCast",value:function(e){this.castEF+=1}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are currently not utilizing your ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," HOT buffs effectively. Casting into injured targets with the ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," allows you to take advantage of the double ",G.a.createElement(P.a,{id:m.a.GUSTS_OF_MISTS.id})," procs.")).icon(m.a.ESSENCE_FONT.icon).actual(M.i18n._({id:"monk.mistweaver.suggestions.essenceFontMastery.averageHots",defaults:"{0} average EF HoTs",values:{0:t.avgMasteryCastsPerEF.toFixed(2)}})).recommended("".concat(n," or more EF HoTs utilized is recommended"))}))}},{key:"statistic",value:function(){var e=this.healEF/2||0,t=(this.healing/2||0)/e||0;return G.a.createElement(U.b,{position:U.a.OPTIONAL(0),icon:G.a.createElement(B.a,{id:m.a.GUSTS_OF_MISTS.id}),value:e,label:G.a.createElement(x.a,{content:G.a.createElement(G.a.Fragment,null,"You healed an average of ",this.avgMasteryCastsPerEF.toFixed(2)," targets per Essence Font cast.",G.a.createElement("ul",null,G.a.createElement("li",null,Object(R.d)(t)," average healing per cast"),G.a.createElement("li",null,Object(R.d)(this.secondGustOverheal)," Second Gust of Mists overhealing (",Object(R.e)(this.secondGustOverheal/this.secondGustHealing),"%)")))},"Mastery Buffs utilized")})}},{key:"avgMasteryCastsPerEF",get:function(){return(this.healEF/2||0)/this.castEF||0}},{key:"suggestionThresholds",get:function(){return this.hasUpwelling?{actual:this.avgMasteryCastsPerEF,isLessThan:{minor:4,average:3.5,major:3},style:F.a.DECIMAL}:{actual:this.avgMasteryCastsPerEF,isLessThan:{minor:3,average:2.5,major:2},style:F.a.DECIMAL}}}]),a}(v.c);K.dependencies={combatants:V.a};var W=K,Y=a(7),J=a(203),z=a(767),q=a(819),X=a(777),Z=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalHealing=0,i.totalOverhealing=0,i.totalAbsorbs=0,i.castEF=0,i.targetsEF=0,i.efHotHeal=0,i.efHotOverheal=0,i.targetOverlap=0,i.uniqueTargets=new Set,i.total=0,i.addEventListener(g.f.cast.by(v.a).spell(m.a.ESSENCE_FONT),i.castEssenceFont),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ESSENCE_FONT),i.handleEssenceFont),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ESSENCE_FONT_BUFF),i.handleEssenceFontBuff),i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.ESSENCE_FONT_BUFF),i.applyEssenceFontBuff),i.addEventListener(g.f.refreshbuff.by(v.a).spell(m.a.ESSENCE_FONT_BUFF),i.refreshEssenceFontBuff),i}return Object(h.a)(a,[{key:"castEssenceFont",value:function(e){this.castEF+=1,this.total+=this.uniqueTargets.size||0,this.uniqueTargets.clear()}},{key:"handleEssenceFont",value:function(e){this.totalHealing+=e.amount||0,this.totalOverhealing+=e.overheal||0,this.totalAbsorbs+=e.absorbed||0}},{key:"handleEssenceFontBuff",value:function(e){!0===e.tick&&(this.efHotHeal+=(e.amount||0)+(e.absorbed||0),this.efHotOverheal+=e.overheal||0),this.totalHealing+=e.amount||0,this.totalOverhealing+=e.overheal||0,this.totalAbsorbs+=e.absorbed||0,this.uniqueTargets.add(e.targetID)}},{key:"applyEssenceFontBuff",value:function(e){this.targetsEF+=1}},{key:"refreshEssenceFontBuff",value:function(e){this.targetsEF+=1,this.targetOverlap+=1}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are currently using not utilizing your ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," effectively. Each ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," cast should hit a total of 18 targets. Either hold the cast til 6 or more targets are injured or move while casting to increase the effective range of the spell.")).icon(m.a.ESSENCE_FONT.icon).actual("".concat(t.avgTargetsHitPerEF.toFixed(2)).concat(M.i18n._({id:"monk.mistweaver.suggestions.essenceFont.averageTargetsHit",defaults:"average targets hit per cast"}))).recommended("".concat(n," targets hit is recommended"))}))}},{key:"statistic",value:function(){var e=this.total/this.castEF;return G.a.createElement(U.b,{postion:U.a.OPTIONAL(50),icon:G.a.createElement(B.a,{id:m.a.ESSENCE_FONT.id}),value:"".concat(Object(R.d)(e)),label:G.a.createElement(x.a,{content:"This is the average unique targets hit per essences font cast."},"Average Unique Targets Hit")})}},{key:"efHotHealing",get:function(){return this.efHotHeal}},{key:"efHotOverhealing",get:function(){return(this.efHotOverheal/(this.efHotHeal+this.efHotOverheal)).toFixed(4)}},{key:"avgTargetsHitPerEF",get:function(){return this.targetsEF/this.castEF||0}},{key:"efHotOverlap",get:function(){return(this.targetOverlap/this.targetsEF||0).toFixed(2)}},{key:"suggestionThresholds",get:function(){return{actual:this.avgTargetsHitPerEF,isLessThan:{minor:17,average:14,major:12},style:F.a.NUMBER}}}]),a}(v.c),Q=a(119),$=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).healsRJW=0,i.healingRJW=0,i.overhealingRJW=0,i.castRJW=0,i.active=i.selectedCombatant.hasTalent(m.a.REFRESHING_JADE_WIND_TALENT.id),i.active?(i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.REFRESHING_JADE_WIND_TALENT),i.rjwBuff),i.addEventListener(g.f.heal.by(v.a).spell(m.a.REFRESHING_JADE_WIND_HEAL),i.rjwHeal),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"rjwBuff",value:function(e){this.castRJW+=1}},{key:"rjwHeal",value:function(e){this.healsRJW+=1,this.healingRJW+=(e.amount||0)+(e.absorbed||0),this.overhealingRJW+=e.overheal||0}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are not utilizing your ",G.a.createElement(P.a,{id:m.a.REFRESHING_JADE_WIND_TALENT.id})," effectively. ",G.a.createElement(P.a,{id:m.a.REFRESHING_JADE_WIND_TALENT.id})," excells when you hit 6 targets for the duration of the spell. The easiest way to accomplish this is to stand in melee, but there can be other uses when the raid stacks for various abilities.")).icon(m.a.REFRESHING_JADE_WIND_TALENT.icon).actual("".concat(Object(R.e)(t.avgTargetsHitPerRJWPercentage)).concat(M.i18n._({id:"monk.mistweaver.suggestions.refreshingJadeWind.avgTargetsHit",defaults:"% of targets hit per Refreshing Jade Wind"}))).recommended(">".concat(Object(R.e)(n),"% is recommended"))}))}},{key:"avgTargetsHitPerRJWPercentage",get:function(){return this.healsRJW/this.castRJW/78||0}},{key:"rjwEffectiveness",get:function(){return(this.healsRJW/(78*this.castRJW)||0).toFixed(4)}},{key:"suggestionThresholds",get:function(){return{actual:this.avgTargetsHitPerRJWPercentage,isLessThan:{minor:.9,average:.8,major:.7},style:F.a.PERCENTAGE}}}]),a}(v.c),ee=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).castChiBurst=0,e.healing=0,e.targetsChiBurst=0,e.raidSize=0,e.active=e.selectedCombatant.hasTalent(m.a.CHI_BURST_TALENT.id),e.raidSize=Object.keys(e.combatants.players).length,e.addEventListener(g.f.cast.by(v.a).spell(m.a.CHI_BURST_TALENT),e.onCast),e.addEventListener(g.f.heal.by(v.a).spell(m.a.CHI_BURST_HEAL),e.onHeal),e.addEventListener(g.f.fightend,e.onFightend),e}return Object(h.a)(a,[{key:"avgTargetsHitPerCB",get:function(){return this.targetsChiBurst/this.castChiBurst||0}},{key:"suggestionThresholds",get:function(){return{actual:this.avgTargetsHitPerCB,isLessThan:{minor:.3*this.raidSize,average:.25*this.raidSize,major:.2*this.raidSize},style:"number"}}}]),Object(h.a)(a,[{key:"onCast",value:function(e){this.castChiBurst+=1}},{key:"onHeal",value:function(e){var t=e.targetID;this.combatants.players[t]&&(this.healing+=(e.amount||0)+(e.absorbed||0),this.targetsChiBurst+=1)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are not utilizing your ",G.a.createElement(P.a,{id:m.a.CHI_BURST_TALENT.id})," talent as effectively as you should. You should work on both your positioning and aiming of the spell. Always aim for the highest concentration of players, which is normally melee.")).icon(m.a.CHI_BURST_TALENT.icon).actual("".concat(t.avgTargetsHitPerCB.toFixed(2)," ").concat(M.i18n._({id:"monk.mistweaver.suggestions.chiBurst.targetsHit",defaults:"targets hit per Chi Burst cast - "})).concat(Object(R.e)(t.avgTargetsHitPerCB/t.raidSize)).concat(M.i18n._({id:"monk.mistweaver.suggestions.chiBurst.targetsHitPartTwo",defaults:"% of raid hit"}))).recommended("30% of the raid hit is recommended")}))}},{key:"onFightend",value:function(){0}}]),a}(v.c);ee.dependencies={combatants:V.a};var te=ee,ae=[m.a.ENVELOPING_MIST.id,m.a.ESSENCE_FONT.id,m.a.ESSENCE_FONT_BUFF.id,m.a.RENEWING_MIST.id,m.a.RENEWING_MIST_HEAL.id,m.a.VIVIFY.id,m.a.SOOTHING_MIST.id,m.a.GUSTS_OF_MISTS.id,m.a.REVIVAL.id,m.a.CHI_BURST_TALENT.id,m.a.CHI_BURST_HEAL.id,m.a.CHI_WAVE_TALENT.id,m.a.REFRESHING_JADE_WIND_TALENT.id,m.a.REFRESHING_JADE_WIND_HEAL.id,m.a.LEECH.id];function ne(e,t){var a=.1*e;return e-a+a*t}var ie=a(746),se=a(761),re=a(58),le=a(747),oe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).castsTp=0,i.buffTotm=0,i.castsBk=0,i.lastTotmBuffTimestamp=0,i.totmOverCap=0,i.totmBuffWasted=0,i.totalTotmBuffs=0,i.manaReturnSotc=0,i.sotcWasted=0,i.active=i.selectedCombatant.hasTalent(m.a.SPIRIT_OF_THE_CRANE_TALENT.id),i.active?(i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.TEACHINGS_OF_THE_MONASTERY),i.firstStack),i.addEventListener(g.f.applybuffstack.by(v.a).spell(m.a.TEACHINGS_OF_THE_MONASTERY),i.gainStacks),i.addEventListener(g.f.removebuff.by(v.a).spell(m.a.TEACHINGS_OF_THE_MONASTERY),i.lostStacks),i.addEventListener(g.f.energize.by(v.a).spell(m.a.SPIRIT_OF_THE_CRANE_BUFF),i.stacksToMana),i.addEventListener(g.f.cast.by(v.a).spell(m.a.TIGER_PALM),i.tigerPalm),i.addEventListener(g.f.cast.by(v.a).spell(m.a.BLACKOUT_KICK),i.blackoutKick),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"firstStack",value:function(e){this.buffTotm+=1,this.lastTotmBuffTimestamp=e.timestamp}},{key:"gainStacks",value:function(e){this.buffTotm+=1,this.lastTotmBuffTimestamp=e.timestamp}},{key:"lostStacks",value:function(e){e.timestamp-this.lastTotmBuffTimestamp>2e4&&(this.totmBuffWasted+=1,this.buffTotm=0),this.buffTotm=0}},{key:"stacksToMana",value:function(e){this.manaReturnSotc+=e.resourceChange-e.waste,this.sotcWasted+=e.waste}},{key:"tigerPalm",value:function(e){this.selectedCombatant.hasBuff(m.a.TEACHINGS_OF_THE_MONASTERY.id)&&(this.lastTotmBuffTimestamp=e.timestamp,this.totmOverCap+=1)}},{key:"blackoutKick",value:function(){this.selectedCombatant.hasBuff(m.a.TEACHINGS_OF_THE_MONASTERY.id)&&this.buffTotm>0&&this.selectedCombatant.hasBuff(m.a.TEACHINGS_OF_THE_MONASTERY.id)&&(this.totalTotmBuffs+=this.buffTotm)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are not utilizing your ",G.a.createElement(P.a,{id:m.a.SPIRIT_OF_THE_CRANE_TALENT.id})," talent as effectively as you could. Make sure you are using any available downtime to use ",G.a.createElement(P.a,{id:m.a.TIGER_PALM.id})," and ",G.a.createElement(P.a,{id:m.a.BLACKOUT_KICK.id})," to take advantage of this talent.")).icon(m.a.SPIRIT_OF_THE_CRANE_TALENT.icon).actual("".concat(Object(R.d)(t.manaReturn)).concat(M.i18n._({id:"monk.mistweaver.suggestions.spiritOfTheCrane.manaReturned",defaults:" mana returned through Spirit of the Crane"}))).recommended("".concat(Object(R.d)(n)," is the recommended mana return"))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(30),size:"flexible",category:re.a.TALENTS,tooltip:G.a.createElement(G.a.Fragment,null,"You gained a raw total of ",((this.manaReturnSotc+this.sotcWasted)/1e3).toFixed(0),"k mana from SotC with ",(this.sotcWasted/1e3).toFixed(0),"k wasted.",G.a.createElement("br",null),"You lost ",this.totmOverCap+this.totmBuffWasted," Teachings of the Monestery stacks.",G.a.createElement("br",null),G.a.createElement("ul",null,this.totmOverCap>0&&G.a.createElement("li",null,"You overcapped Teachings ",this.totmOverCap," times"),this.totmBuffWasted>0&&G.a.createElement("li",null,"You let Teachings drop off ",this.totmBuffWasted," times")))},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.SPIRIT_OF_THE_CRANE_TALENT.id})," Mana Returned")},G.a.createElement(G.a.Fragment,null,Object(R.d)(this.manaReturnSotc))))}},{key:"manaReturn",get:function(){return this.manaReturnSotc}},{key:"suggestionThresholds",get:function(){return{actual:this.manaReturn,isLessThan:{minor:this.owner.fightDuration/1e3*80,average:this.owner.fightDuration/1e3*65,major:this.owner.fightDuration/1e3*65},style:F.a.NUMBER}}}]),a}(v.c),ce=a(755),he=a(88),ue=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).manaSavedMT=0,i.manateaCount=0,i.casts=new Map,i.effectiveHealing=0,i.overhealing=0,i.abilityTracker=void 0,i.active=i.selectedCombatant.hasTalent(m.a.MANA_TEA_TALENT.id),i.active?(i.addEventListener(g.f.cast.by(v.a),i.handleCast),i.addEventListener(g.f.heal.by(v.a),i.heal),i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.MANA_TEA_TALENT),i.applyBuff),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"applyBuff",value:function(e){this.manateaCount+=1}},{key:"heal",value:function(e){this.selectedCombatant.hasBuff(m.a.MANA_TEA_TALENT.id)&&(this.effectiveHealing+=(e.amount||0)+(e.absorbed||0),this.overhealing+=e.overheal||0)}},{key:"handleCast",value:function(e){var t,a=e.ability.name,n=null===(t=e.classResources)||void 0===t?void 0:t.find((function(e){return e.type===he.a.MANA.id}));void 0!==n&&this.selectedCombatant.hasBuff(m.a.MANA_TEA_TALENT.id)&&e.ability.guid!==m.a.MANA_TEA_TALENT.id&&(void 0!==n.cost&&(this.manaSavedMT+=n.cost/2),this.casts.has(a)?this.casts.set(a,(this.casts.get(a)||0)+1):this.casts.set(a,1))}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"Your mana spent during ",G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," can be improved. Aim to prioritize as many ",G.a.createElement(P.a,{id:m.a.VIVIFY.id})," casts until the last second of the buff and then cast ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id}),". ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id}),"'s mana cost is taken at the beginning of the channel, so you gain the benefit of ",G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," even if the channel continues past the buff.")).icon(m.a.MANA_TEA_TALENT.icon).actual("".concat(Object(R.d)(t.avgMtSaves)).concat(M.i18n._({id:"monk.mistweaver.suggestions.manaTea.avgManaSaved",defaults:" average mana saved per Mana Tea cast"}))).recommended("".concat((n/1e3).toFixed(0),"k average mana saved is recommended"))})),e(this.suggestionThresholdsOverhealing).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"Your average overhealing was high during your ",G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," usage. Consider using ",G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," during specific boss abilities or general periods of high damage to the raid. Also look to target low health raid members to avoid large amounts of overhealing.")).icon(m.a.MANA_TEA_TALENT.icon).actual("".concat(Object(R.e)(t.avgOverhealing)).concat(M.i18n._({id:"monk.mistweaver.suggestions.manaTea.avgOverHealing",defaults:" % average overhealing per Mana Tea cast"}))).recommended("under ".concat(Object(R.e)(n),"% over healing is recommended"))}))}},{key:"statistic",value:function(){var e=this,t=Array.from(this.casts.keys());return G.a.createElement(ie.a,{position:le.a.OPTIONAL(25),size:"flexible",category:re.a.TALENTS,tooltip:G.a.createElement(G.a.Fragment,null,"During your ",this.manateaCount," Mana Teas saved the following mana (",Object(R.f)(this.manaSavedMT/this.owner.fightDuration*1e3*5)," MP5):",G.a.createElement("ul",null,t.map((function(t){return G.a.createElement("li",{key:t},e.casts.get(t)," ",t," casts")}))))},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.MANA_TEA_TALENT.id})," Average mana saved")},G.a.createElement(G.a.Fragment,null,Object(R.d)(this.avgMtSaves))))}},{key:"avgMtSaves",get:function(){return this.manaSavedMT/this.manateaCount||0}},{key:"suggestionThresholds",get:function(){return{actual:this.avgMtSaves,isLessThan:{minor:7500,average:6500,major:5500},style:F.a.NUMBER}}},{key:"avgOverhealing",get:function(){return parseFloat((this.overhealing/(this.overhealing+this.effectiveHealing)||0).toFixed(4))}},{key:"suggestionThresholdsOverhealing",get:function(){return{actual:this.avgOverhealing,isGreaterThan:{minor:.2,average:.3,major:.4},style:F.a.PERCENTAGE}}}]),a}(v.c);ue.dependencies={abilityTracker:ce.a};var de=ue,me=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).manaSaved=0,i.manaSavedViv=0,i.manaSavedEnm=0,i.castsRedEnm=0,i.castsRedViv=0,i.castsNonRedViv=0,i.castsNonRedEnm=0,i.active=i.selectedCombatant.hasTalent(m.a.LIFECYCLES_TALENT.id),i.active?(i.addEventListener(g.f.cast.by(v.a).spell(m.a.VIVIFY),i.vivifyCast),i.addEventListener(g.f.cast.by(v.a).spell(m.a.ENVELOPING_MIST),i.envelopingMistCast),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"vivifyCast",value:function(e){this.selectedCombatant.hasBuff(m.a.THUNDER_FOCUS_TEA.id)||this.selectedCombatant.hasBuff(m.a.INNERVATE.id)||(this.selectedCombatant.hasBuff(m.a.LIFECYCLES_VIVIFY_BUFF.id)?(this.manaSaved+=.25*m.a.VIVIFY.manaCost,this.manaSavedViv+=.25*m.a.VIVIFY.manaCost,this.castsRedViv+=1):this.castsNonRedViv+=1)}},{key:"envelopingMistCast",value:function(e){var t;if(!this.selectedCombatant.hasBuff(m.a.INNERVATE.id))if(this.selectedCombatant.hasBuff(m.a.LIFECYCLES_ENVELOPING_MIST_BUFF.id)){var a=null===(t=this.selectedCombatant.getBuff(m.a.INVOKE_CHIJI_THE_RED_CRANE_BUFF.id,e.timestamp))||void 0===t?void 0:t.stacks;if(a){if(3!==a){var n=m.a.ENVELOPING_MIST.manaCost-1001*a;this.calculateEnvManaSaved(n)}}else this.calculateEnvManaSaved(m.a.ENVELOPING_MIST.manaCost)}else this.castsNonRedEnm+=1}},{key:"calculateEnvManaSaved",value:function(e){this.manaSaved+=.25*e,this.manaSavedEnm+=.25*e,this.castsRedEnm+=1}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(G.a.createElement(G.a.Fragment,null,"Your current spell usage is not taking full advantage of the ",G.a.createElement(P.a,{id:m.a.LIFECYCLES_TALENT.id})," talent. You should be trying to alternate the use of these spells as often as possible to take advantage of the buff.")).icon(m.a.LIFECYCLES_TALENT.icon).actual("".concat(Object(R.d)(t)).concat(M.i18n._({id:"monk.mistweaver.suggestions.lifecycles.manaSaved",defaults:" mana saved through Lifecycles"}))).recommended("".concat(Object(R.d)(a)," is the recommended amount of mana savings"))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(70),size:"flexible",category:re.a.TALENTS,tooltip:G.a.createElement(G.a.Fragment,null,"You saved a total of ",this.manaSaved," mana from the Lifecycles talent.",G.a.createElement("ul",null,G.a.createElement("li",null,"On ",this.castsRedViv," Vivify casts, you saved ",(this.manaSavedViv/1e3).toFixed(0),"k mana. (",Object(R.e)(this.castsRedViv/(this.castsRedViv+this.castsNonRedViv)),"%)"),G.a.createElement("li",null,"On ",this.castsRedEnm," Enveloping Mists casts, you saved ",(this.manaSavedEnm/1e3).toFixed(0),"k mana. (",Object(R.e)(this.castsRedEnm/(this.castsRedEnm+this.castsNonRedEnm)),"%)"),G.a.createElement("li",null,"You casted ",this.castsNonRedViv," Vivify's and ",this.castsNonRedEnm," Enveloping Mists for full mana cost.")))},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.LIFECYCLES_TALENT.id}))},G.a.createElement(G.a.Fragment,null,Object(R.d)(this.manaSaved)," Mana Saved")))}},{key:"suggestionThresholds",get:function(){return{actual:this.manaSaved,isLessThan:{minor:this.owner.fightDuration/1e3*40,average:this.owner.fightDuration/1e3*25,major:this.owner.fightDuration/1e3*25},style:F.a.NUMBER}}}]),a}(v.c),Ee=a(801),ge=a(799),fe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).castsTftRsk=0,i.castsTftViv=0,i.castsTftEnm=0,i.castsTftRem=0,i.castsTft=0,i.castsUnderTft=0,i.correctCasts=0,i.castBufferTimestamp=0,i.ftActive=!1,i.rmActive=!1,i.ftActive=i.selectedCombatant.hasTalent(m.a.FOCUSED_THUNDER_TALENT.id),i.rmActive=i.selectedCombatant.hasTalent(m.a.RISING_MIST_TALENT.id),i.addEventListener(g.f.cast.by(v.a).spell(m.a.THUNDER_FOCUS_TEA),i.tftCast),i.addEventListener(g.f.cast.by(v.a),i.buffedCast),i}return Object(h.a)(a,[{key:"tftCast",value:function(e){this.castsTft+=this.ftActive?2:1}},{key:"buffedCast",value:function(e){var t,a,n=e.ability.guid;e.timestamp-this.castBufferTimestamp<25||this.selectedCombatant.hasBuff(m.a.THUNDER_FOCUS_TEA.id)&&(m.a.VIVIFY.id!==n||(null===(t=e.classResources)||void 0===t||null===(a=t.find((function(e){return e.type===he.a.MANA.id})))||void 0===a?void 0:a.cost)||(this.castsUnderTft+=1,this.castsTftViv+=1,this.correctCasts+=1,this.castBufferTimestamp=e.timestamp),m.a.RISING_SUN_KICK.id===n&&(this.castsUnderTft+=1,this.castsTftRsk+=1,this.rmActive&&(this.correctCasts+=1)),m.a.ENVELOPING_MIST.id===n&&(this.castsUnderTft+=1,this.castsTftEnm+=1),m.a.RENEWING_MIST.id===n&&(this.castsUnderTft+=1,this.castsTftRem+=1,this.correctCasts+=1))}},{key:"renderCastRatioChart",value:function(){var e=[{color:"#00b159",label:"Vivify",spellId:m.a.VIVIFY.id,value:this.castsTftViv},{color:"#db00db",label:"Renewing Mist",spellId:m.a.RENEWING_MIST.id,value:this.castsTftRem},{color:"#f37735",label:"Enveloping Mists",spellId:m.a.ENVELOPING_MIST.id,value:this.castsTftEnm},{color:"#ffc425",label:"Rising Sun Kick",spellId:m.a.RISING_SUN_KICK.id,value:this.castsTftRsk}];return G.a.createElement(ge.a,{items:e})}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are currently using ",G.a.createElement(P.a,{id:m.a.THUNDER_FOCUS_TEA.id})," to buff spells other than ",t.rmActive?G.a.createElement(P.a,{id:m.a.RISING_SUN_KICK.id}):G.a.createElement(P.a,{id:m.a.VIVIFY.id})," or ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id}),". It is advised to limit the number of spells buffed to only these two.")).icon(m.a.THUNDER_FOCUS_TEA.icon).actual("".concat(t.incorrectTftCasts).concat(M.i18n._({id:"monk.mistweaver.suggestions.thunderFocusTea.incorrectCasts",defaults:"incorrect casts with Thunder Focus Tea"}))).recommended("<".concat(n," incorrect cast is recommended"))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:Ee.a.CORE(20),size:"flexible"},G.a.createElement("div",{className:"pad"},G.a.createElement("label",null,G.a.createElement(P.a,{id:m.a.THUNDER_FOCUS_TEA.id})," usage"),this.renderCastRatioChart()))}},{key:"incorrectTftCasts",get:function(){return this.castsUnderTft-this.correctCasts}},{key:"suggestionThresholds",get:function(){return{actual:this.incorrectTftCasts,isGreaterThan:{minor:1,average:1.5,major:2},style:F.a.NUMBER}}}]),a}(v.c),ve=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).remVivifyHealCount=0,i.remVivifyHealing=0,i.gustsHealing=0,i.lastCastTarget=0,i.remDuringManaTea=0,i.numberToCount=0,i.abilityTracker=void 0,i.combatants=void 0,i.addEventListener(g.f.cast.by(v.a).spell(m.a.VIVIFY),i.vivCast),i.addEventListener(g.f.heal.by(v.a).spell(m.a.VIVIFY),i.handleViv),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.handleMastery),i}return Object(h.a)(a,[{key:"vivCast",value:function(e){this.numberToCount+=1,this.lastCastTarget=e.targetID||0}},{key:"handleViv",value:function(e){this.lastCastTarget!==e.targetID&&(this.remVivifyHealCount+=1,this.remVivifyHealing+=(e.amount||0)+(e.absorbed||0),this.selectedCombatant.hasBuff(m.a.MANA_TEA_TALENT.id)&&(this.remDuringManaTea+=1))}},{key:"handleMastery",value:function(e){this.lastCastTarget===e.targetID&&this.numberToCount>0&&(this.gustsHealing+=(e.amount||0)+(e.absorbed||0),this.numberToCount-=1)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are casting ",G.a.createElement(P.a,{id:m.a.VIVIFY.id})," with less than 2 ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id})," out on the raid. To ensure you are gaining the maximum ",G.a.createElement(P.a,{id:m.a.VIVIFY.id})," healing, keep ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id})," on cooldown.")).icon(m.a.VIVIFY.icon).actual("".concat(t.averageRemPerVivify.toFixed(2)).concat(M.i18n._({id:"monk.mistweaver.suggestions.vivify.renewingMistsPerVivify",defaults:" Renewing Mists per Vivify"}))).recommended("".concat(n," Renewing Mists are recommended per Vivify"))}))}},{key:"statistic",value:function(){return G.a.createElement(U.b,{postion:U.a.CORE(15),icon:G.a.createElement(B.a,{id:m.a.VIVIFY.id}),value:"".concat(this.averageRemPerVivify.toFixed(2)),label:G.a.createElement(x.a,{content:G.a.createElement(G.a.Fragment,null,"Healing Breakdown:",G.a.createElement("ul",null,G.a.createElement("li",null,Object(R.d)(this.abilityTracker.getAbility(m.a.VIVIFY.id).healingEffective)," overall healing from Vivify."),G.a.createElement("li",null,Object(R.d)(this.remVivifyHealing)," portion of your Vivify healing to REM targets.")))},"Avg REMs per Cast")})}},{key:"averageRemPerVivify",get:function(){var e=this.abilityTracker.getAbility(m.a.VIVIFY.id).casts||0;return this.remVivifyHealCount/e||0}},{key:"suggestionThresholds",get:function(){return{actual:this.averageRemPerVivify,isLessThan:{minor:1.75,average:1.25,major:.75},style:F.a.NUMBER}}}]),a}(v.c);ve.dependencies={abilityTracker:ce.a,combatants:V.a};var Te=ve,be=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).abilityTracker=void 0,i.vivify=void 0,i.manaTea=void 0,i.active=i.selectedCombatant.hasTalent(m.a.MANA_TEA_TALENT.id),i}return Object(h.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"During ",G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," you should have a minimum of two ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id})," out to maximize your healing during the buff.")).icon(m.a.MANA_TEA_TALENT.icon).actual("".concat(t.avgRemDuringMT.toFixed(2)).concat(M.i18n._({id:"monk.mistweaver.suggestions.renewingMistDuringManaTea.avgRenewingMists",defaults:" average Renewing Mists during Mana Tea"}))).recommended("".concat(n," average Renewing Mists recommended"))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(30),size:"flexible",category:re.a.TALENTS,tooltip:G.a.createElement(G.a.Fragment,null,"This is the average number of Renewing Mists active during Mana Tea")},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.MANA_TEA_TALENT.id})," Average Renewing Mists")},G.a.createElement(G.a.Fragment,null,this.avgRemDuringMT.toFixed(2))))}},{key:"avgRemDuringMT",get:function(){return this.vivify.remDuringManaTea/(this.manaTea.casts.get("Vivify")||0)||0}},{key:"suggestionThresholds",get:function(){return{actual:this.avgRemDuringMT,isLessThan:{minor:2,average:1.5,major:1},style:F.a.NUMBER}}}]),a}(v.c);be.dependencies={abilityTracker:ce.a,vivify:Te,manaTea:de};var pe=be,ye=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).goodSCKcount=0,i.goodSCKTimeList=[],i.badSCKcount=0,i.badSCKTimeList=[],i.canceledSCKcount=0,i.enemiesHitSCK=[],i.currentTime=0,i.addEventListener(g.f.cast.by(v.a).spell(m.a.SPINNING_CRANE_KICK),i.castSpinningCraneKick),i.addEventListener(g.f.damage.by(v.a).spell(m.a.SPINNING_CRANE_KICK),i.handleSpinningCraneKick),i.addEventListener(g.f.fightend,i.fightEnd),i}return Object(h.a)(a,[{key:"castSpinningCraneKick",value:function(e){this.enemiesHitSCK.length>0&&this.checkSCK(),this.currentTime=this.owner.currentTimestamp-this.owner.fight.start_time,this.enemiesHitSCK=[]}},{key:"handleSpinningCraneKick",value:function(e){var t="".concat(e.targetID," ").concat(e.targetInstance||0);this.enemiesHitSCK.includes(t)||this.enemiesHitSCK.push(t)}},{key:"fightEnd",value:function(e){this.enemiesHitSCK&&this.checkSCK()}},{key:"checkSCK",value:function(){this.enemiesHitSCK.length>2?(this.goodSCKcount+=1,this.goodSCKTimeList.push(Object(R.b)(this.currentTime))):(this.badSCKcount+=1,this.badSCKTimeList.push(Object(R.b)(this.currentTime)))}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are not utilizing your ",G.a.createElement(P.a,{id:m.a.SPINNING_CRANE_KICK.id})," spell as effectively as you should. You should work on both your positioning spell. Always aim for the highest concentration of enemies, which is normally melee.")).icon(m.a.SPINNING_CRANE_KICK.icon).actual("".concat(t.badSCKcount).concat(M.i18n._({id:"monk.mistweaver.suggestions.spinningCraneKick.efficiency",defaults:" Spinning Crane Kicks that hit fewer than 3 enemies"}))).recommended("Aim to hit 3 or more targets with Spinning Crane Kick if there is less than 3 targets then Rising Sunkick, Blackout Kick or Tiger's palm")}))}},{key:"suggestionThresholds",get:function(){return{actual:this.badSCKcount,isGreaterThan:{minor:1,average:1.5,major:2},style:F.a.NUMBER}}}]),a}(v.c),_e=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).healing=0,i.overHealing=0,i.casts=0,i.soothingMistUptime=0,i.lastBuffApplyTimestamp=0,i.jssCasting=!1,i.abilityTracker=void 0,i.combatants=void 0,i.active=i.selectedCombatant.hasTalent(m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.id),i.active?(i.addEventListener(g.f.heal.by(v.b).spell(m.a.SOOTHING_MIST_STATUE),i.jssHeal),i.addEventListener(g.f.applybuff.by(v.b).spell(m.a.SOOTHING_MIST_STATUE),i.jssApplyBuff),i.addEventListener(g.f.removebuff.by(v.b).spell(m.a.SOOTHING_MIST_STATUE),i.jssRemoveBuff),i.addEventListener(g.f.refreshbuff.by(v.b).spell(m.a.SOOTHING_MIST_STATUE),i.jssRefreshBuff),i.addEventListener(g.f.fightend,i.endFight),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"jssHeal",value:function(e){this.healing+=(e.amount||0)+(e.absorbed||0),this.overHealing+=e.overheal||0,this.casts+=1}},{key:"jssApplyBuff",value:function(e){this.lastBuffApplyTimestamp=e.timestamp,this.jssCasting=!0}},{key:"jssRemoveBuff",value:function(e){null!==this.lastBuffApplyTimestamp?(this.soothingMistUptime+=e.timestamp-this.lastBuffApplyTimestamp,this.jssCasting=!1):this.soothingMistUptime+=e.timestamp-this.owner.fight.start_time}},{key:"jssRefreshBuff",value:function(e){e.ability.guid===m.a.SOOTHING_MIST_STATUE.id&&(null===this.lastBuffApplyTimestamp?this.soothingMistUptime+=e.timestamp-this.owner.fight.start_time:this.soothingMistUptime+=e.timestamp-this.lastBuffApplyTimestamp,this.lastBuffApplyTimestamp=e.timestamp,this.jssCasting=!0)}},{key:"endFight",value:function(){this.jssCasting&&(this.soothingMistUptime+=this.owner.fight.end_time-this.lastBuffApplyTimestamp)}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(G.a.createElement(G.a.Fragment,null,"You selected ",G.a.createElement(P.a,{id:m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.id})," as your talent. To gain the most value out of this talent you should have it casting on someone as often as possible. The priority should be tanks or any raid member taking heavy damage, such as from a specific DOT or boss mechanic.")).icon(m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.icon).actual("".concat(Object(R.e)(t)).concat(M.i18n._({id:"monk.mistweaver.jadeSerpentStatue.uptime",defaults:"% uptime"}))).recommended("".concat(Object(R.e)(a),"% uptime is recommended"))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.id})," % Uptime")},G.a.createElement(G.a.Fragment,null,Object(R.e)(this.jadeSerpentStatueUptime))))}},{key:"jadeSerpentStatueUptime",get:function(){return this.soothingMistUptime/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.jadeSerpentStatueUptime,isLessThan:{minor:.85,average:.75,major:.65},style:F.a.PERCENTAGE}}}]),a}(v.c);_e.dependencies={abilityTracker:ce.a,combatants:V.a};var Oe=_e,Se=a(818),Ie=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).manatea={selected:!1,manaFrom:0,icon:m.a.MANA_TEA_TALENT.icon,name:m.a.MANA_TEA_TALENT.name,id:m.a.MANA_TEA_TALENT.id,best:!1,requiredPerTea:0},i.lifecycles={selected:!1,manaFrom:0,icon:m.a.LIFECYCLES_TALENT.icon,name:m.a.LIFECYCLES_TALENT.name,id:m.a.LIFECYCLES_TALENT.id,best:!1,requiredVivs:0,requiredEnvs:0},i.sotc={selected:!1,manaFrom:0,icon:m.a.SPIRIT_OF_THE_CRANE_TALENT.icon,name:m.a.SPIRIT_OF_THE_CRANE_TALENT.name,id:m.a.SPIRIT_OF_THE_CRANE_TALENT.id,best:!1,requiredTps:0},i.talents=[i.manatea,i.lifecycles,i.sotc],i.returnedFromSelected=0,i.best=void 0,i.abilityTracker=void 0,i.manaTea=void 0,i.manaTracker=void 0,i.spiritOfTheCrane=void 0,i.lifeCycles=void 0,i.sotc.selected=i.selectedCombatant.hasTalent(m.a.SPIRIT_OF_THE_CRANE_TALENT.id),i.manatea.selected=i.selectedCombatant.hasTalent(m.a.MANA_TEA_TALENT.id),i.lifecycles.selected=!(i.sotc.selected||i.manatea.selected),i.addEventListener(g.f.fightend,i.endFight),i}return Object(h.a)(a,[{key:"endFight",value:function(){this.sotc.selected&&(this.sotc.manaFrom=this.spiritOfTheCrane.manaReturnSotc||0,this.returnedFromSelected=this.sotc.manaFrom),this.manatea.selected&&(this.manatea.manaFrom=this.manaTea.manaSavedMT||0,this.returnedFromSelected=this.manatea.manaFrom),this.lifecycles.selected&&(this.lifecycles.manaFrom=this.lifeCycles.manaSaved,this.returnedFromSelected=this.lifecycles.manaFrom),this.sotc.manaFrom=this.sotc.selected?this.sotc.manaFrom:this.generateSotc(),this.manatea.manaFrom=this.manatea.selected?this.manatea.manaFrom:this.generateManaTea(),this.lifecycles.manaFrom=this.lifecycles.selected?this.lifecycles.manaFrom:this.generateLifeCycles(),this.sotc.manaFrom>this.manatea.manaFrom&&this.sotc.manaFrom>this.lifecycles.manaFrom&&(this.best=this.sotc),this.manatea.manaFrom>this.sotc.manaFrom&&this.manatea.manaFrom>this.lifecycles.manaFrom&&(this.best=this.manatea),this.lifecycles.manaFrom>this.manatea.manaFrom&&this.lifecycles.manaFrom>this.sotc.manaFrom&&(this.best=this.lifecycles),this.best||(this.best=this.manatea),this.calculateOthers()}},{key:"calculateOthers",value:function(){if(this.sotc!==this.best&&(this.sotc.requiredTps=Math.ceil(this.best.manaFrom/(.0065*this.manaTracker.maxResource))),this.lifecycles!==this.best&&(this.lifecycles.requiredEnvs=Math.ceil((this.best.manaFrom+m.a.VIVIFY.manaCost*m.a.LIFECYCLES_VIVIFY_BUFF.manaPercRed)/m.a.ENVELOPING_MIST.manaCost*m.a.LIFECYCLES_ENVELOPING_MIST_BUFF.manaPercRed),this.lifecycles.requiredVivs=this.lifecycles.requiredEnvs-1),this.manatea!==this.best){var e=(this.owner.fight.end_time-this.owner.fight.start_time)/1e3,t=Math.ceil(e/90)||1;this.manatea.requiredPerTea=this.best.manaFrom/t}}},{key:"generateSotc",value:function(){return(this.abilityTracker.getAbility(m.a.BLACKOUT_KICK_TOTM.id).damageHits||0)*m.a.SPIRIT_OF_THE_CRANE_BUFF.manaRet*this.manaTracker.maxResource||0}},{key:"generateManaTea",value:function(){var e=(this.owner.fight.end_time-this.owner.fight.start_time)/1e3;return(Math.ceil(e/90)||1)*(this.totalManaSpent()/e*m.a.MANA_TEA_TALENT.duration/1e3)||0}},{key:"generateLifeCycles",value:function(){var e=this.abilityTracker.getAbility(m.a.ENVELOPING_MIST.id).casts||0,t=this.abilityTracker.getAbility(m.a.VIVIFY.id).casts-1,a=Math.min(t,e)*m.a.VIVIFY.manaCost*.25;return Math.min(t,e)*m.a.ENVELOPING_MIST.manaCost*.25+a||0}},{key:"totalManaSpent",value:function(){var e=0,t=this.manaTracker.maxResource;return this.manaTracker.resourceUpdates.forEach((function(a){0!==a.used&&(e+=Math.abs(t-a.used)),t=a.current})),e}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"With your current playstyle you are not using the most effective tier 45 talent. ",G.a.createElement(P.a,{id:t.best.id})," is better based off of how you played.")).icon(t.best.icon).actual("".concat(Object(R.d)(t.returnedFromSelected)).concat(M.i18n._({id:"monk.mistweaver.suggestions.tier45Talent.efficiency",defaults:" mana returned through "})).concat(t.best.name)).recommended("".concat(t.best.name," would have returned ").concat(Object(R.d)(t.best.manaFrom)))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(30),size:"flexible",category:re.a.TALENTS,dropdown:G.a.createElement("div",{className:"pad"},G.a.createElement("div",null,"This is an infographic for tier 45 talents to see what is required to equal the best pick for how you played. This also attempts to calculate the other talents based on how you played for the difference row, for the equals row it shows the requirements in general, ignoring how you played."),G.a.createElement("table",{className:"table table-condensed"},G.a.createElement("thead",null,G.a.createElement("tr",null,G.a.createElement("th",null),G.a.createElement("th",null,"LC"),G.a.createElement("th",null,"SOTC"),G.a.createElement("th",null,"MT"))),G.a.createElement("tbody",null,G.a.createElement("tr",null,G.a.createElement("td",null,"Difference"),G.a.createElement("td",null,Object(R.d)(this.best.manaFrom-this.lifecycles.manaFrom)),G.a.createElement("td",null,Object(R.d)(this.best.manaFrom-this.sotc.manaFrom)),G.a.createElement("td",null,Object(R.d)(this.best.manaFrom-this.manatea.manaFrom))),G.a.createElement("tr",null,G.a.createElement("td",null,"Equal"),G.a.createElement("td",null,"Viv:",this.lifecycles.requiredVivs,G.a.createElement("br",null),"Env:",this.lifecycles.requiredEnvs),G.a.createElement("td",null,"Totm Stacks ",this.sotc.requiredTps),G.a.createElement("td",null,"Mana ",Object(R.d)(this.manatea.requiredPerTea)," per tea"))))),tooltip:G.a.createElement(G.a.Fragment,null,G.a.createElement("ul",null,G.a.createElement("li",null,"LC = Life cycles"),G.a.createElement("li",null,"SOTC = Spirit of the Crane"),G.a.createElement("li",null,"MT = mana Tea")))},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:this.best.id})," Tier 45 Comparison")},G.a.createElement(G.a.Fragment,null,Object(R.d)(this.best.manaFrom)," Mana from ",this.best.name)))}},{key:"suggestionThresholds",get:function(){return{actual:this.best.selected,isEqual:!1,style:F.a.BOOLEAN}}}]),a}(v.c);Ie.dependencies={abilityTracker:ce.a,manaTea:de,manaTracker:Se.a,spiritOfTheCrane:oe,lifeCycles:me};var Ne=Ie,Ae=a(796),Ce=a(770),He=a(762),Le=a(763),Re=a(771),ke=a(772),Fe=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,i=function(e){return G.a.createElement(ke.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return G.a.createElement(Ce.a,null,G.a.createElement(He.c,{name:"Use core abilities as often as possible",description:G.a.createElement(G.a.Fragment,null,"As a Mistweaver you only have a single rotational spell that should be cast on CD ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id}),". The other piece is ensuring you have enough ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id}),"'s on the raid so that you maximize the cleave healing from ",G.a.createElement(P.a,{id:m.a.VIVIFY.id}),".")},G.a.createElement(i,{spell:m.a.RENEWING_MIST.id}),G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id})," avg per Vivify cast"),thresholds:n.vivify}),t.hasTalent(m.a.RISING_MIST_TALENT.id)&&G.a.createElement(i,{spell:m.a.RISING_SUN_KICK.id})),G.a.createElement(He.c,{name:"Use cooldowns effectively",description:G.a.createElement(G.a.Fragment,null,"Your cooldowns are an important contributor to your healing throughput. Try to get in as many efficient casts as the fight allows."," ",G.a.createElement("a",{href:"https://www.peakofserenity.com/bfa/mistweaver/guide/",target:"_blank",rel:"noopener noreferrer"},"More info."))},G.a.createElement(i,{spell:m.a.THUNDER_FOCUS_TEA.id}),t.hasTalent(m.a.MANA_TEA_TALENT.id)&&G.a.createElement(i,{spell:m.a.MANA_TEA_TALENT.id}),t.hasTalent(m.a.MANA_TEA_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id})," active during ",G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})),thresholds:n.renewingMistDuringManaTea}),t.hasTalent(m.a.CHI_BURST_TALENT.id)&&G.a.createElement(i,{spell:m.a.CHI_BURST_TALENT.id}),t.hasTalent(m.a.CHI_WAVE_TALENT.id)&&G.a.createElement(i,{spell:m.a.CHI_WAVE_TALENT.id}),G.a.createElement(i,{spell:m.a.REVIVAL.id}),!t.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id)&&G.a.createElement(i,{spell:m.a.INVOKE_YULON_THE_JADE_SERPENT.id}),t.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id)&&G.a.createElement(i,{spell:m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id}),G.a.createElement(i,{spell:m.a.TOUCH_OF_DEATH.id}),G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.ENVELOPING_BREATH.id})," applied per ",G.a.createElement(P.a,{id:m.a.ENVELOPING_MIST.id})," cast"),thresholds:n.envelopingBreath}),a.getCastEfficiencyForSpellId(m.a.ARCANE_TORRENT_MANA1.id)&&G.a.createElement(i,{spell:m.a.ARCANE_TORRENT_MANA1.id})),G.a.createElement(He.c,{name:"Position yourself well to maximize your most effective spells",description:G.a.createElement(G.a.Fragment,null,"Effective use of ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," has a big impact on your healing. Ensure you stay in melee to maximize the number of targets that can be in range of both ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," and other spells such as ",G.a.createElement(P.a,{id:m.a.REFRESHING_JADE_WIND_TALENT.id}),".")},G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," targets hit"),thresholds:n.essenceFont}),t.hasTalent(m.a.REFRESHING_JADE_WIND_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.REFRESHING_JADE_WIND_TALENT.id})," % targets hit"),thresholds:n.refreshingJadeWind}),t.hasTalent(m.a.CHI_BURST_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.CHI_BURST_TALENT.id})," targets hit"),thresholds:n.chiBurst}),G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.SPINNING_CRANE_KICK.id})," casts hitting 2 or fewer targets"),thresholds:n.spinningCraneKick})),G.a.createElement(He.c,{name:"Pick the right tools for the fight",description:"The throughput gain of some talents might vary greatly. Consider switching to a more reliable alternative if something is underperforming regularly."},G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,"Correct Tier 45 Talent "),thresholds:n.tier45Comparison}),t.hasTalent(m.a.SPIRIT_OF_THE_CRANE_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.SPIRIT_OF_THE_CRANE_TALENT.id})," mana returned"),thresholds:n.spiritOfTheCrane}),t.hasTalent(m.a.MANA_TEA_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," mana saved"),thresholds:n.manaTea}),t.hasTalent(m.a.MANA_TEA_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.MANA_TEA_TALENT.id})," % overhealing"),thresholds:n.manaTeaOverhealing}),t.hasTalent(m.a.LIFECYCLES_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.LIFECYCLES_TALENT.id})," mana saved"),thresholds:n.lifecycles}),t.hasTalent(m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.id)&&G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.SUMMON_JADE_SERPENT_STATUE_TALENT.id})," Cast Uptime"),thresholds:n.jadeSerpentStatue})),G.a.createElement(He.c,{name:"Use your procs and short CDs",description:"Make sure to use your procs and spells at the correct time."},G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.THUNDER_FOCUS_TEA.id})," incorrect casts"),thresholds:n.thunderFocusTea}),G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," HOTS Used per Cast"),thresholds:n.essenceFontMastery})),G.a.createElement(He.c,{name:"Try to avoid being inactive for a large portion of the fight",description:G.a.createElement(G.a.Fragment,null,"While it's suboptimal to always be casting as a healer you should still try to always be doing something during the entire fight and high downtime is inexcusable. You can reduce your downtime by reducing the delay between casting spells, anticipating movement, moving during the GCD, and ",G.a.createElement(x.a,{content:"While helping with damage would be optimal, it's much less important as a healer than any of the other suggestions on this checklist. You should ignore this suggestion while you are having difficulties with anything else."},"when you're not healing try to contribute some damage*"),".")},G.a.createElement(Le.a,{name:"Non healing time",thresholds:n.nonHealingTimeSuggestionThresholds}),G.a.createElement(Le.a,{name:"Downtime",thresholds:n.downtimeSuggestionThresholds}),G.a.createElement(Le.a,{name:G.a.createElement(G.a.Fragment,null,"Effective ",G.a.createElement(P.a,{id:m.a.SOOTHING_MIST.id})," Casts"),thresholds:n.soothingMist})),G.a.createElement(He.c,{name:"Use your defensive cooldowns effectively",description:"Make sure you use your personal and defensive cooldowns at appropriate times throughout the fight. While it may not make sense to use these abilities on cooldown, saving them for large damage events is ideal."},G.a.createElement(i,{spell:m.a.FORTIFYING_BREW.id}),G.a.createElement(i,{spell:m.a.LIFE_COCOON.id}),t.hasTalent(m.a.DIFFUSE_MAGIC_TALENT.id)&&G.a.createElement(i,{spell:m.a.DIFFUSE_MAGIC_TALENT.id}),t.hasTalent(m.a.DAMPEN_HARM_TALENT.id)&&G.a.createElement(i,{spell:m.a.DAMPEN_HARM_TALENT.id}),t.hasTalent(m.a.HEALING_ELIXIR_TALENT.id)&&G.a.createElement(i,{spell:m.a.HEALING_ELIXIR_TALENT.id})),G.a.createElement(He.c,{name:G.a.createElement(G.a.Fragment,null,"Use all of your ",G.a.createElement(Ae.a,{id:he.a.MANA.id})," effectively"),description:"If you have a large amount of mana left at the end of the fight that's mana you could have turned into healing. Try to use all your mana during a fight. A good rule of thumb is to try to match your mana level with the boss's health."},G.a.createElement(Le.a,{name:"Mana left",thresholds:n.manaLeft})),G.a.createElement(Re.a,{thresholds:n}))},Me=a(45),je=a(122),De=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).soomTicks=0,i.gustProc=0,i.gustsHealing=0,i.lastSoomTickTimestamp=0,i.startStamp=0,i.endStamp=0,i.soomInProgress=!1,i.castsInSoom=0,i.badSooms=0,i.totalSoomCasts=0,i.assumedGCD=0,i.startGCD=0,i.channeling=void 0,i.statTracker=void 0,i.assumedGCD=1425,i.addEventListener(g.f.cast.by(v.a).spell(m.a.SOOTHING_MIST),i.castSoothingMist),i.addEventListener(g.f.cast.by(v.a).spell([m.a.VIVIFY,m.a.ENVELOPING_MIST]),i.castDuringSoothingMist),i.addEventListener(g.f.heal.by(v.a).spell(m.a.SOOTHING_MIST),i.handleSoothingMist),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.masterySoothingMist),i.addEventListener(g.f.removebuff.by(v.a).spell(m.a.SOOTHING_MIST),i.removeBuffSoothingMist),i.addEventListener(g.f.fightend,i.end),i}return Object(h.a)(a,[{key:"handleSoothingMist",value:function(e){this.soomTicks+=1,this.lastSoomTickTimestamp=e.timestamp}},{key:"masterySoothingMist",value:function(e){this.lastSoomTickTimestamp===e.timestamp&&this.gustProc<Math.ceil(this.soomTicks/8)&&(this.gustProc+=1,this.gustsHealing+=(e.amount||0)+(e.absorbed||0))}},{key:"castDuringSoothingMist",value:function(e){this.soomInProgress&&(this.castsInSoom+=1)}},{key:"castSoothingMist",value:function(e){this.soomInProgress&&(this.endStamp=e.timestamp,this.checkChannelTiming(),this.castsInSoom=0),this.startStamp=e.timestamp,this.soomInProgress=!0;var t=1e3/(1+this.statTracker.hastePercentage(this.statTracker.currentHasteRating));this.startGCD=.95*Math.max(750,t)}},{key:"removeBuffSoothingMist",value:function(e){this.soomInProgress&&(this.endStamp=e.timestamp,this.soomInProgress=!1,this.checkChannelTiming(),this.castsInSoom=0)}},{key:"checkChannelTiming",value:function(){this.totalSoomCasts+=1;var e=this.endStamp-this.startStamp;e<this.startGCD||(e-=this.startGCD,this.castsInSoom-=e/this.assumedGCD,this.castsInSoom<0&&(this.badSooms+=1))}},{key:"end",value:function(e){this.soomInProgress&&(this.endStamp=this.owner.fightDuration,this.checkChannelTiming())}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e){return e(G.a.createElement(G.a.Fragment,null,"You are allowing ",G.a.createElement(P.a,{id:m.a.SOOTHING_MIST.id})," to channel for an extended period of time. ",G.a.createElement(P.a,{id:m.a.SOOTHING_MIST.id})," does little healing, so your time is better spent DPS'ing through the use of ",G.a.createElement(P.a,{id:m.a.TIGER_PALM.id})," and ",G.a.createElement(P.a,{id:m.a.BLACKOUT_KICK.id}),".")).icon(m.a.SOOTHING_MIST.icon).staticImportance(Me.a.MAJOR)})),e(this.suggestionThresholdsCasting).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You were channeling ",G.a.createElement(P.a,{id:m.a.SOOTHING_MIST.id})," without casting spells during it. Replace this channel time with damage abilities like ",G.a.createElement(P.a,{id:m.a.RISING_SUN_KICK.id}),".")).icon(m.a.SOOTHING_MIST.icon).actual("".concat(Object(R.e)(t.badSooms/t.totalSoomCasts)).concat(M.i18n._({id:"monk.mistweaver.suggestions.soothingMist.channelingWithoutCastingSpells",defaults:"% of Soothing Mist casts with max spells casted"}))).recommended("".concat(n," is recommended"))}))}},{key:"soomTicksPerDuration",get:function(){return(2*this.soomTicks/this.owner.fightDuration*1e3||0)>=1.5}},{key:"suggestionThresholds",get:function(){return{actual:this.soomTicksPerDuration,isEqual:!0,style:F.a.BOOLEAN}}},{key:"soomThresholds",get:function(){return(this.totalSoomCasts-this.badSooms)/this.totalSoomCasts}},{key:"suggestionThresholdsCasting",get:function(){return{actual:this.soomThresholds,isLessThan:{minor:1,average:.95,major:.9},style:F.a.PERCENTAGE}}}]),a}(v.c);De.dependencies={channeling:f.a,statTracker:je.a};var we=De,Ge=a(748),Pe=a(769),Be=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).envsDuringCelestial=0,i.envBreathsApplied=0,i.chijiActive=!1,i.envBIncrease=0,i.combatants=void 0,i.addEventListener(g.f.heal.by(v.a),i.handleEnvelopingBreathHeal),i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.ENVELOPING_BREATH),i.handleEnvelopingBreathCount),i.addEventListener(g.f.cast.by(v.a).spell(m.a.ENVELOPING_MIST),i.handleEnvelopingMist),i.selectedCombatant.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT)&&(i.addEventListener(g.f.death.to(v.b),i.handleChijiDeath),i.addEventListener(g.f.cast.by(v.a).spell(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT),i.handleChijiSummon)),i}return Object(h.a)(a,[{key:"handleEnvelopingBreathHeal",value:function(e){var t=e.targetID,a=e.sourceID;this.combatants.players[t]&&this.combatants.players[t].hasBuff(m.a.ENVELOPING_BREATH.id,e.timestamp,0,0,a)&&(this.envBIncrease+=Object(Pe.a)(e,.1))}},{key:"handleEnvelopingMist",value:function(e){(this.chijiActive||this.selectedCombatant.hasBuff(m.a.INVOKE_YULON_THE_JADE_SERPENT.id))&&(this.envsDuringCelestial+=1)}},{key:"handleEnvelopingBreathCount",value:function(e){this.envBreathsApplied+=1}},{key:"handleChijiSummon",value:function(e){this.chijiActive=!0}},{key:"handleChijiDeath",value:function(e){this.chijiActive=!1}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(G.a.createElement(G.a.Fragment,null,"You are not utilizing ",G.a.createElement(P.a,{id:m.a.ENVELOPING_BREATH.id})," effectively. Make sure you are choosing good targets for your ",G.a.createElement(P.a,{id:m.a.ENVELOPING_MIST.id})," during your Celestial cooldowns to apply the maximum number of ",G.a.createElement(P.a,{id:m.a.ENVELOPING_BREATH.id})," possible.")).icon(m.a.ENVELOPING_BREATH.icon).actual("".concat(t.averageEnvBPerEnv.toFixed(2)).concat(M.i18n._({id:"monk.mistweaver.suggestions.envelopingBreath.averageEnvBPerEnv",defaults:" Enveloping Breaths per Enveloping Mist during Celestial"}))).recommended("".concat(n," Enveloping Breaths are recommended per cast"))}))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{size:"flexible",category:re.a.GENERAL,tooltip:G.a.createElement(G.a.Fragment,null,"This is the effective healing contributed by the Enveloping Breath buff.")},G.a.createElement(Ge.a,{spell:m.a.ENVELOPING_BREATH},G.a.createElement(G.a.Fragment,null,Object(R.d)(this.envBIncrease)," ",G.a.createElement("small",null,"healing contributed by the buff"))))}},{key:"averageEnvBPerEnv",get:function(){return this.envBreathsApplied/this.envsDuringCelestial||0}},{key:"suggestionThresholds",get:function(){return{actual:this.averageEnvBPerEnv,isLessThan:{minor:5,average:4,major:3},style:F.a.NUMBER}}}]),a}(v.c);Be.dependencies={combatants:V.a};var xe=Be,Ve=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).combatants=void 0,e.castEfficiency=void 0,e.manaValues=void 0,e.preparationRuleAnalyzer=void 0,e.alwaysBeCasting=void 0,e.essenceFont=void 0,e.refreshingJadeWind=void 0,e.chiBurst=void 0,e.spiritOfTheCrane=void 0,e.manaTea=void 0,e.lifecycles=void 0,e.thunderFocusTea=void 0,e.essenceFontMastery=void 0,e.renewingMistDuringManaTea=void 0,e.spinningCraneKick=void 0,e.vivify=void 0,e.jadeSerpentStatue=void 0,e.soothingMist=void 0,e.tier45Comparison=void 0,e.envelopingBreath=void 0,e}return Object(h.a)(a,[{key:"render",value:function(){return G.a.createElement(Fe,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(Y.a)(Object(Y.a)({},this.preparationRuleAnalyzer.thresholds),{},{nonHealingTimeSuggestionThresholds:this.alwaysBeCasting.nonHealingTimeSuggestionThresholds,downtimeSuggestionThresholds:this.alwaysBeCasting.downtimeSuggestionThresholds,manaLeft:this.manaValues.suggestionThresholds,essenceFont:this.essenceFont.suggestionThresholds,envelopingBreath:this.envelopingBreath.suggestionThresholds,refreshingJadeWind:this.refreshingJadeWind.suggestionThresholds,chiBurst:this.chiBurst.suggestionThresholds,spiritOfTheCrane:this.spiritOfTheCrane.suggestionThresholds,manaTea:this.manaTea.suggestionThresholds,manaTeaOverhealing:this.manaTea.suggestionThresholdsOverhealing,spinningCraneKick:this.spinningCraneKick.suggestionThresholds,lifecycles:this.lifecycles.suggestionThresholds,thunderFocusTea:this.thunderFocusTea.suggestionThresholds,essenceFontMastery:this.essenceFontMastery.suggestionThresholds,renewingMistDuringManaTea:this.renewingMistDuringManaTea.suggestionThresholds,vivify:this.vivify.suggestionThresholds,jadeSerpentStatue:this.jadeSerpentStatue.suggestionThresholds,soothingMist:this.soothingMist.suggestionThresholdsCasting,tier45Comparison:this.tier45Comparison.suggestionThresholds})})}}]),a}(J.a);Ve.dependencies={combatants:V.a,castEfficiency:z.a,manaValues:q.a,preparationRuleAnalyzer:X.a,alwaysBeCasting:D,essenceFont:Z,refreshingJadeWind:$,chiBurst:te,spiritOfTheCrane:oe,manaTea:de,lifecycles:me,thunderFocusTea:fe,essenceFontMastery:W,renewingMistDuringManaTea:pe,spinningCraneKick:ye,vivify:Te,jadeSerpentStatue:Oe,soothingMist:we,tier45Comparison:Ne,envelopingBreath:xe};var Ue,Ke=Ve,We=a(6),Ye=a(854),Je=a(19),ze=a(829),qe=(Ue={},Object(b.a)(Ue,m.a.ENVELOPING_MIST.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.ENVELOPING_MIST_TFT.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.ESSENCE_FONT.id,{int:!0,crit:!0,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.ESSENCE_FONT_BUFF.id,{int:!0,crit:!0,hasteHpm:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.RENEWING_MIST_HEAL.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.VIVIFY.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.CHI_BURST_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.GUSTS_OF_MISTS.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!0,vers:!1}),Object(b.a)(Ue,m.a.SOOTHING_MIST.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.REFRESHING_JADE_WIND_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.REVIVAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.LIFE_COCOON.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.RISING_MIST_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.HEALING_ELIXIR_TALENT.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.SOOTHING_MIST_STATUE.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.ANCIENT_TEACHINGS_OF_THE_MONASTERY_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.GUST_OF_MISTS_CHIJI.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!0,vers:!0}),Object(b.a)(Ue,m.a.SOOTHING_BREATH.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.ENVELOPING_BREATH.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.EXPEL_HARM.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.EXPEL_HARM_TARGET_HEAL.id,{int:!0,crit:!0,hastHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.TEAR_OF_MORNING_HEAL.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!1}),Object(b.a)(Ue,m.a.FALLEN_ORDER_ENVELOPING_MIST.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.FALLEN_ORDER_SOOTHING_MIST.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!0,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.FAELINE_STOMP_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.FAELINE_STOMP_ESSENCE_FONT.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.WEAPONS_OF_ORDER_BUFF_AND_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.BONEDUST_BREW_HEAL.id,{int:!0,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(b.a)(Ue,m.a.BONEDUST_BREW_GUST_OF_MIST.id,{int:!0,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0}),Ue),Xe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).spellInfo=qe,e.qeLive=!0,e.statTracker=void 0,e.critEffectBonus=void 0,e}return Object(h.a)(a,[{key:"_mastery",value:function(e,t){return t.overheal?0:t.effective*(1-this.statTracker.masteryPercentage(this.statTracker.currentMasteryRating-1,!0)/this.statTracker.masteryPercentage(this.statTracker.currentMasteryRating,!0))}},{key:"_prepareResults",value:function(){return[Je.a.INTELLECT,Je.a.CRITICAL_STRIKE,{stat:Je.a.HASTE_HPCT,tooltip:G.a.createElement(We.Trans,{id:"monk.mistweaver.modules.features.statValues.hpct",components:[G.a.createElement("br",null),G.a.createElement("br",null),G.a.createElement("br",null),G.a.createElement("br",null)]})},Je.a.HASTE_HPM,Je.a.MASTERY,Je.a.VERSATILITY,Je.a.VERSATILITY_DR,Je.a.LEECH]}}]),a}(Ye.a);Xe.dependencies={statTracker:je.a,critEffectBonus:ze.a};var Ze=Xe,Qe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).abilityTracker=void 0,e}return Object(h.a)(a,[{key:"statistic",value:function(){var e=this,t=function(t){return e.abilityTracker.getAbility(t)},a=t(m.a.ENVELOPING_MIST.id).casts||0,n=t(m.a.VIVIFY.id).casts||0;return G.a.createElement(U.b,{position:U.a.OPTIONAL(10),icon:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.ENVELOPING_MIST.id})," : ",G.a.createElement(B.a,{id:m.a.VIVIFY.id})," "),value:"".concat(a," : ").concat(n),label:"Enveloping Mist to Vivify Casts"})}}]),a}(v.c);Qe.dependencies={abilityTracker:ce.a};var $e=Qe,et=[m.a.ENVELOPING_MIST.id],tt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).healingIncrease=0,i.evmHealingIncrease=0,i.gustsHealing=0,i.lastCastTarget=-1,i.numberToCount=0,i.gustProc=0,i.combatants=void 0,i.evmHealingIncrease=i.selectedCombatant.hasTalent(m.a.MIST_WRAP_TALENT.id)?.4:.3,i.addEventListener(g.f.cast.by(v.a).spell(m.a.ENVELOPING_MIST),i.castEnvelopingMist),i.addEventListener(g.f.heal.by(v.a),i.handleEnvelopingMist),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.masteryEnvelopingMist),i}return Object(h.a)(a,[{key:"castEnvelopingMist",value:function(e){this.numberToCount+=1,this.lastCastTarget=e.targetID||-1}},{key:"masteryEnvelopingMist",value:function(e){var t=e.targetID;this.lastCastTarget===t&&this.numberToCount>0&&(this.gustProc+=1,this.gustsHealing+=(e.amount||0)+(e.absorbed||0),this.numberToCount-=1)}},{key:"handleEnvelopingMist",value:function(e){var t=e.targetID,a=e.ability.guid,n=e.sourceID;et.includes(a)||this.combatants.players[t]&&this.combatants.players[t].hasBuff(m.a.ENVELOPING_MIST.id,e.timestamp,0,0,n)&&(this.healingIncrease+=Object(Pe.a)(e,this.evmHealingIncrease))}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{size:"flexible",category:re.a.GENERAL,tooltip:G.a.createElement(G.a.Fragment,null,"This is the effective healing contributed by the Enveloping Mist buff.")},G.a.createElement(Ge.a,{spell:m.a.ENVELOPING_MIST},G.a.createElement(G.a.Fragment,null,Object(R.d)(this.healingIncrease)," ",G.a.createElement("small",null,"healing contributed by the buff"))))}}]),a}(v.c);tt.dependencies={combatants:V.a};var at=tt,nt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalHealing=0,i.totalOverhealing=0,i.totalAbsorbs=0,i.gustsHealing=0,i.lastCastTarget=0,i.healingHits=0,i.numberToCount=0,i.addEventListener(g.f.cast.by(v.a).spell(m.a.RENEWING_MIST),i.castRenewingMist),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.handleGustsOfMists),i.addEventListener(g.f.heal.by(v.a).spell(m.a.RENEWING_MIST_HEAL),i.handleRenewingMist),i}return Object(h.a)(a,[{key:"castRenewingMist",value:function(e){this.numberToCount+=1,this.lastCastTarget=e.targetID||0}},{key:"handleGustsOfMists",value:function(e){this.lastCastTarget===e.targetID&&this.numberToCount>0&&(this.gustsHealing+=(e.amount||0)+(e.absorbed||0),this.numberToCount-=1)}},{key:"handleRenewingMist",value:function(e){this.totalHealing+=e.amount||0,this.totalOverhealing+=e.overheal||0,this.totalAbsorbs+=e.absorbed||0,this.healingHits+=1}}]),a}(v.c),it=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).selfHealing=0,i.selfOverheal=0,i.targetHealing=0,i.targetOverheal=0,i.gustsHealing=0,i.lastCastTarget=-1,i.sourceTarget=-1,i.numberToCount=0,i.addEventListener(g.f.heal.by(v.a).spell(m.a.EXPEL_HARM),i.handleExpelHarm),i.addEventListener(g.f.heal.by(v.a).spell(m.a.EXPEL_HARM_TARGET_HEAL),i.handleTargetExpelHarm),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.handleMastery),i}return Object(h.a)(a,[{key:"handleExpelHarm",value:function(e){this.selfHealing+=(e.amount||0)+(e.absorbed||0),this.selfOverheal+=e.overheal||0,this.numberToCount+=1,this.sourceTarget=e.targetID}},{key:"handleTargetExpelHarm",value:function(e){this.targetHealing+=(e.amount||0)+(e.absorbed||0),this.targetOverheal+=e.overheal||0,this.numberToCount+=1,this.lastCastTarget=e.targetID}},{key:"handleMastery",value:function(e){(e.targetID===this.lastCastTarget||e.targetID===this.sourceTarget)&&this.numberToCount>0&&(this.gustsHealing+=(e.amount||0)+(e.absorbed||0),this.numberToCount-=1)}}]),a}(v.c),st=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).essenceFontMastery=void 0,e.envelopingMists=void 0,e.soothingMist=void 0,e.renewingMist=void 0,e.vivify=void 0,e.expelHarm=void 0,e}return Object(h.a)(a,[{key:"renderMasterySourceChart",value:function(){var e=[{color:"#00b159",label:"Vivify",spellId:m.a.VIVIFY.id,value:this.vivify.gustsHealing,valueTooltip:Object(R.f)(this.vivify.gustsHealing)},{color:"#db00db",label:"Renewing Mist",spellId:m.a.RENEWING_MIST.id,value:this.renewingMist.gustsHealing,valueTooltip:Object(R.f)(this.renewingMist.gustsHealing)},{color:"#f37735",label:"Enveloping Mists",spellId:m.a.ENVELOPING_MIST.id,value:this.envelopingMists.gustsHealing,valueTooltip:Object(R.f)(this.envelopingMists.gustsHealing)},{color:"#ffc425",label:"Soothing Mist",spellId:m.a.SOOTHING_MIST.id,value:this.soothingMist.gustsHealing,valueTooltip:Object(R.f)(this.soothingMist.gustsHealing)},{color:"#00bbcc",label:"Essence font",spellId:m.a.ESSENCE_FONT.id,value:this.essenceFontMastery.healing,valueTooltip:Object(R.f)(this.essenceFontMastery.healing)},{color:"#03fcad",label:"Expel Harm",spellId:m.a.EXPEL_HARM.id,value:this.expelHarm.gustsHealing,valueTooltip:Object(R.f)(this.expelHarm.gustsHealing)}];return G.a.createElement(ge.a,{items:e})}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:Ee.a.CORE(20),size:"flexible"},G.a.createElement("div",{className:"pad"},G.a.createElement("label",null,G.a.createElement(P.a,{id:m.a.GUSTS_OF_MISTS.id},"Gusts of Mists")," breakdown"),this.renderMasterySourceChart()))}},{key:"totalMasteryHealing",get:function(){return(this.vivify.gustsHealing||0)+(this.renewingMist.gustsHealing||0)+(this.envelopingMists.gustsHealing||0)+(this.soothingMist.gustsHealing||0)+(this.essenceFontMastery.healing||0)+(this.expelHarm.gustsHealing||0)}}]),a}(v.c);st.dependencies={essenceFontMastery:W,envelopingMists:at,soothingMist:we,renewingMist:nt,vivify:Te,expelHarm:it};var rt=st,lt=a(797),ot=a(810),ct=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"buffs",value:function(){var e=this.selectedCombatant;return[{spellId:m.a.THUNDER_FOCUS_TEA.id},{spellId:[m.a.LIFECYCLES_VIVIFY_BUFF.id,m.a.LIFECYCLES_ENVELOPING_MIST_BUFF.id],enabled:e.hasTalent(m.a.LIFECYCLES_TALENT)},{spellId:m.a.TEACHINGS_OF_THE_MONASTERY.id},{spellId:m.a.REFRESHING_JADE_WIND_TALENT.id,enabled:e.hasTalent(m.a.REFRESHING_JADE_WIND_TALENT),timelineHighlight:!0},{spellId:m.a.INVOKE_CHIJI_THE_RED_CRANE_BUFF.id,enabled:e.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT)},{spellId:m.a.MANA_TEA_TALENT.id,enabled:e.hasTalent(m.a.MANA_TEA_TALENT),timelineHighlight:!0},{spellId:m.a.TIGERS_LUST_TALENT.id,enabled:e.hasTalent(m.a.TIGERS_LUST_TALENT)},{spellId:m.a.DIFFUSE_MAGIC_TALENT.id,enabled:e.hasTalent(m.a.DIFFUSE_MAGIC_TALENT)},{spellId:m.a.DAMPEN_HARM_TALENT.id,enabled:e.hasTalent(m.a.DAMPEN_HARM_TALENT)},{spellId:m.a.FORTIFYING_BREW.id},{spellId:Object.keys(ot.a).map((function(e){return Number(e)})),timelineHighlight:!0}]}}]),a}(lt.a),ht=a(765),ut=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).healing=0,i.combatants=void 0,i.addEventListener(g.f.heal,i.cocoonBuff),i}return Object(h.a)(a,[{key:"cocoonBuff",value:function(e){if(e.tick){var t=this.combatants.players[e.targetID];t&&t.hasBuff(m.a.LIFE_COCOON.id,e.timestamp,0,0)&&(this.healing+=Object(Pe.a)(e,.5))}}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(20),size:"flexible",tooltip:G.a.createElement(G.a.Fragment,null,"Life Cocoon boosts HoTs from other players as wells as your own.")},G.a.createElement(Ge.a,{spell:m.a.LIFE_COCOON},G.a.createElement(ht.a,{amount:this.healing}),G.a.createElement("br",null)))}}]),a}(v.c);ut.dependencies={combatants:V.a};var dt=ut,mt=a(916),Et=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).soothHealing=0,i.envelopHealing=0,i.active=!i.selectedCombatant.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id),i.active?(i.addEventListener(g.f.heal.by(v.a).spell(m.a.ENVELOPING_BREATH),i.handleEnvelopingBreath),i.addEventListener(g.f.heal.by(v.b).spell(m.a.SOOTHING_BREATH),i.handleSoothingBreath),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"handleEnvelopingBreath",value:function(e){this.envelopHealing+=(e.amount||0)+(e.absorbed||0)}},{key:"handleSoothingBreath",value:function(e){this.soothHealing+=(e.amount||0)+(e.absorbed||0)}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(50),size:"flexible",tooltip:G.a.createElement(G.a.Fragment,null,"Healing Breakdown:",G.a.createElement("ul",null,G.a.createElement("li",null,Object(R.d)(this.soothHealing)," healing from Soothing Breath."),G.a.createElement("li",null,Object(R.d)(this.envelopHealing)," healing from Enveloping Breath.")))},G.a.createElement(Ge.a,{spell:m.a.INVOKE_YULON_THE_JADE_SERPENT},G.a.createElement(ht.a,{amount:this.soothHealing+this.envelopHealing}),G.a.createElement("br",null)))}}]),a}(v.c),gt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).chijiActive=!1,i.gustHealing=0,i.envelopHealing=0,i.chijiStackCount=0,i.castsBelowMaxStacks=0,i.wastedStacks=0,i.freeCasts=0,i.missedGlobals=0,i.chijiStart=0,i.chijiGlobals=0,i.chijiUses=0,i.lastGlobal=0,i.efGcd=0,i.checkForSckDamage=-1,i.active=i.selectedCombatant.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id),i.active?(i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUST_OF_MISTS_CHIJI),i.handleGust),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ENVELOPING_BREATH),i.handleEnvelopingBreath),i.addEventListener(g.f.cast.by(v.a).spell(m.a.ENVELOPING_MIST),i.handleEnvelopCast),i.addEventListener(g.f.cast.by(v.a).spell(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT),i.handleChijiStart),i.addEventListener(g.f.death.to(v.a),i.handleChijiDeath),i.addEventListener(g.f.death.to(v.b),i.handleChijiDeath),i.addEventListener(g.f.damage.by(v.a).spell([m.a.BLACKOUT_KICK,m.a.RISING_SUN_KICK_SECOND,m.a.BLACKOUT_KICK_TOTM,m.a.SPINNING_CRANE_KICK_DAMAGE]),i.handleStackGenerator),i.addEventListener(g.f.GlobalCooldown.by(v.a).spell(m.a.SPINNING_CRANE_KICK),i.handleSpinningCraneKick),i.addEventListener(g.f.GlobalCooldown.by(v.a),i.handleGlobal),i.addEventListener(g.f.EndChannel.by(v.a).spell(m.a.ESSENCE_FONT),i.handleEssenceFontEnd),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"handleChijiStart",value:function(e){this.chijiActive=!0,this.chijiStart=this.lastGlobal=e.timestamp,this.chijiGlobals+=1,this.chijiUses+=1}},{key:"handleChijiDeath",value:function(e){this.chijiActive=!1}},{key:"handleGlobal",value:function(e){this.chijiActive&&(this.chijiGlobals+=1,e.ability.guid===m.a.ESSENCE_FONT.id&&this.selectedCombatant.hasBuff(m.a.WEAPONS_OF_ORDER_BUFF_AND_HEAL.id)?this.efGcd=e.duration:e.timestamp-this.lastGlobal>e.duration&&(this.missedGlobals+=(e.timestamp-this.lastGlobal-e.duration)/e.duration),this.lastGlobal=e.timestamp)}},{key:"handleEssenceFontEnd",value:function(e){this.chijiActive&&this.selectedCombatant.hasBuff(m.a.WEAPONS_OF_ORDER_BUFF_AND_HEAL.id)&&(e.duration>this.efGcd?this.lastGlobal=e.timestamp-this.efGcd:this.lastGlobal=e.start+this.efGcd)}},{key:"handleGust",value:function(e){this.gustHealing+=(e.amount||0)+(e.absorbed||0)}},{key:"handleEnvelopingBreath",value:function(e){this.envelopHealing+=(e.amount||0)+(e.absorbed||0)}},{key:"handleStackGenerator",value:function(e){this.chijiActive&&(e.ability.guid===m.a.SPINNING_CRANE_KICK_DAMAGE.id?this.checkForSckDamage>e.timestamp&&(this.stackCount(),this.checkForSckDamage=-1):this.stackCount())}},{key:"handleSpinningCraneKick",value:function(e){this.chijiActive&&(this.checkForSckDamage=e.duration+this.lastGlobal)}},{key:"handleEnvelopCast",value:function(e){(this.chijiActive||this.selectedCombatant.hasBuff(m.a.INVOKE_CHIJI_THE_RED_CRANE_BUFF.id))&&(3===this.chijiStackCount?this.freeCasts+=1:this.chijiStackCount<3&&(this.castsBelowMaxStacks+=1),this.chijiStackCount=0)}},{key:"stackCount",value:function(){3===this.chijiStackCount?this.wastedStacks+=1:this.chijiStackCount+=1}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(50),category:re.a.TALENTS,size:"flexible",tooltip:G.a.createElement(We.Trans,{id:"monk.mistweaver.modules.talents.invokeChiJi.breakdown",values:{0:Object(R.d)(this.gustHealing),1:Object(R.d)(this.envelopHealing),2:Object(R.d)(this.freeCasts),3:Object(R.d)(this.castsBelowMaxStacks),4:Object(R.d)(this.wastedStacks),5:(this.chijiGlobals/this.chijiUses).toFixed(2),MAX_STACKS:3},components:[G.a.createElement("ul",null),G.a.createElement("li",null),G.a.createElement("li",null),G.a.createElement("ul",null),G.a.createElement("li",null),G.a.createElement("li",null),G.a.createElement("li",null),G.a.createElement("ul",null),G.a.createElement("li",null)]})},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id}))},G.a.createElement(G.a.Fragment,null,G.a.createElement(ht.a,{amount:this.gustHealing+this.envelopHealing}),G.a.createElement("br",null),G.a.createElement(We.Trans,{id:"monk.mistweaver.modules.talents.invokeChiJi.missedGCDs",values:{0:Object(R.d)(this.missedGlobals)}}))))}}]),a}(v.c),ft=a(754),vt=[m.a.ENVELOPING_MIST.id],Tt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).risingMistCount=0,e.risingMists=[],e.efsExtended=0,e.remCount=0,e.efCount=0,e.evmCount=0,e.targetCount=0,e.trackUplift=!1,e.extraVivCleaves=0,e.extraVivHealing=0,e.extraVivOverhealing=0,e.extraVivAbsorbed=0,e.extraEnvHits=0,e.extraEnvBonusHealing=0,e.extraMasteryHits=0,e.extraMasteryhealing=0,e.extraMasteryOverhealing=0,e.extraMasteryAbsorbed=0,e.masteryTickTock=!1,e.extraEFhealing=0,e.extraEFOverhealing=0,e.extraEFAbsorbed=0,e.active=e.selectedCombatant.hasTalent(m.a.RISING_MIST_TALENT.id),e.evmHealingIncrease=e.selectedCombatant.hasTalent(m.a.MIST_WRAP_TALENT.id)?.4:.3,e.active?(e.addEventListener(g.f.cast.by(v.a).spell(m.a.RISING_SUN_KICK),e.extendHots),e.addEventListener(g.f.heal.by(v.a).spell(m.a.VIVIFY),e.handleVivify),e.addEventListener(g.f.heal.by(v.a),e.calculateEvn),e.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),e.handleMastery),e):Object(Q.a)(e)}return Object(h.a)(a,[{key:"averageExtension",get:function(){return 0===this.risingMistCount?0:this.risingMists.reduce((function(e,t){return e+t.duration}),0)/this.risingMistCount/1e3}},{key:"hotHealing",get:function(){for(var e=this.hotTracker.hotHistory,t=0,a=0;a<e.length;a+=1)t+=e[a].healingAfterOriginalEnd||0;return t}},{key:"directHealing",get:function(){return this.abilityTracker.getAbility(m.a.RISING_MIST_HEAL.id).healingEffective}},{key:"totalHealing",get:function(){return this.hotHealing+this.directHealing+this.extraMasteryhealing+this.extraVivHealing+this.extraEnvBonusHealing}},{key:"averageHealing",get:function(){return 0===this.risingMistCount?0:this.totalHealing/this.risingMistCount}},{key:"averageTargetsPerRM",get:function(){return this.targetCount/this.risingMistCount||0}},{key:"calculateVivOverHealing",get:function(){return Object(R.e)(this.extraVivOverhealing/(this.extraVivHealing+this.extraVivOverhealing))}},{key:"calculateMasteryOverHealing",get:function(){return Object(R.e)(this.extraMasteryOverhealing/(this.extraMasteryhealing+this.extraMasteryOverhealing))}},{key:"calculateEFOverHealing",get:function(){return Object(R.e)(this.extraEFOverhealing/(this.extraEFhealing+this.extraEFOverhealing))}}]),Object(h.a)(a,[{key:"handleMastery",value:function(e){var t=e.targetID;this.hotTracker.hots[t]&&this.hotTracker.hots[t][m.a.ESSENCE_FONT_BUFF.id]&&(this.hotTracker.hots[t][m.a.ESSENCE_FONT_BUFF.id].originalEnd<e.timestamp&&(this.masteryTickTock||(this.extraMasteryHits+=1,this.extraMasteryhealing+=e.amount||0,this.extraMasteryOverhealing+=e.overheal||0,this.extraMasteryAbsorbed+=e.absorbed||0),this.masteryTickTock=!this.masteryTickTock))}},{key:"calculateEvn",value:function(e){var t=e.targetID,a=e.ability.guid;if(this.hotTracker.hots[t]&&this.hotTracker.hots[t][m.a.ENVELOPING_MIST.id]){var n=this.hotTracker.hots[t][m.a.ENVELOPING_MIST.id];vt.includes(a)||n.originalEnd<e.timestamp&&(this.extraEnvHits+=1,this.extraEnvBonusHealing+=Object(Pe.a)(e,this.evmHealingIncrease))}}},{key:"handleVivify",value:function(e){var t=e.targetID;if(this.hotTracker.hots[t]&&this.hotTracker.hots[t][m.a.RENEWING_MIST_HEAL.id]){var a=this.hotTracker.hots[t][m.a.RENEWING_MIST_HEAL.id];a.originalEnd<e.timestamp&&e.timestamp<a.end&&(this.extraVivCleaves+=1,this.extraVivHealing+=e.amount||0,this.extraVivOverhealing+=e.overheal||0,this.extraVivAbsorbed+=e.absorbed||0)}}},{key:"extendHots",value:function(e){var t=this,a=e.ability.guid;if(m.a.RISING_SUN_KICK.id===a){this.risingMistCount+=1;var n={name:"RisingMist #".concat(this.risingMistCount),healing:0,procs:0,duration:0};this.risingMists.push(n);var i=!1,s=!1;Object.keys(this.hotTracker.hots).forEach((function(a){Object.keys(t.hotTracker.hots[a]).forEach((function(r){var l=Number(r),o=n;t.hotTracker.addExtension(o,4e3,a,l,e.timestamp),l===m.a.ESSENCE_FONT_BUFF.id?(i=!0,s=!0,t.efCount+=1):l===m.a.RENEWING_MIST_HEAL.id?(s=!0,t.remCount+=1):l===m.a.ENVELOPING_MIST.id&&(s=!0,t.evmCount+=1)}))})),i&&(this.efsExtended+=1),s&&(this.targetCount+=1)}}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(10),size:"flexible",category:re.a.TALENTS,tooltip:G.a.createElement(G.a.Fragment,null,"Your ",this.risingMistCount," Rising Sun Kick casts contributed the following healing:",G.a.createElement("ul",null,G.a.createElement("li",null,"HoT Extension Healing: ",Object(R.d)(this.hotHealing)),G.a.createElement("li",null,"Rising Mist Direct Healing: ",Object(R.d)(this.directHealing)),G.a.createElement("li",null,"Average HoT Extension Seconds per cast: ",this.averageExtension.toFixed(2)),G.a.createElement("ul",null,G.a.createElement("li",null,"Essense Font HoTs Extended: ",this.efCount),G.a.createElement("li",null,"Renewing Mist HoTs Extended: ",this.remCount),G.a.createElement("li",null,"Enveloping Mist HoTs Extended: ",this.evmCount)),"Vivify",G.a.createElement("ul",null,G.a.createElement("li",null,"Extra Cleaves: ",this.extraVivCleaves),G.a.createElement("li",null,"Extra Healing: ",Object(R.d)(this.extraVivHealing)," (",this.calculateVivOverHealing,"% Overhealing)")),"Enveloping Mist",G.a.createElement("ul",null,G.a.createElement("li",null,"Extra Hits: ",this.extraEnvHits),G.a.createElement("li",null,"Extra Healing: ",Object(R.d)(this.extraEnvBonusHealing))),"Mastery",G.a.createElement("ul",null,G.a.createElement("li",null,"Extra Hits: ",this.extraMasteryHits),G.a.createElement("li",null,"Extra Healing: ",Object(R.d)(this.extraMasteryhealing)," (",this.calculateMasteryOverHealing,"% Overhealing)"))))},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.RISING_MIST_TALENT.id})," Healing Contributed")},G.a.createElement(G.a.Fragment,null,Object(R.e)(this.owner.getPercentageOfTotalHealingDone(this.totalHealing)),"% total healing")))}}]),a}(v.c);Tt.dependencies={hotTracker:y,abilityTracker:ce.a,spellUsable:ft.b};var bt=Tt,pt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalRSKCasts=0,i.firstRSKTimestamp=0,i.lastRSKTimestamp=0,i.active=i.selectedCombatant.hasTalent(m.a.RISING_MIST_TALENT.id),i.active?(i.addEventListener(g.f.cast.by(v.a).spell(m.a.RISING_SUN_KICK),i.onRSK),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"onRSK",value:function(e){0===this.totalRSKCasts?this.firstRSKTimestamp=e.timestamp:this.lastRSKTimestamp=e.timestamp,this.totalRSKCasts+=1}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.TALENTS},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.RISING_SUN_KICK.id})," Average Time Between Rising Sun Kick casts")},G.a.createElement(G.a.Fragment,null,this.averageTimeBetweenRSKSeconds," ",G.a.createElement("small",null,"Average Time Between"))))}},{key:"rskWindow",get:function(){return this.lastRSKTimestamp-this.firstRSKTimestamp}},{key:"averageTimeBetweenRSKSeconds",get:function(){return 0===this.totalRSKCasts?"Rising Sun Kick was not cast":1===this.totalRSKCasts?"Rising Sun Kick was only cast once":(this.rskWindow/1e3/(this.totalRSKCasts-1)).toFixed(2)+"s"}}]),a}(v.c),yt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalHealing=0,i.totalOverhealing=0,i.totalAbsorbs=0,i.castEF=0,i.extraHots=0,i.extraBolts=0,i.efHotHeal=0,i.efHotOverheal=0,i.boltCount=0,i.totalBolts=0,i.hotMap=new Map,i.masteryTickTock=!1,i.masteryHit=0,i.masteryHealing=0,i.masteryOverhealing=0,i.masteryAbsorbed=0,i.combatants=void 0,i.active=i.selectedCombatant.hasTalent(m.a.UPWELLING_TALENT),i.active?(i.addEventListener(g.f.heal.by(v.a).spell(m.a.ESSENCE_FONT_BUFF),i.efHeal),i.addEventListener(g.f.cast.by(v.a).spell(m.a.ESSENCE_FONT),i.efcast),i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.ESSENCE_FONT_BUFF),i.applyBuff),i.addEventListener(g.f.removebuff.by(v.a).spell(m.a.ESSENCE_FONT_BUFF),i.removeBuff),i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUSTS_OF_MISTS),i.handleMastery),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"efHeal",value:function(e){e.tick?this.hotHeal(e):this.boltHeal(e)}},{key:"hotHeal",value:function(e){var t=e.targetID,a=this.hotMap.get(t);void 0!==a&&this.hotMap.has(t)&&(a.fullCount||e.timestamp-8e3>a.applicationTime)&&(this.efHotHeal+=(e.amount||0)+(e.absorbed||0),this.efHotOverheal+=e.overheal||0)}},{key:"boltHeal",value:function(e){var t=e.targetID;this.totalBolts+=1,this.boltCount>17&&(this.totalHealing+=e.amount||0,this.totalOverhealing+=e.overheal||0,this.totalAbsorbs+=e.absorbed||0,this.extraBolts+=1);var a={fullCount:this.boltCount>17,applicationTime:e.timestamp};this.hotMap.set(t,a),this.boltCount+=1}},{key:"efcast",value:function(e){this.castEF+=1,this.boltCount=0,this.hotMap.clear()}},{key:"applyBuff",value:function(e){this.boltCount>17&&(this.extraHots+=1)}},{key:"removeBuff",value:function(e){this.hotMap.delete(e.targetID)}},{key:"handleMastery",value:function(e){var t=e.targetID;if(this.combatants.players[t]){var a=this.hotMap.get(t);void 0!==a&&this.combatants.players[t].hasBuff(m.a.ESSENCE_FONT_BUFF.id,e.timestamp,0,0,e.sourceID)&&(a.fullCount||e.timestamp-8e3>a.applicationTime)&&(this.masteryTickTock||(this.masteryHit+=1,this.masteryHealing+=e.amount||0,this.masteryOverhealing+=e.overheal||0,this.masteryAbsorbed+=e.absorbed||0),this.masteryTickTock=!this.masteryTickTock)}}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(10),size:"flexible",category:re.a.TALENTS,tooltip:G.a.createElement(G.a.Fragment,null,G.a.createElement("div",null,"Counts healing from extra bolts, healing from the extra 4 second of a hot on a normal bolt (first 18), healing from the full hot on upwelling bolts (post 18), and any mastery event from the hot under the same idea as hot counting"),G.a.createElement("ul",null,G.a.createElement("li",null,"Extra Bolts: ",Object(R.d)(this.extraBolts)),G.a.createElement("li",null,"Extra Bolts Healing: ",Object(R.d)(this.totalHealing)," (",Object(R.e)(this.overhealingBolt),"% overhealing)"),G.a.createElement("li",null,"Extra Hots: ",Object(R.d)(this.extraHots)),G.a.createElement("li",null,"Hots Healing: ",Object(R.d)(this.efHotHeal)," (",Object(R.e)(this.overhealingHot),"% overhealing)"),G.a.createElement("li",null,"Extra Mastery Hits: ",Object(R.d)(this.masteryHit)),G.a.createElement("li",null,"Extra Mastery Healing: ",Object(R.d)(this.masteryHealing)," (",Object(R.e)(this.overhealingMastery),"% overhealing)")))},G.a.createElement(se.a,{label:G.a.createElement(G.a.Fragment,null,G.a.createElement(B.a,{id:m.a.UPWELLING_TALENT.id})," Upwelling Healing")},G.a.createElement(G.a.Fragment,null,Object(R.e)(this.owner.getPercentageOfTotalHealingDone(this.totalHealingAll)),"% Total Healing")))}},{key:"totalHealingAll",get:function(){return this.totalHealing+this.totalAbsorbs+this.efHotHeal+this.masteryHealing+this.masteryAbsorbed}},{key:"overhealingBolt",get:function(){return this.totalOverhealing/(this.totalOverhealing+this.totalHealing)}},{key:"overhealingHot",get:function(){return this.efHotOverheal/(this.efHotHeal+this.efHotOverheal)}},{key:"overhealingMastery",get:function(){return this.masteryOverhealing/(this.masteryHealing+this.masteryOverhealing+this.masteryAbsorbed)}}]),a}(v.c);yt.dependencies={combatants:V.a};var _t=yt,Ot=a(812),St=a(899),It=a(835),Nt=a(851),At=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).healingEfficiencyTracker=void 0,e}return Object(h.a)(a,[{key:"statistic",value:function(){return G.a.createElement(Ot.a,{title:"Mana efficiency",explanation:G.a.createElement(G.a.Fragment,null,G.a.createElement(P.a,{id:m.a.GUSTS_OF_MISTS.id})," healing is added to the appropriate spell that caused the gust. ",G.a.createElement("br",null)," ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," is given the healing from duplicated gusts, since without ",G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id})," the second gust would not have happened. ",G.a.createElement("br",null)," ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id})," is given the splash healing of ",G.a.createElement(P.a,{id:m.a.VIVIFY.id}),"'s heal since without ",G.a.createElement(P.a,{id:m.a.RENEWING_MIST.id}),", ",G.a.createElement(P.a,{id:m.a.VIVIFY.id})," wouldn't have splashed. ",G.a.createElement("br",null)," ",G.a.createElement(P.a,{id:m.a.ENVELOPING_MIST.id})," is given the healing of ",G.a.createElement(P.a,{id:m.a.ENVELOPING_BREATH.id})," since without casting ",G.a.createElement(P.a,{id:m.a.ENVELOPING_MIST.id}),", ",G.a.createElement(P.a,{id:m.a.ENVELOPING_BREATH.id})," healing would not occur."),pad:!1,position:120},G.a.createElement(Nt.a,{tracker:this.healingEfficiencyTracker}))}}]),a}(St.a);At.dependencies={healingEfficiencyTracker:It.a};var Ct=At,Ht=a(793),Lt=a(834),Rt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).manaTracker=void 0,e.abilityTracker=void 0,e.healingDone=void 0,e.damageDone=void 0,e.castEfficiency=void 0,e.abilities=void 0,e.essenceFont=void 0,e.essenceFontMastery=void 0,e.envelopingMists=void 0,e.soothingMist=void 0,e.renewingMist=void 0,e.vivify=void 0,e.refreshingJadeWind=void 0,e.expelHarm=void 0,e}return Object(h.a)(a,[{key:"getCustomSpellStats",value:function(e,t){return t===m.a.ESSENCE_FONT.id?e=this.getEssenceFontDetails(e):t===m.a.ENVELOPING_MIST.id?e=this.getEnvelopingMistsDetails(e):t===m.a.SOOTHING_MIST.id?e=this.getSoothingMistDetails(e):t===m.a.RENEWING_MIST.id?e=this.getRenewingMistDetails(e):t===m.a.VIVIFY.id?e=this.getVivifyDetails(e):t===m.a.REFRESHING_JADE_WIND_TALENT.id?e=this.getRefreshingJadeWindDetails(e):t===m.a.RISING_SUN_KICK.id?e=this.getRisingSunKickDetails(e):t===m.a.INVOKE_YULON_THE_JADE_SERPENT.id?e=this.getYulonDetails(e):t===m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id?e=this.getChijiDetails(e):t===m.a.EXPEL_HARM.id&&(e=this.getExpelHarmDetails(e)),e}},{key:"getSoothingMistDetails",value:function(e){return e.manaSpent=this.soothingMist.soomTicks*m.a.SOOTHING_MIST.manaCost,e.healingDone=e.healingDone+this.soothingMist.gustsHealing,e}},{key:"getEnvelopingMistsDetails",value:function(e){return e.healingDone=e.healingDone+this.envelopingMists.gustsHealing+this.envelopingMists.healingIncrease,e.healingDone+=this.healingDone.byAbility(m.a.ENVELOPING_BREATH.id).effective,e.overhealingDone+=this.healingDone.byAbility(m.a.ENVELOPING_BREATH.id).overheal,e}},{key:"getEssenceFontDetails",value:function(e){return e.healingDone=this.essenceFont.totalHealing+this.essenceFontMastery.healing+this.essenceFont.totalAbsorbs,e.overhealingDone=this.essenceFont.totalOverhealing,e.healingHits=this.essenceFont.targetsEF,e}},{key:"getRenewingMistDetails",value:function(e){return e.healingDone=this.renewingMist.totalHealing+this.vivify.remVivifyHealing+this.renewingMist.gustsHealing+this.renewingMist.totalAbsorbs,e.overhealingDone=this.renewingMist.totalOverhealing,e.healingHits=this.renewingMist.healingHits,e}},{key:"getVivifyDetails",value:function(e){return e.healingDone=e.healingDone+this.vivify.gustsHealing-this.vivify.remVivifyHealing,e}},{key:"getRefreshingJadeWindDetails",value:function(e){return e.healingDone=this.refreshingJadeWind.healingRJW,e.overhealingDone=this.refreshingJadeWind.overhealingRJW,e}},{key:"getRisingSunKickDetails",value:function(e){return e.healingDone=this.healingDone.byAbility(m.a.RISING_MIST_HEAL.id).effective,e.overhealingDone=this.healingDone.byAbility(m.a.RISING_MIST_HEAL.id).overheal,e}},{key:"getYulonDetails",value:function(e){return e.healingDone=this.healingDone.byAbility(m.a.SOOTHING_BREATH.id).effective,e.overhealingDone=this.healingDone.byAbility(m.a.SOOTHING_BREATH.id).overheal,e}},{key:"getChijiDetails",value:function(e){return e.healingDone=this.healingDone.byAbility(m.a.GUST_OF_MISTS_CHIJI.id).effective,e.overhealingDone=this.healingDone.byAbility(m.a.GUST_OF_MISTS_CHIJI.id).overheal,e}},{key:"getExpelHarmDetails",value:function(e){return e.healingDone=e.healingDone+this.expelHarm.gustsHealing+this.expelHarm.selfHealing+this.expelHarm.targetHealing,e.overhealingDone=e.overhealingDone+this.expelHarm.selfOverheal+this.expelHarm.targetOverheal,e}}]),a}(It.a);Rt.dependencies={manaTracker:Se.a,abilityTracker:ce.a,healingDone:Ht.a,damageDone:Lt.a,castEfficiency:z.a,abilities:I.a,essenceFont:Z,essenceFontMastery:W,envelopingMists:at,soothingMist:we,renewingMist:nt,vivify:Te,refreshingJadeWind:$,expelHarm:it};var kt=Rt,Ft=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).essenceFontMastery=void 0,e.essenceFont=void 0,e}return Object(h.a)(a,[{key:"renderEssenceFontChart",value:function(){var e=[{color:"#00bbcc",label:"Bolt",spellId:m.a.ESSENCE_FONT.id,value:this.essenceFont.totalHealing+this.essenceFont.totalAbsorbs,valueTooltip:Object(R.f)(this.essenceFont.totalHealing+this.essenceFont.totalAbsorbs)},{color:"#f37735",label:"Hot",spellId:m.a.ESSENCE_FONT_BUFF.id,value:this.essenceFont.efHotHeal,valueTooltip:Object(R.f)(this.essenceFont.efHotHeal)},{color:"#00b159",label:"Mastery",spellId:m.a.GUSTS_OF_MISTS.id,value:this.essenceFontMastery.healing,valueTooltip:Object(R.f)(this.essenceFontMastery.healing)}];return G.a.createElement(ge.a,{items:e})}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:Ee.a.CORE(20),size:"flexible"},G.a.createElement("div",{className:"pad"},G.a.createElement("label",null,G.a.createElement(P.a,{id:m.a.ESSENCE_FONT.id},"Essence Font")," breakdown"),this.renderEssenceFontChart()))}}]),a}(v.c);Ft.dependencies={essenceFontMastery:W,essenceFont:Z};var Mt=Ft,jt=a(917),Dt=a(889),wt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).healing=0,e.resourceReturned=0,e.healingBoost=0,e.active=!1,e.active?(e.healingBoost=.1,e.addEventListener(g.f.heal.by(v.a).spell(m.a.VIVIFY),e.vivifyBoost),e.addEventListener(g.f.energize.by(v.a).spell([m.a.GROUNDING_BREATH_MANA_RETURN,m.a.GROUNDING_BREATH_ENERGY_RETURN]),e.onResourceRefund),e):Object(Q.a)(e)}return Object(h.a)(a,[{key:"vivifyBoost",value:function(e){e.targetID===e.sourceID&&(this.healing+=Object(Pe.a)(e,this.healingBoost)||0)}},{key:"onResourceRefund",value:function(e){this.resourceReturned+=e.resourceChange}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement(Ge.a,{spell:m.a.GROUNDING_BREATH},G.a.createElement(Dt.a,{amount:this.resourceReturned}),G.a.createElement(ht.a,{amount:this.healing}),G.a.createElement("br",null)))}}]),a}(v.c),Gt=a(751),Pt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).healingIncrease=0,e.healingBoost=0,e.bonusDamage=0,e.active=!1,e.active?(e.healingBoost=.2,e.addEventListener(g.f.heal.by(v.a).spell([m.a.EXPEL_HARM,m.a.EXPEL_HARM_TARGET_HEAL]),e.extraHealing),e):Object(Q.a)(e)}return Object(h.a)(a,[{key:"extraHealing",value:function(e){var t=Object(Pe.a)(e,this.healingBoost)||0;this.healingIncrease+=t,this.bonusDamage+=.1*t}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement(Ge.a,{spell:m.a.HARM_DENIAL},G.a.createElement(Gt.a,{amount:this.bonusDamage}),G.a.createElement("br",null),G.a.createElement(ht.a,{amount:this.healingIncrease})))}}]),a}(v.c),Bt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).active=!1,e.active?e:Object(Q.a)(e)}return Object(h.a)(a,[{key:"statistic",value:function(){var e=this.healingDone.byAbility(m.a.FORTIFYING_INGREDIENTS.id).effective;return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement(Ge.a,{spell:m.a.FORTIFYING_INGREDIENTS},G.a.createElement(ht.a,{amount:e})))}}]),a}(v.c);Bt.dependencies={healingDone:Ht.a};var xt=Bt,Vt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).cooldownReductionUsed=0,i.cooldownReductionWasted=0,i.spellToReduce=m.a.INVOKE_YULON_THE_JADE_SERPENT,i.healingBoost=0,i.healing=0,i.conduitRank=0,i.spellUsable=void 0,i.healingDone=void 0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(m.a.JADE_BOND.id),i.conduitRank?(i.healingBoost=ne(.0625,i.conduitRank),i.addEventListener(g.f.cast.by(v.a).spell([m.a.EXPEL_HARM,m.a.VIVIFY,m.a.RENEWING_MIST,m.a.ENVELOPING_MIST]),i.gustProcingSpell),i.selectedCombatant.hasTalent(m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT.id)?(i.spellToReduce=m.a.INVOKE_CHIJI_THE_RED_CRANE_TALENT,i.addEventListener(g.f.heal.by(v.a).spell(m.a.GUST_OF_MISTS_CHIJI),i.normalizeBoost)):i.addEventListener(g.f.heal.by(v.b).spell(m.a.SOOTHING_BREATH),i.normalizeBoost),i):(i.active=!1,Object(Q.a)(i))}return Object(h.a)(a,[{key:"gustProcingSpell",value:function(e){this.spellUsable.isOnCooldown(this.spellToReduce.id)?this.cooldownReductionUsed+=this.spellUsable.reduceCooldown(this.spellToReduce.id,300):this.cooldownReductionWasted+=300}},{key:"normalizeBoost",value:function(e){this.healing+=Object(Pe.a)(e,this.healingBoost)}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS,tooltip:G.a.createElement(G.a.Fragment,null,"Effective Cooldown Reduction: ",Object(R.d)(this.cooldownReductionUsed/1e3)," Seconds",G.a.createElement("br",null),"Wasted Cooldown Reduction: ",Object(R.d)(this.cooldownReductionWasted/1e3)," Seconds")},G.a.createElement(Ge.a,{spell:m.a.JADE_BOND},G.a.createElement(ht.a,{amount:this.healing}),G.a.createElement("br",null)))}}]),a}(v.c);Vt.dependencies={spellUsable:ft.b,healingDone:Ht.a};var Ut=Vt,Kt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).healing=0,i.boost=0,i.conduitRank=0,i.combatants=void 0,i.conduitRank=i.selectedCombatant.conduitRankBySpellID(m.a.NOURISHING_CHI.id),i.conduitRank?(i.boost=ne(.1875,i.conduitRank),i.addEventListener(g.f.heal,i.heal),i):(i.active=!1,Object(Q.a)(i))}return Object(h.a)(a,[{key:"heal",value:function(e){if(e.tick){var t=this.combatants.players[e.targetID];if(t){if(t.hasBuff(m.a.LIFE_COCOON.id,e.timestamp,0,0)){var a=((e.amount||0)+(e.absorbed||0)+(e.overheal||0))/(1.5+this.boost),n=a*this.boost,i=Math.max(0,n-(e.overheal||0));this.healing+=i}t.hasBuff(m.a.NOURISHING_CHI_BUFF.id,e.timestamp,0,0)&&(this.healing+=Object(Pe.a)(e,this.boost))}}}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement(Ge.a,{spell:m.a.NOURISHING_CHI},G.a.createElement(ht.a,{amount:this.healing}),G.a.createElement("br",null)))}}]),a}(v.c);Kt.dependencies={combatants:V.a};var Wt=Kt,Yt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).cooldownReductionUsed=0,i.cooldownReductionWasted=0,i.spellUsable=void 0,i.healingDone=void 0,i.selectedCombatant.conduitRankBySpellID(m.a.RISING_SUN_REVIVAL.id)?(i.addEventListener(g.f.cast.by(v.a).spell(m.a.RISING_SUN_KICK),i.rskCast),i):(i.active=!1,Object(Q.a)(i))}return Object(h.a)(a,[{key:"rskCast",value:function(e){this.spellUsable.isOnCooldown(m.a.REVIVAL.id)?this.cooldownReductionUsed+=this.spellUsable.reduceCooldown(m.a.REVIVAL.id,1e3):this.cooldownReductionWasted+=1e3}},{key:"statistic",value:function(){var e=this.healingDone.byAbility(m.a.RISING_SUN_REVIVAL_HEAL.id).effective;return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS,tooltip:G.a.createElement(G.a.Fragment,null,"Effective Cooldown Reduction: ",Object(R.d)(this.cooldownReductionUsed/1e3)," Seconds",G.a.createElement("br",null),"Wasted Cooldown Reduction: ",Object(R.d)(this.cooldownReductionWasted/1e3)," Seconds")},G.a.createElement(Ge.a,{spell:m.a.RISING_SUN_REVIVAL},G.a.createElement(ht.a,{amount:e}),G.a.createElement("br",null)))}}]),a}(v.c);Yt.dependencies={spellUsable:ft.b,healingDone:Ht.a};var Jt=Yt,zt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).boost=0,e.healing=0,e.damage=0,e.cloneIDs=new Set,e.active=!1,e.boost=.29,e.active?(e.addEventListener(g.f.summon.by(v.a).spell([m.a.FALLEN_ORDER_OX_CLONE,m.a.FALLEN_ORDER_TIGER_CLONE,m.a.FALLEN_ORDER_CRANE_CLONE]),e.trackSummons),e.addEventListener(g.f.heal.by(v.b).spell([m.a.FALLEN_ORDER_ENVELOPING_MIST,m.a.FALLEN_ORDER_SOOTHING_MIST]),e.normalizeHealingBoost),e.addEventListener(g.f.damage.by(v.b).spell([m.a.FALLEN_ORDER_KEG_SMASH,m.a.FALLEN_ORDER_BREATH_OF_FIRE,m.a.BREATH_OF_FIRE_DEBUFF]),e.normalizeDamageBoost),e.addEventListener(g.f.damage.by(v.b).spell([m.a.FALLEN_ORDER_SPINNING_CRANE_KICK,m.a.FISTS_OF_FURY_DAMAGE]),e.normalizeDamageBoost),e.addEventListener(g.f.damage.by(v.b).spell(m.a.MELEE),e.handleMelee),e):Object(Q.a)(e)}return Object(h.a)(a,[{key:"trackSummons",value:function(e){this.cloneIDs.add(e.targetID)}},{key:"normalizeHealingBoost",value:function(e){this.healing+=Object(Pe.a)(e,this.boost)}},{key:"normalizeDamageBoost",value:function(e){var t=e.amount,a=t-t/(1+this.boost)||0;this.damage+=a}},{key:"handleMelee",value:function(e){this.cloneIDs.has(e.sourceID)&&this.normalizeDamageBoost(e)}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement(Ge.a,{spell:m.a.IMBUED_REFLECTIONS},G.a.createElement(ht.a,{amount:this.healing}),G.a.createElement("br",null),G.a.createElement(Gt.a,{amount:this.damage})))}}]),a}(v.c),qt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).vivHealing=0,i.envHealing=0,i.envbHealing=0,i.numberOExtendLifes=0,i.active=!1,i.active?(i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.TEAR_OF_MORNING_BUFF),i.manageBuffApplied),i.addEventListener(g.f.removebuff.by(v.a).spell(m.a.TEAR_OF_MORNING_BUFF),i.manageBuffRemoved),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ENVELOPING_MIST),i.envelopingMistHealing),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ENVELOPING_BREATH),i.envelopingBreathHealing),i.addEventListener(g.f.heal.by(v.a).spell(m.a.VIVIFY),i.vivifyHealing),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"manageBuffApplied",value:function(e){this.numberOExtendLifes+=1}},{key:"manageBuffRemoved",value:function(e){this.numberOExtendLifes-=1}},{key:"envelopingMistHealing",value:function(e){this.envHealing+=.25*((e.amount||0)+(e.absorbed||0)+(e.overheal||0))*this.numberOExtendLifes}},{key:"envelopingBreathHealing",value:function(e){this.envbHealing+=.25*((e.amount||0)+(e.absorbed||0)+(e.overheal||0))*this.numberOExtendLifes}},{key:"vivifyHealing",value:function(e){this.vivHealing+=.25*((e.amount||0)+(e.absorbed||0)+(e.overheal||0))*this.numberOExtendLifes}},{key:"renderDonutChart",value:function(){var e=this.vivHealing+this.envHealing+this.envbHealing,t=this.vivHealing/e,a=this.envHealing/e,n=this.envbHealing/e,i=[{color:"#00b159",label:"Vivify",spellId:m.a.VIVIFY.id,value:t,valueTooltip:Object(R.f)(this.vivHealing)},{color:"#f37735",label:"Enveloping Mist",spellId:m.a.ENVELOPING_MIST.id,value:a,valueTooltip:Object(R.f)(this.envHealing)},{color:"#db00db",label:"Enveloping Breath",spellId:m.a.ENVELOPING_BREATH.id,value:n,valueTooltip:Object(R.f)(this.envbHealing)}];return G.a.createElement(ge.a,{items:i})}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement("div",{className:"pad"},G.a.createElement("label",null,G.a.createElement(P.a,{id:m.a.TEAR_OF_MORNING_BUFF.id},"Tear of Morning")," breakdown"),this.renderDonutChart()))}}]),a}(v.c),Xt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).damageSpellToHealing=new Map,i.lastDamageSpellID=0,i.active=!1,i.active?(i.addEventListener(g.f.damage.by(v.a).spell([m.a.RISING_SUN_KICK_SECOND,m.a.BLACKOUT_KICK,m.a.BLACKOUT_KICK_TOTM,m.a.TIGER_PALM]),i.lastDamageEvent),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ANCIENT_TEACHINGS_OF_THE_MONASTERY_HEAL),i.calculateEffectiveHealing),i.addEventListener(g.f.heal.by(v.a).spell(m.a.ANCIENT_TEACHINGS_OF_THE_MONASTERY_CRIT_HEAL),i.calculateEffectiveHealing),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"lastDamageEvent",value:function(e){this.selectedCombatant.hasBuff(m.a.ANCIENT_TEACHINGS_OF_THE_MONASTERY_BUFF.id)&&(this.lastDamageSpellID=e.ability.guid,this.damageSpellToHealing.has(this.lastDamageSpellID)||this.damageSpellToHealing.set(this.lastDamageSpellID,0))}},{key:"calculateEffectiveHealing",value:function(e){var t=(e.amount||0)+(e.absorbed||0),a=this.damageSpellToHealing.get(this.lastDamageSpellID)||0;this.damageSpellToHealing.set(this.lastDamageSpellID,t+a)}},{key:"renderDonutChart",value:function(){var e=this.damageSpellToHealing.get(m.a.RISING_SUN_KICK_SECOND.id)||0,t=this.damageSpellToHealing.get(m.a.BLACKOUT_KICK.id)||0,a=this.damageSpellToHealing.get(m.a.BLACKOUT_KICK_TOTM.id)||0,n=this.damageSpellToHealing.get(m.a.TIGER_PALM.id)||0,i=e+t+a+n,s=[{color:"#ffc425",label:"Rising Sun Kick",spellId:m.a.RISING_SUN_KICK.id,value:e/i,valueTooltip:Object(R.f)(e)},{color:"#7500db",label:"Blackout Kick",spellId:m.a.BLACKOUT_KICK.id,value:t/i,valueTooltip:Object(R.f)(t)},{color:"#db00db",label:"Teachings of the Monastery",spellId:m.a.BLACKOUT_KICK_TOTM.id,value:a/i,valueTooltip:Object(R.f)(a)},{color:"#00b159",label:"Tiger Palm",spellId:m.a.TIGER_PALM.id,value:n/i,valueTooltip:Object(R.f)(n)}];return G.a.createElement(ge.a,{items:s})}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement("div",{className:"pad"},G.a.createElement("label",null,G.a.createElement(P.a,{id:m.a.ANCIENT_TEACHINGS_OF_THE_MONASTERY_HEAL.id},"Ancient Teachings of the Monastery")," breakdown"),this.renderDonutChart()))}}]),a}(v.c),Zt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).manaSaved=0,i.healingDone=0,i.stacks=0,i.active=!1,i.active?(i.addEventListener(g.f.applybuff.by(v.a).spell(m.a.CLOUDED_FOCUS_BUFF),i.applybuff),i.addEventListener(g.f.applybuffstack.by(v.a).spell(m.a.CLOUDED_FOCUS_BUFF),i.applyBuffStack),i.addEventListener(g.f.removebuff.by(v.a).spell(m.a.CLOUDED_FOCUS_BUFF),i.removeBuff),i.addEventListener(g.f.cast.by(v.a).spell([m.a.VIVIFY,m.a.ENVELOPING_MIST]),i.calculateManaEffect),i.addEventListener(g.f.heal.by(v.a).spell([m.a.VIVIFY,m.a.ENVELOPING_MIST]),i.calculateHealingEffect),i):Object(Q.a)(i)}return Object(h.a)(a,[{key:"calculateManaEffect",value:function(e){if(!this.selectedCombatant.hasBuff(m.a.INNERVATE.id)){var t=e.rawResourceCost?e.rawResourceCost[0]:0;this.selectedCombatant.hasBuff(m.a.MANA_TEA_TALENT.id)&&(t/=2),this.manaSaved+=t-t/(1+.15*this.stacks)}}},{key:"calculateHealingEffect",value:function(e){this.healingDone+=Object(Pe.a)(e,.15*this.stacks)}},{key:"applybuff",value:function(e){this.stacks=1}},{key:"applyBuffStack",value:function(e){this.stacks=e.stack}},{key:"removeBuff",value:function(e){this.stacks=0}},{key:"statistic",value:function(){return G.a.createElement(ie.a,{position:le.a.OPTIONAL(13),size:"flexible",category:re.a.COVENANTS},G.a.createElement(Ge.a,{spell:m.a.CLOUDED_FOCUS_BUFF},G.a.createElement(ht.a,{amount:this.healingDone}),G.a.createElement("br",null),G.a.createElement(Dt.a,{amount:this.manaSaved})))}}]),a}(v.c),Qt=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);Qt.abilitiesAffectedByHealingIncreases=ae,Qt.specModules={hotApplicationNormalizer:O,hotRemovalNormalizer:S,lowHealthHealing:l.a,channeling:T,globalCooldown:E,hotTrackerMW:y,manaLevelChart:o.a,manaUsageChart:c.a,alwaysBeCasting:D,abilities:N,cooldownThroughputTracker:L,essenceFontMastery:W,checklist:Ke,statValues:Ze,evmVivCastRatio:$e,masteryStats:rt,buffs:ct,essenceFontHealingBreakDown:Mt,averageTimeBetweenRSKSs:pt,essenceFont:Z,thunderFocusTea:fe,envelopingMists:at,soothingMist:we,spinningCraneKick:ye,vivify:Te,renewingMist:nt,lifeCocoon:dt,touchOfDeath:mt.a,invokeYulon:Et,expelHarm:it,envelopingBreath:xe,chiBurst:te,manaTea:de,refreshingJadeWind:$,lifecycles:me,spiritOfTheCrane:oe,risingMist:bt,jadeSerpentStatue:Oe,renewingMistDuringManaTea:pe,tier45Comparison:Ne,upwelling:_t,invokeChiJi:gt,manaTracker:Se.a,hpmDetails:Ct,hpmTracker:kt,fallenOrder:jt.a,groundingBreath:wt,harmDenial:Pt,fortifyingIngredients:xt,jadeBond:Ut,nourishingChi:Wt,risingSunRevival:Jt,imbuedReflections:zt,tearofMorning:qt,ancientTeachingsoftheMonastery:Xt,cloudedFocus:Zt};t.default=Qt},748:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(53),r=a(4);t.a=function(e){var t=e.spell,a=e.children,n=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(n||"")},i.a.createElement("label",null,i.a.createElement(s.a,{id:t.id})," ",i.a.createElement(r.a,{id:t.id,icon:!1})),i.a.createElement("div",{className:"value"},a))}},752:function(e,t,a){"use strict";function n(e,t){var a=(e.amount||0)+(e.absorbed||0);return a-a/(1+t)}a.d(t,"a",(function(){return n}))},761:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=e.label,a=e.children,n=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(n||"")},i.a.createElement("label",null,t),i.a.createElement("div",{className:"value"},a))}},769:function(e,t,a){"use strict";function n(e,t){var a=e.amount,n=e.absorbed||0,i=e.overheal||0,s=a+n+i,r=s-s/(1+t)-i;return Math.max(0,r)}a.d(t,"a",(function(){return n}))},773:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(43),o=a(123),c=a(15),h=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).eventEmitter=void 0,i.current=0,i.resourceUpdates=[],i.buildersObj={},i.spendersObj={},i.resource=void 0,i.maxResource=void 0,i.addEventListener(c.f.energize.to(l.a),i.onEnergize),i.addEventListener(c.f.cast.by(l.a),i.onCast),i}return Object(i.a)(a,[{key:"initBuilderAbility",value:function(e){this.buildersObj[e]={generated:0,wasted:0,casts:0}}},{key:"initSpenderAbility",value:function(e){this.spendersObj[e]={spent:0,spentByCast:[],casts:0}}},{key:"onEnergize",value:function(e){var t=e.ability.guid;if(e.resourceChangeType===this.resource.id){var a=e.waste,n=e.resourceChange-a;this._applyBuilder(t,n,a,this.getResource(e),e.timestamp)}}},{key:"processInvisibleEnergize",value:function(e,t){var a=void 0!==this.maxResource?this.maxResource-this.current:t,n=Math.min(t,a),i=Math.max(t-a,0);this._applyBuilder(e,n,i)}},{key:"_applyBuilder",value:function(e,t,a,n,i){this.buildersObj[e]||this.initBuilderAbility(e),this.buildersObj[e].wasted+=a,this.buildersObj[e].generated+=t,this.buildersObj[e].casts+=1,null!==n&&void 0!==n&&void 0!==n.amount?(this.current=n.amount,void 0!==n.max&&(this.maxResource=n.max)):this.current+=t,this.resourceUpdates.push({timestamp:i,current:this.current,waste:a,generated:t,used:0})}},{key:"onCast",value:function(e){var t=e.ability.guid;if(this.shouldProcessCastEvent(e)){var a=this.getResource(e);if(a){a.max&&(this.maxResource=a.max);var n=this.getReducedCost(e);this.spendersObj[t]||this.initSpenderAbility(t),n&&0!==n&&(this.spendersObj[t].casts+=1,this.spendersObj[t].spentByCast.push(n),n>0&&(this.spendersObj[t].spent+=n),this.current=a.amount-n,this.resourceUpdates.push({timestamp:e.timestamp,current:this.current,waste:0,generated:0,used:a.amount}),this.triggerSpendEvent(n,e))}}}},{key:"getReducedCost",value:function(e){var t;return e.resourceCost&&void 0!==e.resourceCost[this.resource.id]?e.resourceCost[this.resource.id]:null===(t=this.getResource(e))||void 0===t?void 0:t.cost}},{key:"getResource",value:function(e){var t=this;return e.classResources?e.classResources.find((function(e){return e.type===t.resource.id})):void 0}},{key:"triggerSpendEvent",value:function(e,t){var a={type:c.b.SpendResource,timestamp:t.timestamp,sourceID:t.sourceID,targetID:t.targetID,resourceChange:e,resourceChangeType:this.resource.id,ability:t.ability,__fabricated:!0};this.eventEmitter.fabricateEvent(a,t)}},{key:"shouldProcessCastEvent",value:function(e){return Boolean(this.getResource(e))}},{key:"getGeneratedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].generated||0}},{key:"getWastedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].wasted||0}},{key:"getBuilderCastsBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].casts||0}},{key:"generated",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.generated}),0)}},{key:"wasted",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.wasted}),0)}},{key:"spent",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.spent}),0)}},{key:"spendersCasts",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.casts}),0)}}]),a}(l.c);h.dependencies={eventEmitter:o.a},t.a=h},786:function(e,t,a){"use strict";var n=a(27),i=a(0),s=a.n(i),r=a(88),l=a(796),o=a(28);t.a=function(e){var t=e.id,a=e.noLink,i=Object(n.a)(e,["id","noLink"]);var c=r.a[t]||{name:"Spell not recognized",icon:"inv_misc_questionmark"},h=s.a.createElement(o.a,Object.assign({icon:c.icon,alt:c.name},i));return a?h:s.a.createElement(l.a,{id:t,icon:!1},h)}},796:function(e,t,a){"use strict";var n=a(31),i=a(27),s=a(0),r=a.n(s),l=a(81),o=a(88),c=a(786);t.a=function(e){var t=e.icon,a=void 0===t||t,h=Object(i.a)(e,["icon"]),u=Object(s.useState)(null),d=Object(n.a)(u,2),m=d[0],E=d[1];Object(s.useEffect)((function(){l.a.refresh(m)}));var g=h.id,f=h.children,v=h.category,T=void 0===v?void 0:v,b=Object(i.a)(h,["id","children","category"]);return r.a.createElement("a",Object.assign({href:l.a.resource(g),target:"_blank",rel:"noopener noreferrer",className:T,ref:function(e){E(e)}},b),a&&r.a.createElement(c.a,{id:g,noLink:!0})," ",f||o.a[g].name)}},798:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=c(a(0)),l=c(a(37)),o=c(a(395));function c(e){return e&&e.__esModule?e:{default:e}}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var u={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},d=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function m(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;for(var i={},s=Object.keys(e),r=0;r<s.length;r++){var l=s[r];-1===a.indexOf(l)&&(i[l]=e[l])}return i}function E(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function g(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f(e){return"string"===typeof e&&e.search("%")===e.length-1&&g(e.substr(0,e.length-1))}function v(e,t){e&&"function"===typeof e&&e(t)}var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.animationFrameIDs=[];var n="auto",s="visible";g(e.height)?(n=e.height<0||"0"===e.height?0:e.height,s="hidden"):f(e.height)&&(n="0%"===e.height?0:e.height,s="hidden"),a.animationStateClasses=i({},u,e.animationStateClasses);var r=a.getStaticStateClasses(n);return a.state={animationStateClasses:r,height:n,overflow:s,shouldUseTransitions:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props,i=n.delay,s=n.duration,r=n.height,l=n.onAnimationEnd,c=n.onAnimationStart;if(this.contentElement&&r!==e.height){var u;this.showContent(t.height),this.contentElement.style.overflow="hidden";var d=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var m=s+i,T=null,b={height:null,overflow:"hidden"},p="auto"===t.height;g(r)?(T=r<0||"0"===r?0:r,b.height=T):f(r)?(T="0%"===r?0:r,b.height=T):(T=d,b.height="auto",b.overflow=null),p&&(b.height=T,T=d);var y=(0,o.default)((h(u={},this.animationStateClasses.animating,!0),h(u,this.animationStateClasses.animatingUp,"auto"===e.height||r<e.height),h(u,this.animationStateClasses.animatingDown,"auto"===r||r>e.height),h(u,this.animationStateClasses.animatingToHeightZero,0===b.height),h(u,this.animationStateClasses.animatingToHeightAuto,"auto"===b.height),h(u,this.animationStateClasses.animatingToHeightSpecific,b.height>0),u)),_=this.getStaticStateClasses(b.height);this.setState({animationStateClasses:y,height:T,overflow:"hidden",shouldUseTransitions:!p}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),p?(b.shouldUseTransitions=!0,E(this.animationFrameIDs),this.animationFrameIDs=function(e){var t=[];return t[0]=requestAnimationFrame((function(){t[1]=requestAnimationFrame((function(){e()}))})),t}((function(){a.setState(b),v(c,{newHeight:b.height})})),this.animationClassesTimeoutID=setTimeout((function(){a.setState({animationStateClasses:_,shouldUseTransitions:!1}),a.hideContent(b.height),v(l,{newHeight:b.height})}),m)):(v(c,{newHeight:T}),this.timeoutID=setTimeout((function(){b.animationStateClasses=_,b.shouldUseTransitions=!1,a.setState(b),"auto"!==r&&a.hideContent(T),v(l,{newHeight:T})}),m))}}},{key:"componentWillUnmount",value:function(){E(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,o.default)((h(t={},this.animationStateClasses.static,!0),h(t,this.animationStateClasses.staticHeightZero,0===e),h(t,this.animationStateClasses.staticHeightSpecific,e>0),h(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.animateOpacity,s=a.applyInlineTransitions,l=a.children,c=a.className,u=a.contentClassName,E=a.delay,g=a.duration,f=a.easing,v=a.id,T=a.style,b=this.state,p=b.height,y=b.overflow,_=b.animationStateClasses,O=b.shouldUseTransitions,S=i({},T,{height:p,overflow:y||T.overflow});O&&s&&(S.transition="height "+g+"ms "+f+" "+E+"ms",T.transition&&(S.transition=T.transition+", "+S.transition),S.WebkitTransition=S.transition);var I={};n&&(I.transition="opacity "+g+"ms "+f+" "+E+"ms",I.WebkitTransition=I.transition,0===p&&(I.opacity=0));var N=(0,o.default)((h(e={},_,!0),h(e,c,c),e)),A="undefined"!==typeof this.props["aria-hidden"]?this.props["aria-hidden"]:0===p;return r.default.createElement("div",i({},m.apply(void 0,[this.props].concat(d)),{"aria-hidden":A,className:N,id:v,style:S}),r.default.createElement("div",{className:u,style:I,ref:function(e){return t.contentElement=e}},l))}}]),t}(r.default.Component);T.propTypes={"aria-hidden":l.default.bool,animateOpacity:l.default.bool,animationStateClasses:l.default.object,applyInlineTransitions:l.default.bool,children:l.default.any.isRequired,className:l.default.string,contentClassName:l.default.string,delay:l.default.number,duration:l.default.number,easing:l.default.string,height:function(e,t,a){var i=e[t];return"number"===typeof i&&i>=0||f(i)||"auto"===i?null:new TypeError('value "'+i+'" of type "'+("undefined"===typeof i?"undefined":n(i))+'" is invalid type for '+t+" in "+a+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:l.default.string,onAnimationEnd:l.default.func,onAnimationStart:l.default.func,style:l.default.object},T.defaultProps={animateOpacity:!1,animationStateClasses:u,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=T},799:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(0),o=a.n(l),c=a(779),h=a(33),u=a(4),d=a(22),m=(a(817),function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"renderLegend",value:function(e){var t=e.reduce((function(e,t){return e+t.value}),0);return o.a.createElement("div",{className:"legend"},e.map((function(e,a){var n=e.color,i=e.label,s=e.tooltip,r=e.value,l=e.spellId,c=e.valueTooltip;return i=s?o.a.createElement(d.a,{content:s},i):i,i=l?o.a.createElement(u.a,{id:l},i):i,o.a.createElement("div",{key:a,className:"flex"},o.a.createElement("div",{className:"flex-sub"},o.a.createElement("div",{className:"circle",style:{background:n}})),o.a.createElement("div",{className:"flex-main"},i),o.a.createElement("div",{className:"flex-sub"},o.a.createElement(d.a,{content:c||r},Object(h.e)(r/t,0),"%")))})))}},{key:"renderChart",value:function(e,t,a){var n={items:e},i={data:{name:"items"},mark:{type:"arc",innerRadius:t*a},encoding:{theta:{field:"value",type:"quantitative"},color:{field:"label",type:"nominal",legend:null,scale:{domain:e.map((function(e){return e.label})),range:e.map((function(e){return e.color}))}}},view:{stroke:null}};return o.a.createElement("div",{className:"chart"},o.a.createElement(c.a,{width:t,height:t,spec:i,data:n}))}},{key:"render",value:function(){var e=this.props,t=e.items,a=e.chartSize,n=e.innerRadiusFactor;return o.a.createElement("div",{className:"donut-chart"},this.renderLegend(t),this.renderChart(t,a,n))}}]),a}(o.a.PureComponent));m.defaultProps={chartSize:90,innerRadiusFactor:.28},t.a=m},801:function(e,t,a){"use strict";var n=a(27),i=a(0),s=a.n(i),r=a(22),l=(a(858),a(58)),o=a(747);a.d(t,"a",(function(){return o.a}));var c=function(e){var t=e.title,a=e.tooltip,i=e.children,l=e.bodyStyle,o=Object(n.a)(e,["title","tooltip","children","bodyStyle"]);return delete o.category,delete o.position,s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},s.a.createElement("div",Object.assign({className:"panel statistic statistic-box statistic-box-list"},o),t&&s.a.createElement("div",{className:"panel-heading"},s.a.createElement("h2",null,a?s.a.createElement(r.a,{content:a},t):t)),s.a.createElement("div",{className:"panel-body items",style:l},i)))};c.defaultProps={category:l.a.GENERAL},t.b=c},816:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(15),o=a(43),c=(a(33),a(752)),h=a(754),u=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).spellUsable=void 0,i.inExecuteWindow=!1,i.inHealthExecuteWindow=!1,i.executeWindowStart=0,i.lastExecuteHitTimestamp=0,i.totalExecuteWindowDuration=0,i.damage=0,i.casts=0,i.castsWithExecute=0,i.addEventListener(l.f.damage.by(i.executeSources),i.onGeneralDamage),i.addEventListener(l.f.cast.by(i.executeSources).spell(i.executeSpells),i.onExecuteCast),i.addEventListener(l.f.damage.by(i.executeSources).spell(i.executeSpells),i.onExecuteDamage),i.addEventListener(l.f.applybuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.applyExecuteEnablerBuff),i.addEventListener(l.f.removebuff.to(i.executeSources).spell(i.executeOutsideRangeEnablers),i.removeExecuteEnablerBuff),i.addEventListener(l.f.fightend,i.onFightEnd),i}return Object(i.a)(a,[{key:"isTargetInExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints<this.lowerThreshold}},{key:"isTargetInReverseExecuteRange",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&e.hitPoints/e.maxHitPoints>this.upperThreshold}},{key:"isTargetInHealthExecuteWindow",value:function(e){return!(!e.hitPoints||!e.maxHitPoints)&&(this.isTargetInExecuteRange(e)||this.isTargetInReverseExecuteRange(e))}},{key:"isExecuteUsableOutsideExecuteRange",get:function(){var e=this,t=!1;return this.executeOutsideRangeEnablers.forEach((function(a){e.selectedCombatant.hasBuff(a.id)&&(t=!0)})),t}},{key:"areExecuteSpellsOnCD",get:function(){var e=this,t=!0;return this.executeSpells.forEach((function(a){e.spellUsable.isOnCooldown(a.id)||(t=!1)})),t}}]),Object(i.a)(a,[{key:"onGeneralDamage",value:function(e){e.targetIsFriendly||(this.areExecuteSpellsOnCD||this.isExecuteUsableOutsideExecuteRange||this.isTargetInHealthExecuteWindow(e)?(this.lastExecuteHitTimestamp=e.timestamp,this.inExecuteWindow||(this.inExecuteWindow=!0,this.inHealthExecuteWindow=!0,this.executeWindowStart=e.timestamp)):this.inExecuteWindow&&e.timestamp>this.lastExecuteHitTimestamp+500&&(this.inExecuteWindow=!1,this.inHealthExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart))}},{key:"onExecuteCast",value:function(){this.casts+=1,(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.castsWithExecute+=1)}},{key:"onExecuteDamage",value:function(e){(this.inExecuteWindow||this.inHealthExecuteWindow)&&(this.modifiesDamage?this.damage+=Object(c.a)(e,this.damageModifier):this.damage+=e.amount+(e.absorbed||0))}},{key:"applyExecuteEnablerBuff",value:function(e){this.inExecuteWindow||this.inHealthExecuteWindow||(this.executeWindowStart=e.timestamp),this.inExecuteWindow=!0,this.lastExecuteHitTimestamp=e.timestamp}},{key:"removeExecuteEnablerBuff",value:function(e){this.inHealthExecuteWindow||(this.inExecuteWindow=!1,this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart)}},{key:"onFightEnd",value:function(e){this.inExecuteWindow&&(this.totalExecuteWindowDuration+=e.timestamp-this.executeWindowStart,this.inExecuteWindow=!1)}},{key:"executeSources",get:function(){return this.constructor.executeSources}},{key:"executeSpells",get:function(){return this.constructor.executeSpells}},{key:"executeOutsideRangeEnablers",get:function(){return this.constructor.executeOutsideRangeEnablers}},{key:"lowerThreshold",get:function(){return this.constructor.lowerThreshold}},{key:"upperThreshold",get:function(){return this.constructor.upperThreshold}},{key:"modifiesDamage",get:function(){return this.constructor.modifiesDamage}},{key:"damageModifier",get:function(){return this.constructor.damageModifier}},{key:"executeDamage",get:function(){return this.damage}},{key:"totalExecuteDuration",get:function(){return this.totalExecuteWindowDuration}},{key:"totalCasts",get:function(){return this.casts}},{key:"totalExecuteCasts",get:function(){return this.castsWithExecute}}]),a}(o.c);u.dependencies={spellUsable:h.b},u.executeSpells=[],u.executeSources=void 0,u.executeOutsideRangeEnablers=[],u.lowerThreshold=void 0,u.upperThreshold=void 0,u.modifiesDamage=void 0,u.damageModifier=void 0,t.a=u},817:function(e,t,a){},818:function(e,t,a){"use strict";var n=a(8),i=a(10),s=a(11),r=a(88),l=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).maxResource=void 0,i.resource=r.a.MANA,i.maxResource=5e4,i}return a}(a(773).a);t.a=l},835:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(755),o=a(793),c=a(834),h=a(767),u=a(753),d=a(43),m=a(3),E=a(818),g=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).manaTracker=void 0,e.abilityTracker=void 0,e.healingDone=void 0,e.damageDone=void 0,e.castEfficiency=void 0,e.abilities=void 0,e}return Object(i.a)(a,[{key:"getSpellStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={spell:m.a[e],casts:0,healingHits:0,healingDone:0,overhealingDone:0,damageHits:0,damageDone:0,damageAbsorbed:0,manaSpent:0,manaGained:this.manaTracker,percentOverhealingDone:0,percentHealingDone:0,percentDamageDone:0,manaPercentSpent:0,hpm:0,dpm:0,timeSpentCasting:0,percentTimeSpentCasting:0,hpet:0,dpet:0},n=this.abilityTracker.getAbility(e);if(a.casts=n.casts||0,a.healingHits=n.healingHits||0,a.healingDone=(n.healingEffective||0)+(n.healingAbsorbed||0),a.overhealingDone=n.healingOverheal||0,t)for(var i in t){var s=this.abilityTracker.getAbility(t[i]);a.healingHits+=s.healingHits||0,a.healingDone+=(s.healingEffective||0)+(s.healingAbsorbed||0),a.overhealingDone+=s.healingOverheal||0}a.damageHits=n.damageHits||0,a.damageDone=n.damageEffective||0,a.damageAbsorbed=n.damageAbsorbed||0;var r=this.manaTracker.spendersObj;return a.manaSpent=r[e]?r[e].spent:0,(a=this.getCustomSpellStats(a,e,t)).percentOverhealingDone=a.overhealingDone/((a.healingDone||0)+a.overhealingDone)||0,a.percentHealingDone=a.healingDone/this.healingDone.total.regular||0,a.percentDamageDone=a.damageDone/this.damageDone.total.regular||0,a.manaPercentSpent=a.manaSpent/this.manaTracker.spent,a.hpm=a.healingDone/a.manaSpent|0,a.dpm=a.damageDone/a.manaSpent|0,a.timeSpentCasting=this.castEfficiency.getTimeSpentCasting(e).timeSpentCasting+this.castEfficiency.getTimeSpentCasting(e).gcdSpent,a.percentTimeSpentCasting=a.timeSpentCasting/this.owner.fightDuration,a.hpet=a.healingDone/a.timeSpentCasting|0,a.dpet=a.damageDone/a.timeSpentCasting|0,a}},{key:"getCustomSpellStats",value:function(e,t,a){return e}},{key:"getAllSpellStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={},a=0,n=0,i=0,s=0;for(var r in this.abilities.abilities){var l=this.abilities.abilities[r];l.spell instanceof Array||l.spell&&l.spell.manaCost&&l.spell.manaCost>0&&(e||"Cooldown"!==l.category)&&(t[l.spell.id]=this.getSpellStats(l.spell.id,l.healSpellIds),a=Math.max(a,t[l.spell.id].hpm),n=Math.max(n,t[l.spell.id].dpm),i=Math.max(i,t[l.spell.id].hpet),s=Math.max(s,t[l.spell.id].dpet))}return{spells:t,topHpm:a,topDpm:n,topHpet:i,topDpet:s}}}]),a}(d.c);g.dependencies={manaTracker:E.a,abilityTracker:l.a,healingDone:o.a,damageDone:c.a,castEfficiency:h.a,abilities:u.a},t.a=g},845:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(795);t.a=function(e){var t=e.percent;return i.a.createElement("div",{className:"performance-bar-container"},i.a.createElement("div",{className:"performance-bar",style:{width:"".concat(100*t,"%"),transition:"background-color 800ms",backgroundColor:Object(s.a)(t)}}))}},850:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAuCAYAAACCq/96AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAPKSURBVGhD7ZtLSBRxHMcttegQPYhKKCii94PeWVD0Lo+uVFoQRJck9BAF+WAJDS8FXUItzdVMzQ5ejO5B++jhW7e3eggCL+2641p0+Pf9zf5n3V3/7u6sO40j84EPiLM7/vbD/GcWdzaFMXYMZkV4Bm6EC1NMwgmJlDU+VNfs/179UvZbZbvUb20ZfXelxuvIqdRSPko0ymEVrIaP4GNYA2vhE24dtMF62ACfwkb4DDbBZtgCn3Nb4QsVBlBi+YdsjWPuuyxUaeAO83XfYF7XJYYXppkeh6WdjyPCCpnODsEAcqzhBltkLEU5Ws8tzaN57TltfKRQiqDoBfxvJ4KNDzdViUKFStGk3tuIlid+scnSbqFlolAARcPrYWiw+gZRpEiD0ZwXxC82CWJpOvhYRAkUDa+HE8H8n+89nBToY4VES0RTHZb+BIL9grR09TDAqNNS4uu+GR7s0/2vfLNmIE5RAsE6oL5QMBqWlpsZLA6UYF7neSb1lZrBYhEMRuKELkczg01NWDDSmcskd8UXvlkzZk8wGtyZ18U3a8bsCmbP0XwwwwbTCzOYSowcTJfBphGsUCeDGCmYXv6GQcxgsTWDqdQMplLDBvsLR3QyiJGCaT5XPJjBVGIGU4kug3k7rpWZwVQgucsfeF0XzWDx4h+sqR3tyA/7FMoMFgX/UL2N/rs7+v4qYp0zg8WCPm2XBsqY1FvMvG8vm8FiodyeQNGUWxGMHiwjijIjr7MzEnVssLZVDuYuZ1K/lfk6C5jHmeviuyYSmUtLg4gGi6WMcrKOJp2jKErwM0+BgaVZxPBW4wNjLI3vPpG5tHLiVgGgaTCSoolChSrfJdRX3INgi+Ec7H7GBlsOe6DogVMpI4ozlfFEG//RVoRYm+E87D6RubQyLBihdjgZUZho+jqvC0ORf36+siIU3dx3BK6Bc/EnZkq0ScEINcPJiKLE0tdVGC0WeRbugysgLc2ZEE0YTDWeN5b8yCAee46bb54ShNgBlUCRnoZ0lNHSXAQp2uwg0WAEQuyCkbHo6KJgR+EeuBou4E8xPtMJRiCGEo1CkcrPJ+EhuAkugan8KcZmusEIxNgPKdApqESj7wkoR9kqmM4fbmySFCwV7oSH4XFIsSgaLU363Va4FBr/XJaMYARipMMtMBPSkUWxKBoddQfgWmj8b6UkKxiBIGlwHdwN6SpJ0U7Ag5BiroTGvgB4XdmZHrulNFK+WTUIQsszA26HdLRRrL2QgtEVk95mzI7zWbJAkLlwGdwAt0E6h62HdPKnK+Z8qNP5LCXlH/EZJ5PjYeR7AAAAAElFTkSuQmCC"},851:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(6),o=a(0),c=a.n(o),h=a(33),u=a(69),d=a.n(u),m=a(845),E=a(4),g=a(22),f=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).HealingEfficiencyTable=function(e){var t=e.tracker.getAllSpellStats(i.state.showCooldowns),a=t.spells,n=t.topHpm,s=t.topDpm,r=t.topHpet,l=t.topDpet,o=Object.values(a);o.sort((function(e,t){if(i.state.showHealing){if(e.hpm<t.hpm)return 1;if(e.hpm>t.hpm)return-1}else{if(e.dpm<t.dpm)return 1;if(e.dpm>t.dpm)return-1}return 0}));var h=o.map((function(e){return e.casts>0?i.HealingEfficiencySpellRow(e,n,s,r,l):null}));return c.a.createElement(c.a.Fragment,null,h)},i.HealingEfficiencySpellRow=function(e,t,a,n,s){return c.a.createElement("tr",{key:e.spell.id},c.a.createElement("td",null,c.a.createElement(E.a,{id:e.spell.id})),i.state.detailedView?i.DetailView(e):i.BarView(e,t,a,n,s))},i.BarHeader=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.manaSpent"}),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(l.Trans,{id:"common.stat.healingPerMana"})),c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(g.a,{content:c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime.long"})},c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime"})))),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(l.Trans,{id:"common.stat.damagePerMana"})),c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(l.Trans,{id:"common.stat.damagePerExecutionTime.long"}))))},i.BarView=function(e,t,a,n,s){var r=e.healingDone,l=e.damageDone>0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,Object(h.d)(e.manaSpent)," ("+Object(h.e)(e.manaPercentSpent)+"%)"),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{className:"text-right"},r?Object(h.d)(e.hpm):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.hpm/t})),c.a.createElement("td",{className:"text-right"},r?Object(h.d)(1e3*e.hpet):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.hpet/n}))),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{className:"text-right"},l?Object(h.d)(e.dpm):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.dpm/a})),c.a.createElement("td",{className:"text-right"},l?Object(h.d)(1e3*e.dpet):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.dpet/s}))))},i.DetailHeader=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("th",null,c.a.createElement(g.a,{content:c.a.createElement(l.Trans,{id:"shared.healingEfficiency.tableHeader.casts.tooltip"})},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.tableHeader.casts"}))),c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.manaSpent"}),c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.timeSpent"}),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.healingDone"}),c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.overhealingDone"}),c.a.createElement("th",null,c.a.createElement(g.a,{content:c.a.createElement(l.Trans,{id:"common.stat.healingPerMana.long"})},c.a.createElement(l.Trans,{id:"common.stat.healingPerMana.short"}))),c.a.createElement("th",null,c.a.createElement(g.a,{content:c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime.long"})},c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime.short"})))),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.damageDone"}),c.a.createElement("th",null,c.a.createElement(g.a,{content:c.a.createElement(l.Trans,{id:"common.stat.damagePerMana.long"})},c.a.createElement(l.Trans,{id:"common.stat.damagePerMana.short"}))),c.a.createElement("th",null,c.a.createElement(g.a,{content:c.a.createElement(l.Trans,{id:"common.stat.damagePerExecutionTime.long"})},c.a.createElement(l.Trans,{id:"common.stat.damagePerExecutionTime.short"})))))},i.DetailView=function(e){var t=e.healingDone,a=e.healingDone>0||e.overhealingDone>0,n=e.damageDone>0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,e.casts," (",i.state.showHealing?Math.floor(e.healingHits):Math.floor(e.damageHits),")"),c.a.createElement("td",null,Object(h.d)(e.manaSpent)," ("+Object(h.e)(e.manaPercentSpent)+"%)"),c.a.createElement("td",null,0!==e.timeSpentCasting?Object(h.a)(e.timeSpentCasting/1e3)+" ("+Object(h.e)(e.percentTimeSpentCasting)+"%)":"-"),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,t?Object(h.d)(e.healingDone):"-",t?" ("+Object(h.e)(e.percentHealingDone)+"%)":""),c.a.createElement("td",null,a?Object(h.d)(e.overhealingDone):"-",a?" ("+Object(h.e)(e.percentOverhealingDone)+"%)":""),c.a.createElement("td",null,t?Object(h.d)(e.hpm):"-"),c.a.createElement("td",null,t?Object(h.d)(1e3*e.hpet):"-")),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,n?Object(h.d)(e.damageDone):"-",n?" ("+Object(h.e)(e.percentDamageDone)+"%)":""),c.a.createElement("td",null,n?Object(h.d)(e.dpm):"-"),c.a.createElement("td",null,n?Object(h.d)(1e3*e.dpet):"-")))},i.state={showHealing:!0,detailedView:!1,showCooldowns:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tracker;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"pad"},c.a.createElement("div",{className:"pull-left"},c.a.createElement("div",{className:"toggle-control pull-right",style:{marginRight:".5em"}},c.a.createElement(d.a,{defaultChecked:!1,icons:!1,onChange:function(t){return e.setState({detailedView:t.target.checked})},id:"detailed-toggle"}),c.a.createElement("label",{htmlFor:"detailed-toggle",style:{marginLeft:"0.5em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.detailed"})))),c.a.createElement("div",{className:"pull-right"},c.a.createElement("div",{className:"toggle-control pull-left",style:{marginLeft:".5em",marginRight:".5em"}},c.a.createElement(d.a,{defaultChecked:!1,icons:!1,onChange:function(t){return e.setState({showCooldowns:t.target.checked})},id:"cooldown-toggle"}),c.a.createElement("label",{htmlFor:"cooldown-toggle",style:{marginLeft:"0.5em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.cooldowns"}))),c.a.createElement("div",{className:"toggle-control pull-left",style:{marginLeft:".5em"}},c.a.createElement("label",{htmlFor:"healing-toggle",style:{marginLeft:"0.5em",marginRight:"1em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.damage"})),c.a.createElement(d.a,{defaultChecked:!0,icons:!1,onChange:function(t){return e.setState({showHealing:t.target.checked})},id:"healing-toggle"}),c.a.createElement("label",{htmlFor:"healing-toggle",style:{marginLeft:"0.5em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.healing"}))))),c.a.createElement("table",{className:"data-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement(l.Trans,{render:"th",id:"common.ability"}),this.state.detailedView?c.a.createElement(this.DetailHeader,null):c.a.createElement(this.BarHeader,null))),c.a.createElement("tbody",null,c.a.createElement(this.HealingEfficiencyTable,{tracker:t}))))}}]),a}(c.a.Component);t.a=f},854:function(e,t,a){"use strict";var n,i=a(8),s=a(9),r=a(10),l=a(11),o=a(6),c=a(0),h=a.n(c),u=a(124),d=a(3),m=a(22),E=a(33),g=a(108),f=a(43),v=a(15),T=a(766),b=a(825),p=a(866),y=a(829),_=a(122),O=a(750),S=function(e){return e.children},I=a(880),N=a(12),A=(n={},Object(N.a)(n,d.a.LEECH.id,{multiplier:!0}),Object(N.a)(n,d.a.HEALTHSTONE.id,{int:!1,crit:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(N.a)(n,d.a.MARK_OF_THE_ANCIENT_PRIESTESS.id,{int:!1,crit:!0,hasteHpct:!1,mastery:!1,vers:!0}),n),C=a(19),H=(a(850),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).qeLive=!1,n.fallbackSpellInfo={int:!1,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0},n.sharedSpellInfo=A,n.spellInfo={},n.mentioned=[],n.totalAdjustedHealing=0,n.totalOneInt=0,n.totalOneCrit=0,n.totalOneHasteHpct=0,n.totalOneHasteHpm=0,n.totalOneMastery=0,n.totalOneVers=0,n.totalOneVersDr=0,n.totalOneLeech=0,n.playerHealthMissing=0,n.scaleWeightsWithHealth=!1,n.moreInformationLink=null,n.addEventListener(v.f.heal.by(f.a),n.onHeal),n.addEventListener(v.f.heal.by(f.b),n.onHeal),n.addEventListener(v.f.absorbed.by(f.a),n.onAbsorb),n.addEventListener(v.f.absorbed.by(f.b),n.onAbsorb),n.addEventListener(v.f.removebuff.by(f.a),n.onRemoveBuff),n.addEventListener(v.f.removebuff.by(f.b),n.onRemoveBuff),n.addEventListener(v.f.heal.to(f.a),n.onHealTaken),n.addEventListener(v.f.damage.to(f.a),n.onDamageTaken),n.addEventListener(v.f.fightend,n.onFightend),n}return Object(s.a)(a,[{key:"_getSpellInfo",value:function(e){var t=e.ability.guid,a=this.spellInfo[t];if(a)return a;var n=this.sharedSpellInfo[t];return n||this.fallbackSpellInfo}}]),Object(s.a)(a,[{key:"onHeal",value:function(e){var t=new b.a(e.amount,e.absorbed,e.overheal);this._handleHealEvent(e,t)}},{key:"onAbsorb",value:function(e){var t=new b.a(e.amount,0,0);this._handleHealEvent(e,t)}},{key:"onRemoveBuff",value:function(e){if(e.absorb){var t=new b.a(0,0,e.absorb);this._handleHealEvent(e,t)}}},{key:"_handleHealEvent",value:function(e,t){var a=this._getSpellInfo(e),n=(e.hitPoints-t.effective)/e.maxHitPoints;this._handleHeal(a,e,t,n)}},{key:"_handleHeal",value:function(e,t,a,n){e.multiplier||(this.totalAdjustedHealing+=this._adjustGain(a.effective,n)),e.ignored||(this.totalOneLeech+=this._adjustGain(this._leech(t,a,e),n),e.multiplier||(e.int&&(this.totalOneInt+=this._adjustGain(this._intellect(t,a),n)),e.crit&&(this.totalOneCrit+=this._adjustGain(this._criticalStrike(t,a),n)),e.hasteHpct&&(this.totalOneHasteHpct+=this._adjustGain(this._hasteHpct(t,a),n)),e.hasteHpm&&(this.totalOneHasteHpm+=this._adjustGain(this._hasteHpm(t,a),n)),e.mastery&&(this.totalOneMastery+=this._adjustGain(this._mastery(t,a),n)),e.vers&&(this.totalOneVers+=this._adjustGain(this._versatility(t,a),n))))}},{key:"_adjustGain",value:function(e,t){if(0===e)return 0;var a=1-Math.max(0,(t-.3)/.7);return this.scaleWeightsWithHealth?e*a:e}},{key:"_leech",value:function(e,t,a){return e.type!==v.b.Heal?0:this.statTracker.currentLeechPercentage>0?this._leechHasLeech(e,t,a):this._leechPrediction(e,t,a)}},{key:"_leechHasLeech",value:function(e,t){return e.ability.guid!==d.a.LEECH.id||t.overheal?0:t.effective/this.statTracker.currentLeechRating}},{key:"_leechPrediction",value:function(e,t,a){if(this.owner.toPlayer(e))return 0;if(a.multiplier)return 0;if(this.playerHealthMissing>0){var n=this.statTracker.statMultiplier.leech/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentLeechRating,this.statTracker.statBaselineRatingPerPercent[C.a.LEECH],1,!1);return t.raw*n}return 0}},{key:"_intellect",value:function(e,t){if(t.overheal)return 0;var a=this.statTracker.statMultiplier.intellect/this.statTracker.currentIntellectRating;return t.effective*a}},{key:"_getCritChance",value:function(e){var t=this.statTracker.currentCritRating;return{baseCritChance:this.statTracker.baseCritPercentage,ratingCritChance:t/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentCritRating,this.statTracker.statBaselineRatingPerPercent[C.a.CRITICAL_STRIKE])}}},{key:"_isCrit",value:function(e){return e.hitType===T.a.CRIT}},{key:"_criticalStrike",value:function(e,t){if(this._isCrit(e)){var a=this._getCritChance(e),n=a.baseCritChance,i=n+a.ratingCritChance;if(i>1+1/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentCritRating,this.statTracker.statBaselineRatingPerPercent[C.a.CRITICAL_STRIKE]))return 0;var s=1-n/i,r=this.critEffectBonus.getBonus(e),l=t.raw/r,o=Math.max(0,t.effective-l),c=this.statTracker.currentCritRating;return o*(this.statTracker.statMultiplier.crit*s/c)}return 0}},{key:"_hasteHpct",value:function(e,t){var a=this.statTracker.currentHastePercentage,n=this.statTracker.statMultiplier.haste/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentHasteRating,this.statTracker.statBaselineRatingPerPercent[C.a.HASTE]);return t.effective/(1+a)*n}},{key:"_hasteHpm",value:function(e,t){var a=this.statTracker.statMultiplier.haste/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentHasteRating,this.statTracker.statBaselineRatingPerPercent[C.a.HASTE]);return t.effective/(1+this.statTracker.currentHastePercentage)*a}},{key:"_mastery",value:function(e,t){throw new Error("Missing custom Mastery implementation. This is different per spec.")}},{key:"_versatility",value:function(e,t){if(t.overheal)return 0;var a=this.statTracker.currentVersatilityPercentage,n=this.statTracker.statMultiplier.versatility/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentVersatilityRating,this.statTracker.statBaselineRatingPerPercent[C.a.VERSATILITY],1,!1);return t.effective/(1+a)*n}},{key:"onDamageTaken",value:function(e){this._updateMissingHealth(e);var t=new p.a(e.amount,e.absorbed,e.blocked,e.overkill);this.totalOneVersDr+=this._versatilityDamageReduction(e,t)}},{key:"_versatilityDamageReduction",value:function(e,t){return t.effective/(1-this.statTracker.currentVersatilityPercentage/2)*(this.statTracker.statMultiplier.versatility/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentVersatilityRating,this.statTracker.statBaselineRatingPerPercent[C.a.VERSATILITY],1,!1)/2)}},{key:"onHealTaken",value:function(e){this._updateMissingHealth(e)}},{key:"_updateMissingHealth",value:function(e){e.hitPoints&&e.maxHitPoints&&(this.playerHealthMissing=e.maxHitPoints-e.hitPoints)}},{key:"onFightend",value:function(){0}},{key:"calculateItemStatsHps",value:function(e,t){var a=0;return e.primary&&(a+=Object(g.a)(e.itemLevel,e.primary,t)*this.hpsPerIntellect),e.criticalStrike&&(a+=Object(g.b)(e.itemLevel,e.criticalStrike,t)*this.hpsPerCriticalStrike),e.haste&&(a+=Object(g.b)(e.itemLevel,e.haste,t)*this.hpsPerHaste),e.mastery&&(a+=Object(g.b)(e.itemLevel,e.mastery,t)*this.hpsPerMastery),e.versatility&&(a+=Object(g.b)(e.itemLevel,e.versatility,t)*this.hpsPerVersatility),e.leech&&(a+=Object(g.b)(e.itemLevel,e.leech,t)*this.hpsPerLeech),a}},{key:"_ratingPerOnePercent",value:function(e){return this.totalAdjustedHealing/100/e}},{key:"_getGain",value:function(e){switch(e){case C.a.INTELLECT:return this.totalOneInt;case C.a.CRITICAL_STRIKE:return this.totalOneCrit;case C.a.HASTE_HPCT:return this.totalOneHasteHpct;case C.a.HASTE_HPM:return this.totalOneHasteHpm;case C.a.MASTERY:return this.totalOneMastery;case C.a.VERSATILITY:return this.totalOneVers;case C.a.VERSATILITY_DR:return this.totalOneVers+this.totalOneVersDr;case C.a.LEECH:return this.totalOneLeech;default:return 0}}},{key:"_getTooltip",value:function(e){switch(e){case C.a.HASTE_HPCT:return h.a.createElement(o.Trans,{id:"shared.healerStatValues.stats.hpct"});case C.a.HASTE_HPM:return h.a.createElement(o.Trans,{id:"shared.healerStatValues.stats.hpm"});case C.a.VERSATILITY_DR:return h.a.createElement(o.Trans,{id:"shared.healerStatValues.stats.versDR"});default:return null}}},{key:"statistic",value:function(){var e=this,t=this._prepareResults();t.reduce((function(t,a){if("intellect"===a||"versatilitydr"===a)return t;var n="object"===typeof a?a.stat:a,i=e._getGain(n)/(e.totalOneInt||1),s=Object(C.d)(n).replace(/[()\s+]/g,"");return t.push(s+"="+i.toFixed(2)),t}),[]).join("&");return h.a.createElement(S,{position:this.constructor.position},h.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},h.a.createElement("div",{className:"panel items statistic"},this.moreInformationLink&&h.a.createElement("a",{href:this.moreInformationLink,target:"_blank",rel:"noopener noreferrer"},h.a.createElement(m.b,{content:"Click for more information."},h.a.createElement("div",{className:"detail-corner","data-place":"top"},h.a.createElement(I.a,null)))),h.a.createElement("div",{className:"panel-body",style:{padding:"10px 0 16px"}},h.a.createElement("table",{className:"data-table compact",style:{margin:0}},h.a.createElement("thead",null,h.a.createElement("tr",{className:"text-muted"},h.a.createElement("th",{style:{minWidth:30,fontWeight:400}},h.a.createElement(m.a,{content:h.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title.tooltip",components:[h.a.createElement("br",null),h.a.createElement("br",null)]})},h.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title"})),!1),h.a.createElement("th",{className:"text-right",style:{minWidth:30,fontWeight:400},colSpan:2},h.a.createElement(m.a,{content:h.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title.value.tooltip"})},h.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title.value"}))))),h.a.createElement("tbody",null,t.map((function(t){var a="object"===typeof t?t.stat:t,n="object"===typeof t?t.tooltip:e._getTooltip(a),i=e._getGain(a),s=i/(e.totalOneInt||1),r=e._ratingPerOnePercent(i),l=Object(C.c)(a),c=(i/e.owner.fightDuration*1e3).toFixed(2),d=null!==i?r===1/0?"\u221e":Object(E.d)(r):"NYI",g=h.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.stats.tooltip",values:{gainPerSecond:c,rating:d}});return h.a.createElement("tr",{key:a},h.a.createElement("td",{className:Object(C.b)(a)},h.a.createElement(l,{style:{height:"1.6em",width:"1.6em",marginRight:10}})," ",n?h.a.createElement(m.a,{content:n},Object(C.e)(a)):Object(C.e)(a)),h.a.createElement("td",{className:"text-right"},a===C.a.HASTE_HPCT&&"0.00 - ",null!==i?s.toFixed(2):"NYI"),h.a.createElement("td",{style:{padding:6}},h.a.createElement(m.b,{content:g},h.a.createElement("div",null,h.a.createElement(u.a,null)))))}))))))))}},{key:"hpsPerIntellect",get:function(){return this._getGain(C.a.INTELLECT)/this.owner.fightDuration*1e3}},{key:"hpsPerCriticalStrike",get:function(){return this._getGain(C.a.CRITICAL_STRIKE)/this.owner.fightDuration*1e3}},{key:"hpsPerHasteHPCT",get:function(){return this._getGain(C.a.HASTE_HPCT)/this.owner.fightDuration*1e3}},{key:"hpsPerHasteHPM",get:function(){return this._getGain(C.a.HASTE_HPM)/this.owner.fightDuration*1e3}},{key:"hpsPerHaste",get:function(){return this.hpsPerHasteHPCT+this.hpsPerHasteHPM}},{key:"hpsPerMastery",get:function(){return this._getGain(C.a.MASTERY)/this.owner.fightDuration*1e3}},{key:"hpsPerVersatility",get:function(){return this._getGain(C.a.VERSATILITY)/this.owner.fightDuration*1e3}},{key:"hpsPerVersatilityDR",get:function(){return this._getGain(C.a.VERSATILITY_DR)/this.owner.fightDuration*1e3}},{key:"hpsPerLeech",get:function(){return this._getGain(C.a.LEECH)/this.owner.fightDuration*1e3}}]),a}(f.c));H.dependencies={critEffectBonus:y.a,statTracker:_.a},H.position=O.a.CORE(9);t.a=H},889:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(0),i=a.n(n),s=a(37),r=a.n(s),l=a(33),o=a(212),c=function(e,t){var a=e.amount,n=e.approximate,s=t.parser;return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.a,null)," ",n&&"\u2248",Object(l.f)(a/s.fightDuration*1e3*5)," MP5"," ",i.a.createElement("small",null,Object(l.f)(a)," total mana"))};c.contextTypes={parser:r.a.object.isRequired};var h=c},899:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(6),o=a(0),c=a.n(o),h=a(812),u=a(43),d=a(835),m=a(851),E=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).healingEfficiencyTracker=void 0,e}return Object(i.a)(a,[{key:"statistic",value:function(){return c.a.createElement(h.a,{title:c.a.createElement(l.Trans,{id:"shared.healingEfficiency.title"}),position:120},c.a.createElement(m.a,{tracker:this.healingEfficiencyTracker}))}}]),a}(u.c);E.dependencies={healingEfficiencyTracker:d.a},t.a=E},916:function(e,t,a){"use strict";var n=a(7),i=a(8),s=a(9),r=a(120),l=a(66),o=a(10),c=a(11),h=a(43),u=a(753),d=a(3),m=a(15),E=a(816),g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).maxCasts=0,n.cooldown=18e5,n.addEventListener(m.f.fightend,n.adjustMaxCasts),e.abilities.add({spell:d.a.TOUCH_OF_DEATH,category:u.a.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{static:1e3},castEfficiency:{suggestion:!0,recommendedEfficiency:.85,maxCasts:function(){return n.maxCasts||0}}}),n}return Object(s.a)(a,[{key:"adjustMaxCasts",value:function(e){Object(r.a)(Object(l.a)(a.prototype),"onFightEnd",this).call(this,e),this.maxCasts+=Math.ceil(this.totalExecuteDuration/this.cooldown)}}]),a}(E.a);g.executeSpells=[d.a.TOUCH_OF_DEATH],g.executeSources=h.a,g.lowerThreshold=.15,g.executeOutsideRangeEnablers=[],g.modifiesDamage=!1,g.dependencies=Object(n.a)(Object(n.a)({},E.a.dependencies),{},{abilities:u.a}),t.a=g},917:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(119),r=a(10),l=a(11),o=a(43),c=a(753),h=a(3),u=a(15),d=a(746),m=a(747),E=a(58),g=a(751),f=a(765),v=a(0),T=a.n(v),b=a(748),p=a(33),y=a(121),_=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).windDamage=0,i.brewDamage=0,i.mistDamage=0,i.mistHealing=0,i.mistOverhealing=0,i.cloneMap=new Map,i.abilities=void 0,i.active=i.selectedCombatant.hasCovenant(y.a.VENTHYR.id),i.active?(i.abilities.add({spell:h.a.FALLEN_ORDER_CAST,category:c.a.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.8}}),i.addEventListener(u.f.summon.by(o.a).spell([h.a.FALLEN_ORDER_OX_CLONE,h.a.FALLEN_ORDER_TIGER_CLONE,h.a.FALLEN_ORDER_CRANE_CLONE]),i.trackSummons),i.addEventListener(u.f.heal.by(o.b).spell([h.a.FALLEN_ORDER_ENVELOPING_MIST,h.a.FALLEN_ORDER_SOOTHING_MIST]),i.mistHealingTracker),i.addEventListener(u.f.damage.by(o.b).spell([h.a.FALLEN_ORDER_KEG_SMASH,h.a.FALLEN_ORDER_BREATH_OF_FIRE,h.a.BREATH_OF_FIRE_DEBUFF]),i.brewDamageTracker),i.addEventListener(u.f.damage.by(o.b).spell([h.a.FALLEN_ORDER_SPINNING_CRANE_KICK,h.a.FISTS_OF_FURY_DAMAGE]),i.windDamageTracker),i.addEventListener(u.f.damage.by(o.b).spell(h.a.MELEE),i.handleMelee),i):Object(s.a)(i)}return Object(i.a)(a,[{key:"trackSummons",value:function(e){this.cloneMap.set(e.targetID,e.ability.guid)}},{key:"mistHealingTracker",value:function(e){this.mistHealing+=(e.amount||0)+(e.absorbed||0),this.mistOverhealing+=e.overheal||0}},{key:"brewDamageTracker",value:function(e){this.brewDamage+=e.amount||0}},{key:"windDamageTracker",value:function(e){this.windDamage+=e.amount||0}},{key:"mistDamageTracker",value:function(e){this.mistDamage+=e.amount||0}},{key:"handleMelee",value:function(e){if(e.sourceID){var t=e.sourceID,a=this.cloneMap.get(t);void 0!==a&&(a===h.a.FALLEN_ORDER_OX_CLONE.id?this.brewDamageTracker(e):a===h.a.FALLEN_ORDER_TIGER_CLONE.id?this.windDamageTracker(e):this.mistDamageTracker(e))}}},{key:"statistic",value:function(){var e=this.brewDamage+this.mistDamage+this.windDamage;return T.a.createElement(d.a,{position:m.a.CORE(),size:"flexible",category:E.a.COVENANTS,tooltip:T.a.createElement(T.a.Fragment,null,T.a.createElement("ul",null,T.a.createElement("li",null,"Damage from Brewmaster clones: ",Object(p.d)(this.brewDamage)),T.a.createElement("li",null,"Damage from Mistweaver clones: ",Object(p.d)(this.mistDamage)),T.a.createElement("li",null,"Damage from Windwalker clones: ",Object(p.d)(this.windDamage))))},T.a.createElement(b.a,{spell:h.a.FALLEN_ORDER_CAST},T.a.createElement(f.a,{amount:this.mistHealing}),T.a.createElement("br",null),T.a.createElement(g.a,{amount:e})))}}]),a}(o.c);_.dependencies={abilities:c.a},t.a=_},969:function(e,t,a){"use strict";var n=a(8),i=a(9),s=a(10),r=a(11),l=a(757),o=a(800),c=a(769),h=a(43),u=a(15),d=a(766),m=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).hots={},e.bouncingHots=[],e.currentGuid=0,e.hotHistory=[],e.hotInfo=e._generateHotInfo(),e.hotList=e._generateHotList(),e.hotInfo||(e.active=!1),e.addEventListener(u.f.applybuff.by(h.a).spell(e.hotList),e.hotApplied),e.addEventListener(u.f.heal.by(h.a).spell(e.hotList),e.hotHeal),e.addEventListener(u.f.refreshbuff.by(h.a).spell(e.hotList),e.hotReapplied),e.addEventListener(u.f.removebuff.by(h.a).spell(e.hotList),e.hotRemoved),e}return Object(i.a)(a,[{key:"hotApplied",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID;if(this._validateHot(e)){if(this.hotInfo[t].bouncy&&0!==this.bouncingHots.length)return this.hots[a]||(this.hots[a]={}),this.hots[a][t]=this.bouncingHots[0],void this.bouncingHots.shift();var n=this.hotInfo[t].duration;this.hotInfo[t].durationConditions&&(e.selectedCombatant=this.selectedCombatant,n=this.hotInfo[t].durationConditions(e));var i=-1;this.hotInfo[t].maxDuration&&(e.selectedCombatant=this.selectedCombatant,i=this.hotInfo[t].maxDuration(e));var s={start:e.timestamp,end:e.timestamp+n,originalEnd:e.timestamp+n,spellId:t,guid:this.currentGuid,name:e.ability.name,ticks:[],attributions:[],extensions:[],boosts:[],healingAfterOriginalEnd:0,maxDuration:i};this.currentGuid+=1,this.hots[a]||(this.hots[a]={}),this.hots[a][t]=s,this.hotHistory.push(s)}}}},{key:"hotHeal",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID,n=e.amount+(e.absorbed||0);if(this._validateHot(e)){var i=this.hots[a][t];e.tick&&i.ticks.push({healing:n,timestamp:e.timestamp}),i.originalEnd<e.timestamp&&e.timestamp<i.start+i.maxDuration&&(i.healingAfterOriginalEnd+=n),i.attributions.forEach((function(e){e.healing+=n})),i.boosts.forEach((function(t){t.healing+=Object(c.a)(e,t.boost)})),e.hitType===d.a.CRIT&&this.hotInfo[t].effectOnCrit&&i.effectOnCrit(e)}}}},{key:"hotReapplied",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID;if(this._validateHot(e)){var n=this.hots[a][t],i=n.end,s=this.hotInfo[t].duration;this.hotInfo[t].durationConditions&&(e.selectedCombatant=this.selectedCombatant,s=this.hotInfo[t].durationConditions(t)),n.end+=this._calculateExtension(s,n,t,!0,!0),n.originalEnd=n.end;var r=i-e.timestamp-.3*s;r>0&&n.extensions.forEach((function(e){e.amount-=r})),n.attributions=[],this._tallyExtensions(n),n.extensions=[],n.boosts=[]}}}},{key:"hotRemoved",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID;this._validateHot(e)&&(this.hotInfo[t].bouncy&&this.hots[a][t].end>e.timestamp?this.bouncingHots.push(this.hots[a][t]):(this._checkRemovalTime(this.hots[a][t],e.timestamp,a),this._tallyExtensions(this.hots[a][t])),delete this.hots[a][t])}}},{key:"addAttribution",value:function(e,t,a){this.hots[t]&&this.hots[t][a]&&(e.procs+=1,this.hots[t][a].attributions.push(e))}},{key:"addExtension",value:function(e,t,a,n,i){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],r=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(this.hots[a]&&this.hots[a][n]){var l=this.hots[a][n];if(-1!==l.maxDuration){var o=i-l.start,c=l.maxDuration-o,h=Math.min(t,c);t=Math.max(h,0)}var u=this._calculateExtension(t,l,n,s,r);if(l.end+=u,e){e.procs+=1;var d=l.extensions.find((function(t){return t.attribution.name===e.name}));d?d.amount+=u:l.extensions.push({attribution:e,amount:u})}}}},{key:"_tallyExtensions",value:function(e){var t=this;e.extensions.filter((function(e){return e.amount>0})).forEach((function(a){return t._tallyExtension(e.ticks,a.amount,a.attribution)}))}},{key:"_tallyExtension",value:function(e,t,a){for(var n=this.owner.currentTimestamp,i=!1,s=n,r=0,l=e.length-1;l>=0;l-=1){var o=e[l];if(s=o.timestamp,n-o.timestamp>t){i=!0;break}r+=o.healing}if(i){var c=t/(n-s);a.healing+=r*c,a.duration+=t}}},{key:"_calculateExtension",value:function(e,t,a,n,i){var s=e,r=t.end-this.owner.currentTimestamp;if(i){var l=r+s,o=1.3*this.hotInfo[a].duration;l>o?(s=o-r,"PANDEMIC:(remaining=".concat((o/1e3).toFixed(2),"s)")):"PANDEMIC:(N/A)"}if(n){var c=this.hotInfo[a].tickPeriod/(1+this.haste.current),h=(r+s)/c;s=Math.round(h)*c-r,"TICK:(period=".concat((c/1e3).toFixed(2),"s)")}return s=Math.max(0,s)}},{key:"_checkRemovalTime",value:function(e,t,a){var n=t-e.end;return n}},{key:"_getTarget",value:function(e){var t=this.combatants.getEntity(e);if(!t)return null;var a=e.targetID;return a?(e.type,u.b.Heal,t):null}},{key:"_validateHot",value:function(e){var t=e.ability.guid,a=e.targetID;return!!this.hotInfo[t]&&(!!(![u.b.RemoveBuff,u.b.RefreshBuff,u.b.Heal].includes(e.type)||this.hots[a]&&this.hots[a][t])&&(e.type!==u.b.ApplyBuff||!this.hots[a]||!this.hots[a][t]))}},{key:"_generateHotInfo",value:function(){}}]),a}(h.c);m.dependencies={combatants:l.a,haste:o.a},t.a=m}}]);
//# sourceMappingURL=MistweaverMonk.1a0cc5e6.chunk.js.map
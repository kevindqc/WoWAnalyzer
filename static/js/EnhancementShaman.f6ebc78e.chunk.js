(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[24],{732:function(e,a,t){"use strict";t.r(a);var n=t(8),i=t(10),s=t(11),c=t(776),l=t(9),r=t(3),o=t(753),E=t(214),d=[E.a.STORMSTRIKE_CAST,E.a.WINDSTRIKE_CAST],u=[E.a.STORMSTRIKE_DAMAGE,E.a.STORMSTRIKE_DAMAGE_OFFHAND,E.a.WINDSTRIKE_DAMAGE,E.a.WINDSTRIKE_DAMAGE_OFFHAND],m=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:r.a.ASCENDANCE_TALENT_ENHANCEMENT,category:t.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{base:1500},enabled:e.hasTalent(r.a.ASCENDANCE_TALENT_ENHANCEMENT.id),damageSpellIds:[r.a.ASCENDANCE_INITIAL_DAMAGE.id],castEfficiency:{suggestion:!0,recommendedEfficiency:1}},{spell:r.a.FERAL_SPIRIT,buffSpellId:[r.a.ELEMENTAL_SPIRITS_BUFF_MOLTEN_WEAPON.id,r.a.ELEMENTAL_SPIRITS_BUFF_ICY_EDGE.id,r.a.ELEMENTAL_SPIRITS_BUFF_CRACKLING_SURGE.id],category:t.SPELL_CATEGORIES.COOLDOWNS,cooldown:e.hasTalent(r.a.ELEMENTAL_SPIRITS_TALENT)?90:120,gcd:{base:1500},castEfficiency:{suggestion:!0}},{spell:r.a.EARTH_ELEMENTAL,category:t.SPELL_CATEGORIES.COOLDOWNS,cooldown:300,gcd:{base:1500},castEfficiency:{suggestion:!1}},{spell:r.a.EARTHEN_SPIKE_TALENT,category:t.SPELL_CATEGORIES.COOLDOWNS,enabled:e.hasTalent(r.a.EARTHEN_SPIKE_TALENT.id),cooldown:20,gcd:{base:1500},castEfficiency:{suggestion:!0}},{spell:r.a.CHAIN_LIGHTNING,category:t.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:r.a.ELEMENTAL_BLAST_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL,enabled:e.hasTalent(r.a.ELEMENTAL_BLAST_TALENT.id),cooldown:12,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.6}},{spell:r.a.WIND_SHEAR,category:t.SPELL_CATEGORIES.OTHERS,cooldown:12,gcd:void 0},{name:"".concat(r.a.FLAME_SHOCK.name," / ").concat(r.a.FROST_SHOCK.name),spell:[r.a.FROST_SHOCK,r.a.FLAME_SHOCK],category:t.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(e){return 6/(1+e)},gcd:{base:1500}},{spell:d,category:t.SPELL_CATEGORIES.ROTATIONAL,cooldown:function(e){return 7.5/(1+e)},gcd:{base:1500}},{spell:r.a.LAVA_LASH,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},cooldown:function(e){return 12/(1+e)}},{spell:r.a.CRASH_LIGHTNING,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},cooldown:function(e){return 9/(1+e)}},{spell:r.a.LIGHTNING_BOLT,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:r.a.STORMKEEPER_TALENT_ENHANCEMENT,category:t.SPELL_CATEGORIES.COOLDOWNS,cooldown:60,gcd:{base:1500},enabled:e.hasTalent(r.a.STORMKEEPER_TALENT_ENHANCEMENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:r.a.FERAL_LUNGE_TALENT,enabled:e.hasTalent(r.a.FERAL_LUNGE_TALENT),category:t.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500}},{spell:r.a.WINDFURY_TOTEM,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1e3},castEfficiency:{suggestion:!0,recommendedEfficiency:1}},{spell:r.a.SPIRIT_WALK,category:t.SPELL_CATEGORIES.UTILITY,cooldown:60,gcd:void 0},{spell:r.a.GHOST_WOLF,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:r.a.CAPACITOR_TOTEM,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:60},{spell:r.a.EARTHBIND_TOTEM,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:30},{spell:r.a.TREMOR_TOTEM,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:60},{spell:r.a.WIND_RUSH_TOTEM_TALENT,category:t.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(r.a.WIND_RUSH_TOTEM_TALENT),gcd:{base:1500},cooldown:120},{spell:r.a.PURGE,category:t.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:r.a.HEX,category:t.SPELL_CATEGORIES.UTILITY,cooldown:20,gcd:{base:1500}},{spell:r.a.CLEANSE_SPIRIT,category:t.SPELL_CATEGORIES.UTILITY,cooldown:8,gcd:{base:1500}},{spell:r.a.ASTRAL_SHIFT,buffSpellId:r.a.ASTRAL_SHIFT.id,cooldown:90,category:t.SPELL_CATEGORIES.DEFENSIVE,isDefensive:!0},{spell:r.a.SUNDERING_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},enabled:e.hasTalent(r.a.SUNDERING_TALENT.id),cooldown:40},{spell:r.a.FIRE_NOVA_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500},enabled:e.hasTalent(r.a.FIRE_NOVA_TALENT.id),cooldown:function(e){return 15/(1+e)}},{spell:r.a.ICE_STRIKE_TALENT,category:t.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},enabled:e.hasTalent(r.a.ICE_STRIKE_TALENT.id),cooldown:function(e){return 15/(1+e)}},{spell:r.a.LIGHTNING_SHIELD,category:t.SPELL_CATEGORIES.OTHERS,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:0}},{spell:r.a.REINCARNATION,category:t.SPELL_CATEGORIES.DEFENSIVE,gcd:void 0},{spell:[r.a.BLOODLUST,r.a.HEROISM],category:t.SPELL_CATEGORIES.COOLDOWNS,gcd:void 0,isUndetectable:!0},{spell:r.a.HEALING_STREAM_TOTEM_CAST,category:t.SPELL_CATEGORIES.OTHERS,gcd:{static:1e3},cooldown:30,healSpellIds:[r.a.HEALING_STREAM_TOTEM_HEAL.id]},{spell:r.a.CHAIN_HEAL,category:t.SPELL_CATEGORIES.OTHERS,gcd:{base:1500}},{spell:r.a.HEALING_SURGE,gcd:{base:1500},category:t.SPELL_CATEGORIES.OTHERS}]}}]),t}(o.a),T=t(1031),h=t(941),S=t(26),A=t(785),f=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return t}(A.b);f.cooldownSpells=[].concat(Object(S.a)(A.b.cooldownSpells),[{spell:r.a.ASCENDANCE_TALENT_ENHANCEMENT,summary:[A.a.DAMAGE]},{spell:r.a.BERSERKING,summary:[A.a.DAMAGE]},{spell:r.a.BLOOD_FURY_SPELL_AND_PHYSICAL,summary:[A.a.DAMAGE]}]);var L=f,O=t(0),g=t.n(O),N=t(780),b=t(164),_=t(33),p=t(750),I=t(4),v=t(13),y=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).position=p.a.CORE(1),e}return Object(l.a)(t,[{key:"suggestions",value:function(e){var a=this.owner.boss;e(this.totalTimeWasted/this.owner.fightDuration).isGreaterThan(.2).addSuggestion((function(e,a,t){return e(g.a.createElement("span",null,"Your downtime can be improved. Try to Always Be Casting (ABC), try to reduce the delay between casting spells. Even if you have to move, try casting something instant with range like ",g.a.createElement(I.a,{id:r.a.FLAME_SHOCK.id}),", ",g.a.createElement(I.a,{id:r.a.FROST_SHOCK.id}),", or instant ",g.a.createElement(I.a,{id:r.a.LIGHTNING_BOLT.id}),"/",g.a.createElement(I.a,{id:r.a.CHAIN_LIGHTNING.id}))).icon("spell_mage_altertime").actual(v.i18n._({id:"shaman.enhancement.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(_.e)(a)}})).recommended("<".concat(Object(_.e)(t),"% is recommended")).regular(t+.15).major(t+.2)})),a&&a.fight.disableDowntimeSuggestion||e(this.suggestionThresholds).addSuggestion((function(e,a,t){return e(g.a.createElement("span",null,"Your downtime can be improved. Try to Always Be Casting (ABC), try to reduce the delay between casting spells. Even if you have to move, try casting something instant with range like ",g.a.createElement(I.a,{id:r.a.FLAME_SHOCK.id}),", ",g.a.createElement(I.a,{id:r.a.FROST_SHOCK.id}),", or instant ",g.a.createElement(I.a,{id:r.a.LIGHTNING_BOLT.id}),"/",g.a.createElement(I.a,{id:r.a.CHAIN_LIGHTNING.id}))).icon("spell_mage_altertime").actual(v.i18n._({id:"shaman.enhancement.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(_.e)(a)}})).recommended("<".concat(Object(_.e)(t),"% is recommended"))}))}},{key:"suggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.125,average:.175,major:.225},style:b.a.PERCENTAGE}}}]),t}(N.a),R=t(7),k=t(203),C=t(767),F=t(757),G=t(777),H=t(770),M=t(771),D=t(762),j=t(763),U=t(772),P=function(e){var a=e.castEfficiency,t=e.combatant,n=e.thresholds,i=function(e){return g.a.createElement(U.a,Object.assign({isMaxCasts:!0,castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return g.a.createElement(H.a,null,g.a.createElement(D.c,{name:"Always be casting",description:g.a.createElement(g.a.Fragment,null,"You should try to avoid doing nothing during the fight. If you have to move, try casting something instant with range like ",g.a.createElement(I.a,{id:r.a.FLAME_SHOCK.id}),", ",g.a.createElement(I.a,{id:r.a.FROST_SHOCK.id}),", or an instant ",g.a.createElement(I.a,{id:r.a.LIGHTNING_BOLT.id}),"/",g.a.createElement(I.a,{id:r.a.CHAIN_LIGHTNING.id}))},g.a.createElement(j.a,{name:"Downtime",thresholds:n.alwaysBeCasting})),g.a.createElement(D.c,{name:"Use your offensive cooldowns as often as possible",description:g.a.createElement(g.a.Fragment,null,"You should aim to use your offensive cooldowns as often as you can to maximize your damage output."," ",g.a.createElement("a",{href:"https://www.wowhead.com/enhancement-shaman-rotation-guide#offensive-defensive-cooldowns",target:"_blank",rel:"noopener noreferrer"},"More info."))},g.a.createElement(i,{spell:r.a.FERAL_SPIRIT.id}),g.a.createElement(i,{spell:r.a.EARTH_ELEMENTAL.id}),t.hasTalent(r.a.ASCENDANCE_TALENT_ENHANCEMENT.id)&&g.a.createElement(i,{spell:r.a.ASCENDANCE_TALENT_ENHANCEMENT.id}),t.hasTalent(r.a.STORMKEEPER_TALENT_ENHANCEMENT.id)&&g.a.createElement(i,{spell:r.a.STORMKEEPER_TALENT_ENHANCEMENT.id}),t.hasTalent(r.a.EARTHEN_SPIKE_TALENT.id)&&g.a.createElement(i,{spell:r.a.EARTHEN_SPIKE_TALENT.id}),t.hasTalent(r.a.SUNDERING_TALENT.id)&&g.a.createElement(i,{spell:r.a.SUNDERING_TALENT.id})),g.a.createElement(D.c,{name:"Keep your Windfury Totem active",description:g.a.createElement(g.a.Fragment,null,"You should aim to have 100% uptime on ",g.a.createElement(I.a,{id:r.a.WINDFURY_TOTEM_BUFF.id}))},g.a.createElement(j.a,{name:g.a.createElement(g.a.Fragment,null,g.a.createElement(I.a,{id:r.a.WINDFURY_TOTEM_BUFF.id})," uptime"),thresholds:n.windfuryTotemUptime})),g.a.createElement(M.a,{thresholds:n}))},w=t(43),B=t(760),W=t(748),K=t(746),x=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"statistic",value:function(){return g.a.createElement(K.a,{position:p.a.CORE()},g.a.createElement(W.a,{spell:r.a.WINDFURY_TOTEM},g.a.createElement(g.a.Fragment,null,g.a.createElement(B.a,null)," ",Object(_.e)(this.uptime),"%"," ",g.a.createElement("small",null,"uptime"))))}},{key:"suggestions",value:function(e){e(this.uptimeThreshold).addSuggestion((function(e,a,t){return e(g.a.createElement(g.a.Fragment,null,"Your ",g.a.createElement(I.a,{id:r.a.WINDFURY_TOTEM_BUFF.id})," uptime can be improved. Make sure it's always active. Cast"," ",g.a.createElement(I.a,{id:r.a.WINDFURY_TOTEM.id})," if the buff is about to fall off or if all other spells are on cooldown.")).icon(r.a.WINDFURY_TOTEM_BUFF.icon).actual(g.a.createElement(g.a.Fragment,null,g.a.createElement(I.a,{id:r.a.WINDFURY_TOTEM_BUFF.id})," was active for ",Object(_.e)(a),"% of the fight")).recommended("recommended: ".concat(Object(_.e)(t),"%"))}))}},{key:"uptime",get:function(){return this.selectedCombatant.getBuffUptime(r.a.WINDFURY_TOTEM_BUFF.id)/this.owner.fightDuration}},{key:"uptimeThreshold",get:function(){return{actual:this.uptime,isLessThan:{minor:.99,average:.95,major:.9},style:b.a.PERCENTAGE}}}]),t}(w.c),Y=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){var e;Object(n.a)(this,t);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=a.call.apply(a,[this].concat(s))).combatants=void 0,e.castEfficiency=void 0,e.preparationRuleAnalyzer=void 0,e.alwaysBeCasting=void 0,e.windfuryTotem=void 0,e}return Object(l.a)(t,[{key:"render",value:function(){return g.a.createElement(P,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(R.a)(Object(R.a)({},this.preparationRuleAnalyzer.thresholds),{},{alwaysBeCasting:this.alwaysBeCasting.suggestionThresholds,windfuryTotemUptime:this.windfuryTotem.uptimeThreshold})})}}]),t}(k.a);Y.dependencies={combatants:F.a,castEfficiency:C.a,preparationRuleAnalyzer:G.a,alwaysBeCasting:y,windfuryTotem:x};var z=Y,V=t(810),q=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(l.a)(t,[{key:"buffs",value:function(){var e=this.selectedCombatant;return[{spellId:r.a.ASCENDANCE_TALENT_ENHANCEMENT.id,timelineHighlight:!0},{spellId:r.a.STORMBRINGER_BUFF.id,timelineHighlight:!0},{spellId:r.a.BERSERKING.id,timelineHighlight:!0},{spellId:r.a.BLOOD_FURY_SPELL_AND_PHYSICAL.id,timelineHighlight:!0},{spellId:Object.keys(V.a).map((function(e){return Number(e)})),timelineHighlight:!0},{spellId:r.a.HOT_HAND_BUFF.id,enabled:e.hasTalent(r.a.HOT_HAND_TALENT.id),timelineHighlight:!0},{spellId:r.a.HAILSTORM_BUFF.id,enabled:e.hasTalent(r.a.HAILSTORM_TALENT.id),timelineHighlight:!0},{spellId:r.a.STORMKEEPER_TALENT_ENHANCEMENT.id,triggeredBySpellId:r.a.STORMKEEPER_TALENT_ENHANCEMENT.id,timelineHighlight:!0},{spellId:r.a.WINDFURY_TOTEM_BUFF.id,triggeredBySpellId:r.a.WINDFURY_TOTEM.id,timelineHighlight:!0}]}}]),t}(t(797).a),J=t(15),X=t(754),Q=t(752),Z=t(58),$=t(747),ee=t(751),ae=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).spellUsable=void 0,i.damageGained=0,i.addEventListener(J.f.applybuff.by(w.a).spell(E.a.STORMBRINGER_BUFF),i.onStormbringerApplied),i.addEventListener(J.f.cast.by(w.a).spell(d),i.onStormstrikeUseWithStormbringerBuff),i.addEventListener(J.f.damage.by(w.a).spell(u),i.onStrikeDamage),i}return Object(l.a)(t,[{key:"onStormbringerApplied",value:function(e){this.spellUsable.isOnCooldown(E.a.STORMSTRIKE_CAST.id)&&this.spellUsable.endCooldown(E.a.STORMSTRIKE_CAST.id),this.spellUsable.isOnCooldown(E.a.WINDSTRIKE_CAST.id)&&this.spellUsable.endCooldown(E.a.WINDSTRIKE_CAST.id)}},{key:"onStormstrikeUseWithStormbringerBuff",value:function(e){this.selectedCombatant.hasBuff(E.a.STORMBRINGER_BUFF.id)}},{key:"onStrikeDamage",value:function(e){this.selectedCombatant.hasBuff(E.a.STORMBRINGER_BUFF.id)&&(this.damageGained+=Object(Q.a)(e,.25))}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"small",category:Z.a.GENERAL},g.a.createElement(W.a,{spell:E.a.STORMBRINGER},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageGained}))))}}]),t}(w.c);ae.dependencies={spellUsable:X.b};var te=ae,ne=t(756),ie=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).enemies=void 0,i.buffedFlameShockDmg=0,i.active=i.selectedCombatant.hasTalent(r.a.LASHING_FLAMES_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(r.a.FLAME_SHOCK),i.onFlameShockDamage),i}return Object(l.a)(t,[{key:"onFlameShockDamage",value:function(e){var a=this.enemies.getEntity(e);a&&a.hasBuff(r.a.LASHING_FLAMES_DEBUFF.id,e.timestamp)&&(this.buffedFlameShockDmg+=Object(Q.a)(e,1))}},{key:"suggestions",value:function(e){e(this.uptimeThreshold).addSuggestion((function(e,a,t){return e(g.a.createElement(g.a.Fragment,null,"Your ",g.a.createElement(I.a,{id:r.a.LASHING_FLAMES_TALENT.id})," uptime can be improved. As ",g.a.createElement(I.a,{id:r.a.LASHING_FLAMES_DEBUFF.id})," increases the damage of ",g.a.createElement(I.a,{id:r.a.FLAME_SHOCK.id})," on its target,"," ","try to maintain 100% uptime for maximum damage increase. To achieve this, you can strike the target with ",g.a.createElement(I.a,{id:r.a.LAVA_LASH.id})," ","when ",g.a.createElement(I.a,{id:r.a.LASHING_FLAMES_DEBUFF.id})," is about to expire.")).icon(r.a.LASHING_FLAMES_TALENT.icon).actual(g.a.createElement(g.a.Fragment,null,g.a.createElement(I.a,{id:r.a.LASHING_FLAMES_DEBUFF.id})," was active for ",Object(_.e)(a),"% of the fight")).recommended("recommended: ".concat(Object(_.e)(t),"%"))}))}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:p.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS,tooltip:g.a.createElement(g.a.Fragment,null,"Lashing Flames contributed ",Object(_.f)(this.buffedFlameShockDmg)," total Flame Shock damage (",Object(_.e)(this.owner.getPercentageOfTotalDamageDone(this.buffedFlameShockDmg))," %).",g.a.createElement("br",null))},g.a.createElement(W.a,{spell:r.a.LASHING_FLAMES_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(g.a.Fragment,null,g.a.createElement(B.a,null)," ",Object(_.e)(this.uptime),"% ",g.a.createElement("small",null,"uptime")),g.a.createElement("br",null),g.a.createElement(ee.a,{amount:this.buffedFlameShockDmg}),g.a.createElement("br",null))))}},{key:"uptime",get:function(){return this.enemies.getBuffUptime(r.a.LASHING_FLAMES_DEBUFF.id)/this.owner.fightDuration}},{key:"uptimeThreshold",get:function(){return{actual:this.uptime,isLessThan:{minor:.99,average:.95,major:.85},style:b.a.PERCENTAGE}}}]),t}(w.c);ie.dependencies={enemies:ne.a};var se=ie,ce=1,le=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).buffedLavaLashDamage=0,i.active=i.selectedCombatant.hasTalent(r.a.HOT_HAND_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(r.a.LAVA_LASH),i.onLavaLashDamage),i}return Object(l.a)(t,[{key:"onLavaLashDamage",value:function(e){this.selectedCombatant.hasBuff(r.a.HOT_HAND_BUFF.id)&&(this.buffedLavaLashDamage+=Object(Q.a)(e,ce))}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.HOT_HAND_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.buffedLavaLashDamage}),g.a.createElement("br",null))))}}]),t}(w.c),re=.5,oe=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).damageGained=0,i.active=i.selectedCombatant.hasTalent(r.a.FORCEFUL_WINDS_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(r.a.WINDFURY_ATTACK),i.onDamage),i}return Object(l.a)(t,[{key:"onDamage",value:function(e){var a=this.selectedCombatant.getBuff(r.a.FORCEFUL_WINDS_BUFF.id);if(a){var t=a.stacks||0;this.damageGained+=Object(Q.a)(e,t*re)}}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.FORCEFUL_WINDS_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageGained}),g.a.createElement("br",null))))}}]),t}(w.c),Ee=t(939),de=t(888),ue=t(940),me=t(827),Te=.35,he=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).casts=0,i.hits=0,i.damage=0,i.currentStacks=0,i.lostStacks=0,i.totalStacksGained=0,i.overcappedStacks=0,i.currentMaelstromWeaponStacks=0,i.timestamp=0,i.active=i.selectedCombatant.hasTalent(r.a.HAILSTORM_TALENT.id),i.addEventListener(J.f.applybuffstack.by(w.a).spell(r.a.MAELSTROM_WEAPON_BUFF),i.onMaelstromWeaponStackApply),[r.a.CHAIN_HEAL,r.a.CHAIN_LIGHTNING,r.a.HEALING_SURGE,r.a.LIGHTNING_BOLT].forEach((function(e){i.addEventListener(J.f.cast.by(w.a).spell(e),i.onSpellWithCastTimeCast)})),i.addEventListener(J.f.cast.by(w.a).spell(r.a.FROST_SHOCK),i.onFrostShockCast),i.addEventListener(J.f.damage.by(w.a).spell(r.a.FROST_SHOCK),i.onFrostShockDamage),i.addEventListener(J.f.removebuff.by(w.a).spell(r.a.HAILSTORM_BUFF),i.onHailstormRemove),i.addEventListener(J.f.removebuffstack.by(w.a).spell(r.a.HAILSTORM_BUFF),i.onHailstormStackRemove),i}return Object(l.a)(t,[{key:"onMaelstromWeaponStackApply",value:function(e){this.currentMaelstromWeaponStacks=e.stack}},{key:"onSpellWithCastTimeCast",value:function(){var e=Math.min(5,this.currentMaelstromWeaponStacks);this.currentMaelstromWeaponStacks-=e;var a=Math.min(e,5-this.currentStacks);this.currentStacks+=a,this.totalStacksGained+=a,this.overcappedStacks+=e-a}},{key:"onFrostShockCast",value:function(){this.selectedCombatant.hasBuff(r.a.HAILSTORM_BUFF.id)&&(this.currentStacks-=5,this.currentStacks=this.currentStacks<0?0:this.currentStacks,this.casts+=1)}},{key:"onFrostShockDamage",value:function(e){this.selectedCombatant.hasBuff(r.a.HAILSTORM_BUFF.id)&&(this.hits+=1,this.damage+=Object(Q.a)(e,5*Te))}},{key:"onHailstormStackRemove",value:function(e){0!==this.currentStacks&&(this.lostStacks+=this.currentStacks-e.stack,this.currentStacks=e.stack)}},{key:"onHailstormRemove",value:function(){0!==this.currentStacks&&(this.lostStacks+=this.currentStacks,this.currentStacks=0)}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS,tooltip:g.a.createElement("ul",null,g.a.createElement("li",null,"".concat(Object(_.d)(this.totalStacksGained)," / ").concat(Object(_.d)(this.totalStacksGained+this.overcappedStacks)," stacks gained: you overcapped ").concat(this.overcappedStacks," stacks.")),g.a.createElement("li",null,"".concat(Object(_.d)(this.totalStacksGained-this.lostStacks)," / ").concat(Object(_.d)(this.totalStacksGained)," stacks used: ").concat(this.lostStacks," stacks lost due to timeout.")))},g.a.createElement(W.a,{spell:r.a.HAILSTORM_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damage,approximate:!0}),g.a.createElement("br",null),g.a.createElement(me.a,{casts:this.casts,hits:this.hits}),g.a.createElement("br",null),g.a.createElement(g.a.Fragment,null,Object(_.e)((this.totalStacksGained-this.lostStacks)/(this.totalStacksGained+this.overcappedStacks)),"% ",g.a.createElement("small",null,"stacks used")))))}}]),t}(w.c),Se=t(765),Ae=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).healthGained=0,i.procCount=0,i.active=i.selectedCombatant.hasTalent(r.a.NATURES_GUARDIAN_TALENT.id),i.addEventListener(J.f.heal.by(w.a).spell(r.a.NATURES_GUARDIAN_HEAL),i.onNaturesGuardianHeal),i}return Object(l.a)(t,[{key:"onNaturesGuardianHeal",value:function(e){this.procCount+=1,this.healthGained+=e.amount}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(999),size:"small",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.NATURES_GUARDIAN_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(Se.a,{amount:this.healthGained}))))}}]),t}(w.c),fe=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).damageGained=0,i.active=i.selectedCombatant.hasTalent(r.a.CRASHING_STORM_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(r.a.CRASHING_STORM_DAMAGE),i.onDamage),i}return Object(l.a)(t,[{key:"onDamage",value:function(e){this.damageGained+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.CRASHING_STORM_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageGained}))))}}]),t}(w.c),Le=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).damageGained=0,i.casts=0,i.hits=0,i.active=i.selectedCombatant.hasTalent(r.a.SUNDERING_TALENT.id),i.addEventListener(J.f.cast.by(w.a).spell(r.a.SUNDERING_TALENT),i.onCast),i.addEventListener(J.f.damage.by(w.a).spell(r.a.SUNDERING_TALENT),i.onDamage),i}return Object(l.a)(t,[{key:"onDamage",value:function(e){this.hits+=1,this.damageGained+=e.amount+(e.absorbed||0)}},{key:"onCast",value:function(e){this.casts+=1}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.SUNDERING_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageGained}),g.a.createElement("br",null),g.a.createElement(me.a,{casts:this.casts,hits:this.hits}))))}}]),t}(w.c),Oe=[r.a.LIGHTNING_BOLT_OVERLOAD,r.a.LIGHTNING_BOLT,r.a.CHAIN_LIGHTNING_OVERLOAD,r.a.CHAIN_LIGHTNING],ge=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).damageDoneByBuffedCasts=0,i.active=i.selectedCombatant.hasTalent(r.a.STORMKEEPER_TALENT_ENHANCEMENT.id),Oe.forEach((function(e){i.addEventListener(J.f.damage.by(w.a).spell(e),i.onSpellDamage)})),i}return Object(l.a)(t,[{key:"onSpellDamage",value:function(e){this.selectedCombatant.hasBuff(r.a.STORMKEEPER_TALENT_ENHANCEMENT.id)&&(this.damageDoneByBuffedCasts+=e.amount)}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),category:Z.a.TALENTS,size:"flexible",tooltip:"Buffed casts contributed ".concat(Object(_.d)(this.damageDoneByBuffedCasts)," damage (").concat(Object(_.e)(this.damagePercent),"% of your damage)")},g.a.createElement(W.a,{spell:r.a.STORMKEEPER_TALENT_ENHANCEMENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageDoneByBuffedCasts}),g.a.createElement("br",null))))}},{key:"damagePercent",get:function(){return this.owner.getPercentageOfTotalDamageDone(this.damageDoneByBuffedCasts)}},{key:"damagePerSecond",get:function(){return this.damageDoneByBuffedCasts/(this.owner.fightDuration/1e3)}}]),t}(w.c),Ne=t(826),be=.2,_e=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).enemies=void 0,i.damageGained=0,i.active=i.selectedCombatant.hasTalent(r.a.EARTHEN_SPIKE_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(r.a.EARTHEN_SPIKE_TALENT),i.onEarthenSpikeDamage),i.addEventListener(J.f.damage.by(w.a),i.onAnyDamage),i}return Object(l.a)(t,[{key:"onEarthenSpikeDamage",value:function(e){this.damageGained+=e.amount+(e.absorbed||0)}},{key:"onAnyDamage",value:function(e){var a=this.enemies.getEntity(e);a&&a.hasBuff(r.a.EARTHEN_SPIKE_TALENT.id)&&this.buffedSchools.includes(e.ability.type)&&(this.damageGained+=Object(Q.a)(e,be))}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.EARTHEN_SPIKE_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageGained}))))}},{key:"buffedSchools",get:function(){return[Ne.a.ids.PHYSICAL,Ne.a.ids.NATURE]}}]),t}(w.c);_e.dependencies={enemies:ne.a};var pe=_e,Ie=t(1032),ve=t(828),ye=t(755),Re=[r.a.STORMSTRIKE_DAMAGE.id,r.a.WINDSTRIKE_DAMAGE.id],ke=400,Ce=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).eventHistory=void 0,i.abilityTracker=void 0,i.extraHits=0,i.extraDamage=0,i.active=i.selectedCombatant.hasTalent(r.a.STORMFLURRY_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(u),i.onStormstrikeDamage),i}return Object(l.a)(t,[{key:"onStormstrikeDamage",value:function(e){this.eventHistory.last(1,ke,J.f.damage.by(w.a).spell(u)).length&&(Re.includes(e.ability.guid)&&(this.extraHits+=1),this.extraDamage+=e.amount+(e.absorbed||0))}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),category:Z.a.TALENTS,size:"flexible",tooltip:"You had ".concat(this.extraHits," extra Stormstrike").concat(this.selectedCombatant.hasTalent(r.a.ASCENDANCE_TALENT_ENHANCEMENT)?"/Windstrike":""," hits (+").concat(Object(_.e)(this.extraHits/this.totalStormstrikeCasts),"%).")},g.a.createElement(W.a,{spell:r.a.STORMFLURRY_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.extraDamage}),g.a.createElement("br",null))))}},{key:"totalStormstrikeCasts",get:function(){var e=this,a=0;return d.forEach((function(t){a+=e.abilityTracker.getAbility(t.id).casts||0})),a}}]),t}(w.c);Ce.dependencies={eventHistory:ve.a,abilityTracker:ye.a};var Fe=Ce,Ge=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).spellUsable=void 0,i.casts=0,i.cooldownReduced=0,i.active=i.selectedCombatant.hasTalent(r.a.ICE_STRIKE_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(r.a.ICE_STRIKE_TALENT),i.onIceStrikeDamage),i}return Object(l.a)(t,[{key:"onIceStrikeDamage",value:function(){this.casts+=1,this.spellUsable.isOnCooldown(r.a.FLAME_SHOCK.id)&&(this.cooldownReduced+=this.spellUsable.cooldownRemaining(r.a.FLAME_SHOCK.id),this.spellUsable.endCooldown(r.a.FLAME_SHOCK.id))}},{key:"statistic",value:function(){var e=this.cooldownReduced/1e3;return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS,tooltip:"You cast Ice Strike ".concat(this.casts," times, for a total shock cooldown reduction of ").concat(Object(_.d)(e)," seconds.")},g.a.createElement(W.a,{spell:r.a.ICE_STRIKE_TALENT},g.a.createElement(g.a.Fragment,null,Object(_.d)(e/this.casts),"s ",g.a.createElement("small",null," avg. Shock Cooldown Reduction"))))}}]),t}(w.c);Ge.dependencies={spellUsable:X.b};var He=Ge,Me=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).casts=0,i.hits=0,i.fireNovaDamage=0,i.active=i.selectedCombatant.hasTalent(r.a.FIRE_NOVA_TALENT.id),i.addEventListener(J.f.cast.by(w.a).spell(r.a.FIRE_NOVA_TALENT),i.onFireNovaCast),i.addEventListener(J.f.damage.by(w.a).spell(r.a.FIRE_NOVA_DAMAGE),i.onFireNovaDamage),i}return Object(l.a)(t,[{key:"onFireNovaCast",value:function(){this.casts+=1}},{key:"onFireNovaDamage",value:function(e){this.hits+=1,this.fireNovaDamage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),size:"flexible",category:Z.a.TALENTS},g.a.createElement(W.a,{spell:r.a.FIRE_NOVA_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.fireNovaDamage}),g.a.createElement("br",null),g.a.createElement(me.a,{casts:this.casts,hits:this.hits}))))}}]),t}(w.c),De=t(988),je=.15,Ue=[r.a.STORMSTRIKE_DAMAGE.id,r.a.WINDSTRIKE_DAMAGE.id],Pe=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).damageGained=0,i.maelstromWeaponGained=0,i.maelstromWeaponWasted=0,i.active=i.selectedCombatant.hasTalent(r.a.ELEMENTAL_ASSAULT_TALENT.id),i.addEventListener(J.f.damage.by(w.a).spell(u),i.onStormstrikeDamage),i}return Object(l.a)(t,[{key:"onStormstrikeDamage",value:function(e){this.damageGained+=Object(Q.a)(e,je),Ue.includes(e.ability.guid)&&(this.maelstromWeaponGained+=1);var a=this.selectedCombatant.getBuff(r.a.MAELSTROM_WEAPON_BUFF.id);10===(null===a||void 0===a?void 0:a.stacks)&&(this.maelstromWeaponWasted+=1)}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.OPTIONAL(),category:Z.a.TALENTS,size:"flexible"},g.a.createElement(W.a,{spell:r.a.ELEMENTAL_ASSAULT_TALENT},g.a.createElement(g.a.Fragment,null,g.a.createElement(ee.a,{amount:this.damageGained}),g.a.createElement("br",null),g.a.createElement(De.a,{amount:this.maelstromWeaponGained,wasted:this.maelstromWeaponWasted,resourceType:r.a.MAELSTROM_WEAPON_BUFF}),g.a.createElement("br",null))))}}]),t}(w.c),we=1,Be=3e3,We=1,Ke=15e3,xe=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).maelstromWeaponGained=0,i.addEventListener(J.f.cast.by(w.a).spell(r.a.FERAL_SPIRIT),i.onFeralSpiritCast),i}return Object(l.a)(t,[{key:"onFeralSpiritCast",value:function(e){var a=we+We*(Ke/Be);this.maelstromWeaponGained+=a}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:p.a.OPTIONAL(),size:"flexible",category:Z.a.GENERAL},g.a.createElement(W.a,{spell:r.a.FERAL_SPIRIT},g.a.createElement(g.a.Fragment,null,g.a.createElement(De.a,{amount:this.maelstromWeaponGained,resourceType:r.a.MAELSTROM_WEAPON_BUFF,approximate:!0}))))}}]),t}(w.c),Ye=t(989),ze=function(){function e(a){Object(n.a)(this,e),this.startTime=void 0,this.endTime=void 0,this.startTime=a}return Object(l.a)(e,[{key:"end",value:function(e){this.endTime=e}},{key:"duration",get:function(){return void 0===this.endTime?0:this.endTime-this.startTime}},{key:"ended",get:function(){return void 0!==this.endTime}}]),e}(),Ve=function(){function e(){Object(n.a)(this,e),this.intervals=void 0,this.intervals=[]}return Object(l.a)(e,[{key:"startInterval",value:function(e){this.isLastIntervalInProgress||this.intervals.push(new ze(e))}},{key:"endInterval",value:function(e){this.isLastIntervalInProgress&&this.intervals[this.intervals.length-1].end(e)}},{key:"totalDuration",get:function(){return this.intervals.reduce((function(e,a){return e+a.duration}),0)}},{key:"isLastIntervalInProgress",get:function(){var e=this.intervals.length;return 0!==e&&!this.intervals[e-1].ended}}]),e}(),qe=[r.a.CHAIN_HEAL,r.a.CHAIN_LIGHTNING,r.a.HEALING_SURGE,r.a.LIGHTNING_BOLT],Je=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(e){var i;return Object(n.a)(this,t),(i=a.call(this,e)).stacksGained=0,i.stacksUsed=0,i.stacksExpired=0,i.currentStacks=0,i.cappedIntervals=void 0,i.cappedIntervals=new Ve,i.addEventListener(J.f.applybuff.by(w.a).spell(r.a.MAELSTROM_WEAPON_BUFF),i.gainFirstStack),i.addEventListener(J.f.applybuffstack.by(w.a).spell(r.a.MAELSTROM_WEAPON_BUFF),i.gainSubsequentStack),i.addEventListener(J.f.removebuff.by(w.a).spell(r.a.MAELSTROM_WEAPON_BUFF),i.removeAllStacks),i.addEventListener(J.f.removebuffstack.by(w.a).spell(r.a.MAELSTROM_WEAPON_BUFF),i.spendStacks),i.addEventListener(J.f.cast.by(w.a).spell(qe),i.castMaelstromWeaponSpender),i}return Object(l.a)(t,[{key:"reachMaxStacks",value:function(e){this.cappedIntervals.startInterval(e)}},{key:"stopHavingMaxStacks",value:function(e){this.cappedIntervals.endInterval(e)}},{key:"castMaelstromWeaponSpender",value:function(e){var a=Math.min(this.currentStacks,5);0!==a&&(this.stacksUsed+=a,10===this.currentStacks&&this.stopHavingMaxStacks(e.timestamp),this.currentStacks-=a)}},{key:"gainFirstStack",value:function(e){this.currentStacks=1,this.stacksGained+=1}},{key:"gainSubsequentStack",value:function(e){this.currentStacks+1===e.stack&&(this.currentStacks=e.stack,this.stacksGained+=1,10===this.currentStacks&&this.reachMaxStacks(e.timestamp))}},{key:"removeAllStacks",value:function(e){0!==this.currentStacks&&(10===this.currentStacks&&this.stopHavingMaxStacks(e.timestamp),this.stacksExpired+=this.currentStacks,this.currentStacks=0)}},{key:"spendStacks",value:function(e){this.currentStacks,e.stack,10===this.currentStacks&&this.stopHavingMaxStacks(e.timestamp),this.currentStacks=e.stack}},{key:"statistic",value:function(){return g.a.createElement(K.a,{position:$.a.CORE(),size:"flexible",tooltip:g.a.createElement(g.a.Fragment,null,"You gained ",this.stacksGained," Maelstrom Weapon stacks and used ",this.stacksUsed)},g.a.createElement(W.a,{spell:r.a.MAELSTROM_WEAPON},g.a.createElement(B.a,null)," ",Object(_.e)(this.timePercentageSpentWithCappedStacks),"% ",g.a.createElement("small",null,"of fight with max stacks"),g.a.createElement("br",null),Object(_.e)(this.stacksUsed/this.stacksGained),"% ",g.a.createElement("small",null,"of stacks used")))}},{key:"timePercentageSpentWithCappedStacks",get:function(){return this.cappedIntervals.totalDuration/this.owner.fightDuration}}]),t}(w.c),Xe=function(e){Object(i.a)(t,e);var a=Object(s.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return t}(c.a);Xe.specModules={ankhNormalizer:T.a,astralShift:h.a,stormbringer:te,feralSpirit:xe,alwaysBeCasting:y,abilities:m,buffs:q,checklist:z,cooldownThroughputTracker:L,flameShock:Ye.a,windfuryTotem:x,maelstromWeapon:Je,lashingFlames:se,forcefulWinds:oe,elementalBlast:Ie.a,stormflurry:Fe,hotHand:le,iceStrike:He,spiritWolf:Ee.a,earthShield:de.b,staticCharge:ue.a,elementalAssault:Pe,hailstorm:he,fireNova:Me,naturesGuardian:Ae,crashingStorm:fe,stormkeeper:ge,sundering:Le,earthenSpike:pe};a.default=Xe},827:function(e,a,t){"use strict";var n=t(0),i=t.n(n),s=function(e){var a=e.casts,t=e.hits,n=e.unique,s=e.approximate,c=t/a||0;return i.a.createElement(i.a.Fragment,null,s&&"\u2248",c.toFixed(1)," ",i.a.createElement("small",null," ",n?"unique targets hit":"average"," ",n?"":1===c?"hit":"hits"," per cast"))};a.a=s,s.defaultProps={approximate:!1,unique:!1}}}]);
//# sourceMappingURL=EnhancementShaman.f6ebc78e.chunk.js.map
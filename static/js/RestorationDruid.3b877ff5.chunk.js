(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[44],{719:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),r=a(11),s=a(776),l=a(875),o=a(876),c=a(874),u=a(9),h=a(3),d=a(768),m=a(15),g=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"normalize",value:function(e){var t=this,a=[],n=[];return e.forEach((function(e,i){if(a.push(e),e.type===m.b.Cast&&e.ability.guid===h.a.WILD_GROWTH.id){for(var r=i-1;r>=0;r-=1){var s=a[r];if(Math.abs(s.timestamp-e.timestamp)>100){n.reverse(),a=a.concat(n),n=[];break}s.type===m.b.ApplyBuff&&s.ability.guid===h.a.WILD_GROWTH.id&&s.targetID===t.owner.playerId&&(a.splice(r,1),n.push(s))}n.length&&(n.reverse(),a=a.concat(n),n=[])}if(e.type===m.b.Cast&&e.ability.guid===h.a.REJUVENATION.id){for(var l=i-1;l>=0;l-=1){var o=a[l];if(o.timestamp!==e.timestamp){n.reverse(),a=a.concat(n),n=[];break}o.type===m.b.ApplyBuff&&[h.a.REJUVENATION.id,h.a.REJUVENATION_GERMINATION.id].includes(o.ability.guid)&&o.targetID===e.targetID&&(a.splice(l,1),n.push(o))}n.length&&(n.reverse(),a=a.concat(n),n=[])}if(e.type===m.b.ApplyBuff&&e.ability.guid===h.a.WILD_GROWTH.id){for(var c=i-1;c>=0;c-=1){var u=a[c];if(Math.abs(u.timestamp-e.timestamp)>100){n.reverse(),a=a.concat(n),n=[];break}u.type!==m.b.ApplyBuff&&u.type!==m.b.Cast||u.ability.guid!==h.a.FLOURISH_TALENT.id||(a.splice(c,1),n.push(u))}n.length&&(n.reverse(),a=a.concat(n),n=[])}})),a}}]),a}(d.a),E=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"normalize",value:function(e){var t=[];return e.forEach((function(e,a){if(t.push(e),e.type===m.b.Cast&&e.ability.guid===h.a.REGROWTH.id)for(var n=e.timestamp,i=a;i>=0;i-=1){var r=t[i];if(n-r.timestamp>50)break;if(r.type===m.b.RemoveBuff&&r.ability.guid===h.a.CLEARCASTING_BUFF.id&&r.sourceID===e.sourceID){t.splice(i,1),t.push(r),r.__modified=!0;break}}})),t}}]),a}(d.a),f=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).instantTickHotIds=[h.a.REJUVENATION.id,h.a.REJUVENATION_GERMINATION.id,h.a.REGROWTH.id,h.a.WILD_GROWTH.id],e}return Object(u.a)(a,[{key:"normalize",value:function(e){var t=this,a=[];return e.forEach((function(e,n){if(a.push(e),e.type===m.b.ApplyBuff&&t.instantTickHotIds.includes(e.ability.guid)){var i=e.ability.guid,r=e.timestamp;if(!e.targetID)return;for(var s=n;s>=0;s-=1){var l=a[s];if(r-l.timestamp>0)break;if(l.type===m.b.Heal&&l.ability.guid===i&&l.targetID===e.targetID){a.splice(s,1),a.push(l),l.__modified=!0;break}}}})),a}}]),a}(d.a),T=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"normalize",value:function(e){var t=[];return e.forEach((function(a,n){if(t.push(a),a.type===m.b.Cast&&a.ability.guid===h.a.INCARNATION_TREE_OF_LIFE_TALENT.id)for(var i=a.timestamp,r=n;r<e.length-1;r+=1){var s=e[r];if(s.timestamp-i>200){t.pop();break}if(s.type===m.b.ApplyBuff&&s.ability.guid===h.a.INCARNATION_TOL_ALLOWED.id)break}})),t}}]),a}(d.a),p=a(7),b=a(0),v=a.n(b),O=a(203),y=a(767),R=a(757),A=a(777),I=a(819),C=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"nonHealingTimeSuggestionThresholds",get:function(){return{actual:this.nonHealingTimePercentage,isGreaterThan:{minor:.3,average:.4,major:.8},style:"percentage"}}},{key:"downtimeSuggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.2,average:.3,major:.5},style:"percentage"}}}]),a}(a(870).a);C.HEALING_ABILITIES_ON_GCD=[h.a.REJUVENATION.id,h.a.REGROWTH.id,h.a.WILD_GROWTH.id,h.a.TRANQUILITY_CAST.id,h.a.CENARION_WARD_TALENT.id,h.a.LIFEBLOOM_HOT_HEAL.id,h.a.SWIFTMEND.id,h.a.FLOURISH_TALENT.id,h.a.EFFLORESCENCE_CAST.id,h.a.NATURES_CURE.id];var L=C,H=a(33),N=a(747),_=a(746),S=a(4),w=a(53),k=a(761),j=a(43),P=a(13),F=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).totalProcs=0,e.expiredProcs=0,e.overwrittenProcs=0,e.usedProcs=0,e.availableProcs=0,e.nonCCRegrowths=0,e.totalRegrowths=0,e.lowHealthRegrowthsNoCC=0,e.abundanceRegrowthsNoCC=0,e.procsPerCC=1,e.addEventListener(m.f.applybuff.by(j.a).spell(h.a.CLEARCASTING_BUFF),e.onApplyBuff),e.addEventListener(m.f.refreshbuff.by(j.a).spell(h.a.CLEARCASTING_BUFF),e.onRefreshBuff),e.addEventListener(m.f.removebuff.by(j.a).spell(h.a.CLEARCASTING_BUFF),e.onRemoveBuff),e.addEventListener(m.f.cast.by(j.a).spell(h.a.REGROWTH),e.onCast),e.addEventListener(m.f.heal.by(j.a).spell(h.a.REGROWTH),e.onHeal),e}return Object(u.a)(a,[{key:"onApplyBuff",value:function(e){this.totalProcs+=this.procsPerCC,this.availableProcs=this.procsPerCC}},{key:"onRefreshBuff",value:function(e){this.totalProcs+=this.procsPerCC,this.overwrittenProcs+=this.availableProcs,this.availableProcs=this.procsPerCC}},{key:"onRemoveBuff",value:function(e){this.availableProcs<0&&(this.availableProcs=0),this.expiredProcs+=this.availableProcs,this.availableProcs=0}},{key:"onCast",value:function(e){if(!this.selectedCombatant.hasBuff(h.a.INNERVATE.id))if(this.totalRegrowths+=1,this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id))this.availableProcs-=1,this.usedProcs+=1;else{this.nonCCRegrowths+=1;var t=this.selectedCombatant.getBuff(h.a.ABUNDANCE_BUFF.id);t&&(this.abundanceRegrowthsNoCC+=t.stacks>=4)}}},{key:"onHeal",value:function(e){if(!e.tick){var t=e.amount+(e.absorbed||0);(e.hitPoints-t)/e.maxHitPoints<.3&&!this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id,e.timestamp,123)&&(this.lowHealthRegrowthsNoCC+=1)}}},{key:"suggestions",value:function(e){var t=this;e(this.clearcastingUtilSuggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your ",v.a.createElement(S.a,{id:h.a.CLEARCASTING_BUFF.id})," procs should be used quickly so they do not get overwritten or expire.")).icon(h.a.CLEARCASTING_BUFF.icon).actual(P.i18n._({id:"druid.restoration.suggestions.clearcasting.wastedProcs",defaults:"You missed {0} out of {1} ({2}%) of your free regrowth procs",values:{0:t.wastedProcs,1:t.totalProcs,2:Object(H.e)(1-t.clearcastingUtilPercent,1)}})).recommended("<".concat(Math.round(Object(H.e)(1-n,1)),"% is recommended"))})),e(this.nonCCRegrowthsSuggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{id:h.a.REGROWTH.id})," is a very inefficient spell to cast without a ",v.a.createElement(S.a,{id:h.a.CLEARCASTING_BUFF.id})," proc. It should only be cast when your target is about to die and you do not have ",v.a.createElement(S.a,{id:h.a.SWIFTMEND.id})," available.")).icon(h.a.REGROWTH.icon).actual(P.i18n._({id:"druid.restoration.suggestions.clearcasting.efficiency",defaults:"You cast {0} Regrowths per minute without a Clearcasting proc.",values:{0:t.nonCCRegrowthsPerMinute.toFixed(1)}})).recommended("".concat(n.toFixed(1)," CPM is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{size:"flexible",position:N.a.CORE(20),tooltip:v.a.createElement(v.a.Fragment,null,"Clearcasting procced ",v.a.createElement("strong",null,this.totalProcs," free Regrowths"),v.a.createElement("ul",null,v.a.createElement("li",null,"Used: ",v.a.createElement("strong",null,this.usedProcs," ",this.hadInvisibleRefresh?"*":"")),this.hadInvisibleRefresh&&v.a.createElement("li",null,"Overwritten: ",v.a.createElement("strong",null,this.overwrittenProcs)),v.a.createElement("li",null,"Expired: ",v.a.createElement("strong",null,this.expiredProcs))),v.a.createElement("strong",null,this.nonCCRegrowths," of your Regrowths were cast without a Clearcasting proc."),v.a.createElement("strong",null,this.lowHealthRegrowthsNoCC)," of these were cast on targets with low health and",v.a.createElement("strong",null,this.abundanceRegrowthsNoCC)," of these were cast with more than ",4," stacks of abundance, so they have been disregarded as bad Regrowth(s). Using a clearcasting proc as soon as you get it should be one of your top priorities. Even if it overheals you still get that extra mastery stack on a target and the minor HoT. Spending your GCD on a free spell also helps with mana management in the long run.",v.a.createElement("br",null),this.hadInvisibleRefresh&&v.a.createElement("em",null,"* Mark of Clarity can sometimes 'invisibly refresh', which can make your total procs show as lower than you actually got. Basically, you invisibly overwrote some number of procs, but we aren't able to see how many."))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.CLEARCASTING_BUFF.id})," Clearcasting Util")},v.a.createElement(v.a.Fragment,null,Object(H.e)(this.clearcastingUtilPercent,1)," %")))}},{key:"wastedProcs",get:function(){return this.expiredProcs+this.overwrittenProcs}},{key:"clearcastingUtilPercent",get:function(){var e=this.usedProcs/this.totalProcs;return e>1?1:e}},{key:"hadInvisibleRefresh",get:function(){return this.usedProcs>this.totalProcs}},{key:"clearcastingUtilSuggestionThresholds",get:function(){return{actual:this.clearcastingUtilPercent,isLessThan:{minor:.9,average:.5,major:.25},style:"percentage"}}},{key:"nonCCRegrowthsPerMinute",get:function(){return(this.nonCCRegrowths-(this.lowHealthRegrowthsNoCC+this.abundanceRegrowthsNoCC))/(this.owner.fightDuration/6e4)}},{key:"nonCCRegrowthsSuggestionThresholds",get:function(){return{actual:this.nonCCRegrowthsPerMinute,isGreaterThan:{minor:0,average:1,major:3},style:"number"}}}]),a}(j.c),D=a(760),G=a(61),B=a(21),W=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your ",v.a.createElement(S.a,{id:h.a.LIFEBLOOM_HOT_HEAL.id})," uptime can be improved. ",t.hasDta?v.a.createElement(v.a.Fragment,null,"High uptime is particularly important for taking advantage of your equipped ",v.a.createElement(G.a,{id:B.a.THE_DARK_TITANS_ADVICE.id})):"")).icon(h.a.LIFEBLOOM_HOT_HEAL.icon).actual(P.i18n._({id:"druid.restoration.suggestions.lifebloom.uptime",defaults:"{0}% uptime",values:{0:Object(H.e)(t.uptimePercent)}})).recommended(">".concat(Math.round(Object(H.e)(n)),"% is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{size:"flexible",position:N.a.CORE(10)},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.LIFEBLOOM_HOT_HEAL.id})," Lifebloom Uptime")},v.a.createElement(v.a.Fragment,null,v.a.createElement(D.a,null)," ",Object(H.e)(this.uptimePercent)," %")))}},{key:"uptime",get:function(){return this.combatants.getBuffUptime(h.a.LIFEBLOOM_HOT_HEAL.id)}},{key:"uptimePercent",get:function(){return this.uptime/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.uptimePercent,isLessThan:{minor:.8,average:.6,major:.4},style:"percentage"}}}]),a}(j.c);W.dependencies={combatants:R.a};var M=W,U=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).precastUptime=0,i.castUptime=0,i.castTimestamps=[],i.addEventListener(m.f.cast.by(j.a).spell(h.a.EFFLORESCENCE_CAST),i.onCast),i.addEventListener(m.f.heal.by(j.a).spell(h.a.EFFLORESCENCE_HEAL),i.onHeal),i}return Object(u.a)(a,[{key:"onCast",value:function(e){null!==this.lastCastTimestamp&&(this.castUptime+=Math.min(3e4,e.timestamp-this.lastCastTimestamp)),this.castTimestamps.push(e.timestamp)}},{key:"onHeal",value:function(e){0===this.castTimestamps.length&&(this.precastUptime=e.timestamp-this.owner.fight.start_time)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null,"Your ",v.a.createElement(S.a,{id:h.a.EFFLORESCENCE_CAST.id})," uptime can be improved.")).icon(h.a.EFFLORESCENCE_CAST.icon).actual(P.i18n._({id:"druid.restoration.efflorescence.uptime",defaults:"{0}% uptime",values:{0:Object(H.e)(t.uptimePercent)}})).recommended(">".concat(Math.round(Object(H.e)(n)),"% is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{position:N.a.CORE(12),size:"flexible"},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.EFFLORESCENCE_CAST.id})," Efflorescence uptime")},v.a.createElement(v.a.Fragment,null,v.a.createElement(D.a,null)," ",Object(H.e)(this.uptimePercent)," %")))}},{key:"lastCastTimestamp",get:function(){return 0===this.castTimestamps.length?null:this.castTimestamps[this.castTimestamps.length-1]}},{key:"uptime",get:function(){var e=null===this.lastCastTimestamp?0:Math.min(3e4,this.owner.currentTimestamp-this.lastCastTimestamp);return this.precastUptime+this.castUptime+e}},{key:"uptimePercent",get:function(){return this.uptime/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.uptimePercent,isLessThan:{minor:.9,average:.5,major:.25},style:"percentage"}}}]),a}(j.c),x=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).manaSaved=0,i.wildGrowths=0,i.efflorescences=0,i.cenarionWards=0,i.rejuvenations=0,i.regrowths=0,i.lifeblooms=0,i.swiftmends=0,i.tranquilities=0,i.freeRegrowths=0,i.innervateApplyTimestamp=null,i.castsUnderInnervate=0,i.innervateCount=0,i.secondsManaCapped=0,i.lastInnervateTimestamp=0,i.depleted=!1,i.addEventListener(m.f.applybuff.to(j.a).spell(h.a.INNERVATE),i.onApplyBuff),i.addEventListener(m.f.removebuff.to(j.a).spell(h.a.INNERVATE),i.onRemoveBuff),i.addEventListener(m.f.cast.by(j.a),i.onCast),i.addEventListener(m.f.fightend,i.onFightend),i}return Object(u.a)(a,[{key:"averageManaSaved",get:function(){return this.manaSaved/this.innervateCount||0}},{key:"averageManaSavedSuggestionThresholds",get:function(){return{actual:this.averageManaSaved,isLessThan:{minor:23e3,average:19120,major:13200},style:"number"}}},{key:"wholeSecondsCapped",get:function(){return Math.round(this.secondsManaCapped)}},{key:"secondsCappedSuggestionThresholds",get:function(){return{actual:this.wholeSecondsCapped,isGreaterThan:{minor:0,average:1,major:2},style:"number"}}}]),Object(u.a)(a,[{key:"onApplyBuff",value:function(e){this.innervateCount+=1,this.lastInnervateTimestamp=e.timestamp}},{key:"onRemoveBuff",value:function(e){this.depleted=!1}},{key:"onCast",value:function(e){var t=e.ability.guid;this.selectedCombatant.hasBuff(h.a.INNERVATE.id)&&(e.classResources&&e.classResources[0].amount===e.classResources[0].max&&!this.depleted&&(this.secondsManaCapped=Math.abs(this.lastInnervateTimestamp+1e4-e.timestamp)/1e3,this.depleted=!0),h.a.REJUVENATION.id===t&&(this.selectedCombatant.hasBuff(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id)?this.manaSaved+=.7*h.a.REJUVENATION.manaCost:this.manaSaved+=h.a.REJUVENATION.manaCost,this.castsUnderInnervate+=1,this.rejuvenations+=1),h.a.WILD_GROWTH.id===t&&(this.manaSaved+=h.a.WILD_GROWTH.manaCost,this.castsUnderInnervate+=1,this.wildGrowths+=1),h.a.EFFLORESCENCE_CAST.id===t&&(this.manaSaved+=h.a.EFFLORESCENCE_CAST.manaCost,this.castsUnderInnervate+=1,this.efflorescences+=1),h.a.CENARION_WARD_TALENT.id===t&&(this.manaSaved+=h.a.CENARION_WARD_TALENT.manaCost,this.castsUnderInnervate+=1,this.cenarionWards+=1),h.a.REGROWTH.id===t&&(this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id)?this.freeRegrowths+=1:this.manaSaved+=h.a.REGROWTH.manaCost,this.castsUnderInnervate+=1,this.regrowths+=1),h.a.LIFEBLOOM_HOT_HEAL.id===t&&(this.manaSaved+=h.a.LIFEBLOOM_HOT_HEAL.manaCost,this.castsUnderInnervate+=1,this.lifeblooms+=1),h.a.SWIFTMEND.id===t&&(this.manaSaved+=h.a.SWIFTMEND.manaCost,this.castsUnderInnervate+=1,this.swiftmends+=1),h.a.TRANQUILITY_CAST.id===t&&(this.manaSaved+=h.a.TRANQUILITY_CAST.manaCost,this.castsUnderInnervate+=1,this.tranquilities+=1))}},{key:"onFightend",value:function(){0}},{key:"suggestions",value:function(e){var t=this;0!==this.innervateCount&&(e(this.averageManaSavedSuggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your mana spent during an ",v.a.createElement(S.a,{id:h.a.INNERVATE.id})," can be improved. Always aim to cast 1 wild growth, 1 efflorescence, and fill the rest with rejuvations for optimal usage.")).icon(h.a.INNERVATE.icon).actual(P.i18n._({id:"druid.restoration.suggestions.innervate.efficiency",defaults:"{0} avg mana spent.",values:{0:Object(H.d)(t.averageManaSaved.toFixed(0))}})).recommended(">".concat(Object(H.d)(n)," is recommended"))})),e(this.secondsCappedSuggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"You were capped on mana during ",v.a.createElement(S.a,{id:h.a.INNERVATE.id}),". Try to not use Innervate if you are above 90% mana.")).icon(h.a.INNERVATE.icon).actual(P.i18n._({id:"druid.restoration.suggestions.innervate.secondsCapped",defaults:"~{0} seconds capped",values:{0:t.wholeSecondsCapped}})).recommended("".concat(n," is recommended"))})))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{position:N.a.CORE(14),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"During your ",this.innervateCount," Innervates you cast:",v.a.createElement("ul",null,v.a.createElement("li",null,this.wildGrowths,"/",this.innervateCount," Wild Growths"),v.a.createElement("li",null,this.efflorescences,"/",this.innervateCount," Efflorescences"),this.cenarionWards>0&&v.a.createElement("li",null,this.cenarionWards," Cenarion Wards"),this.rejuvenations>0&&v.a.createElement("li",null,this.rejuvenations," Rejuvenations"),this.regrowths>0&&v.a.createElement("li",null,this.regrowths," Regrowths"),this.lifeblooms>0&&v.a.createElement("li",null,this.lifeblooms," Lifeblooms"),this.swiftmends>0&&v.a.createElement("li",null,this.swiftmends," Swiftmends"),this.tranquilities>0&&v.a.createElement("li",null,this.tranquilities," Tranquilities")))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.INNERVATE.id})," Mana saved per Innervate")},v.a.createElement(v.a.Fragment,null,Object(H.d)(this.averageManaSaved))))}}]),a}(j.c),V=a(755),Y=a(825),J=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).wgHistory=[],e.wgTracker={wgBuffs:[],startTimestamp:0,heal:0,overheal:0,firstTicksOverheal:0,firstTicksRaw:0},e.wgTracker.startTimestamp=e.owner.fight.start_time,e.addEventListener(m.f.cast.by(j.a).spell(h.a.WILD_GROWTH),e.onCast),e.addEventListener(m.f.heal.by(j.a).spell(h.a.WILD_GROWTH),e.onHeal),e.addEventListener(m.f.applybuff.by(j.a).spell(h.a.WILD_GROWTH),e.onApplyBuff),e.addEventListener(m.f.fightend,e.onFightend),e}return Object(u.a)(a,[{key:"averageEffectiveHits",get:function(){return this.wgHistory.reduce((function(e,t){return e+t.wgBuffs.length}),0)/this.wgs||0}},{key:"belowRecommendedCasts",get:function(){return this.wgHistory.filter((function(e){return e.wgBuffs.length<5})).length}},{key:"belowRecommendedPrecasts",get:function(){return this.wgHistory.filter((function(e){return!0===e.badPrecast})).length}},{key:"wgs",get:function(){return this.abilityTracker.getAbility(h.a.WILD_GROWTH.id).casts||0}},{key:"rejuvs",get:function(){return this.abilityTracker.getAbility(h.a.REJUVENATION.id).casts||0}},{key:"wgsPerRejuv",get:function(){return this.wgs/this.rejuvs||0}},{key:"percentBelowRecommendedCasts",get:function(){return this.belowRecommendedCasts/this.wgs||0}},{key:"percentBelowRecommendedPrecasts",get:function(){return this.belowRecommendedPrecasts/this.wgs||0}},{key:"suggestionThresholds",get:function(){return{actual:this.wgsPerRejuv,isLessThan:{minor:.12,average:.08,major:.03},style:"percentage"}}},{key:"suggestionpercentBelowRecommendedCastsThresholds",get:function(){return{actual:this.percentBelowRecommendedCasts,isGreaterThan:{minor:0,average:.15,major:.35},style:"percentage"}}},{key:"suggestionpercentBelowRecommendedPrecastsThresholds",get:function(){return{actual:this.percentBelowRecommendedPrecasts,isGreaterThan:{minor:.05,average:.15,major:.35},style:"percentage"}}}]),Object(u.a)(a,[{key:"onCast",value:function(e){this.wgTracker.wgBuffs.length>0&&(this.wgTracker.badPrecast=this.wgTracker.firstTicksOverheal/this.wgTracker.firstTicksRaw>.5,this.wgHistory.push(this.wgTracker)),this.wgTracker={},this.wgTracker.wgBuffs=[],this.wgTracker.startTimestamp=e.timestamp,this.wgTracker.heal=0,this.wgTracker.overheal=0,this.wgTracker.firstTicksOverheal=0,this.wgTracker.firstTicksRaw=0}},{key:"onHeal",value:function(e){var t=new Y.a(e.amount,e.absorbed,e.overheal);this.wgTracker.heal+=t.effective,this.wgTracker.overheal+=t.overheal,e.timestamp-this.wgTracker.startTimestamp<3e3&&(this.wgTracker.firstTicksRaw+=t.raw,this.wgTracker.firstTicksOverheal+=t.overheal)}},{key:"onApplyBuff",value:function(e){this.wgTracker.wgBuffs.push(e.targetID)}},{key:"onFightend",value:function(){this.wgHistory.push(this.wgTracker)}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionpercentBelowRecommendedPrecastsThresholds).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"Your initial healing from ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," were doing too much overhealing. ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," does most of it's healing initially and declines over duration. Make sure you are not precasting it before damaging event but after damage occurs.")).icon(h.a.WILD_GROWTH.icon).actual(P.i18n._({id:"druid.restoration.suggestions.wildgrowth.overhealing",defaults:"{0}% of casts with high overhealing.",values:{0:Math.round(Object(H.e)(t))}})).recommended("<".concat(Math.round(Object(H.e)(a)),"% is recommended"))})),e(this.suggestionpercentBelowRecommendedCastsThresholds).addSuggestion((function(e){return e(v.a.createElement(v.a.Fragment,null,"You sometimes cast ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," on too few targets. ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," is not mana efficient when hitting few targets, you should only cast it when you can hit at least ",5," wounded targets. Make sure you are not casting on a primary target isolated from the raid. ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," has a maximum hit radius, the injured raiders could have been out of range. Also, you should never pre-hot with ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id}),".")).icon(h.a.WILD_GROWTH.icon).actual(P.i18n._({id:"druid.restoration.suggestions.wildgrowth.tooFewTargets",defaults:"{0}% of your casts on fewer than {RECOMMENDED_HIT_THRESHOLD} targets.",values:{0:Object(H.e)(t.percentBelowRecommendedCasts,0),RECOMMENDED_HIT_THRESHOLD:5}})).recommended("never casting on fewer than ".concat(5," is recommended"))})),e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," to rejuv ratio can be improved, try to cast more wild growths if possible as it is usually more efficient.")).icon(h.a.WILD_GROWTH.icon).actual(P.i18n._({id:"druid.restoration.suggestions.wildgrowth.rejuvenationRatio",defaults:"{0} WGs / {1} rejuvs",values:{0:t.wgs,1:t.rejuvs}})).recommended(">".concat(Math.round(Object(H.e)(n)),"% is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{size:"flexible",position:N.a.CORE(19),tooltip:"Your Wild Growth hit on average ".concat(this.averageEffectiveHits.toFixed(2)," players. ").concat(this.belowRecommendedCasts," of your cast(s) hit fewer than 5 players which is the recommended targets.")},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.WILD_GROWTH.id})," Average Wild Growth Hits")},v.a.createElement(v.a.Fragment,null,this.averageEffectiveHits.toFixed(2))))}}]),a}(j.c);J.dependencies={abilityTracker:V.a};var z,q=J,K=a(12),Q=a(122),Z=a(769),X=a(19),$={int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,masteryStack:!1,vers:!0},ee=(z={},Object(K.a)(z,h.a.REJUVENATION.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!0,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.REJUVENATION_GERMINATION.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!0,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.REGROWTH.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!0,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.WILD_GROWTH.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.CULTIVATION.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!0,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.SPRING_BLOSSOMS.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.CENARION_WARD_HEAL.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.FRENZIED_REGENERATION.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.LIFEBLOOM_HOT_HEAL.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.LIFEBLOOM_BLOOM_HEAL.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!0,masteryStack:!1,vers:!0}),Object(K.a)(z,h.a.SWIFTMEND.id,{int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!0,masteryStack:!1,vers:!0}),Object(K.a)(z,h.a.TRANQUILITY_HEAL.id,{ignored:!1,int:!0,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!0,masteryStack:!0,vers:!0}),Object(K.a)(z,h.a.EFFLORESCENCE_HEAL.id,{int:!0,crit:!0,hasteHpm:!0,hasteHpct:!1,mastery:!0,masteryStack:!1,vers:!0}),Object(K.a)(z,h.a.YSERAS_GIFT_OTHERS.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,masteryStack:!1,vers:!1}),Object(K.a)(z,h.a.YSERAS_GIFT_SELF.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,masteryStack:!1,vers:!1}),Object(K.a)(z,h.a.RENEWAL_TALENT.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,masteryStack:!1,vers:!1}),Object(K.a)(z,h.a.MARK_OF_SHIFTING.id,{int:!1,crit:!1,hasteHpm:!1,hasteHpct:!1,mastery:!1,masteryStack:!1,vers:!1}),z),te=function(e){return ee[e]||$},ae=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e,i;Object(n.a)(this,a);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(i=t.call.apply(t,[this].concat(s))).totalNoMasteryHealing=0,i.druidSpellNoMasteryHealing=0,i.masteryTimesHealing=0,i.hotHealingAttrib={},i.masteryBuffs={},Object.entries(ee).filter((function(e){return e[1].masteryStack})).forEach((function(e){i.hotHealingAttrib[e[0]]={direct:0,mastery:{}}})),i.masteryBuffs=(e={},Object(K.a)(e,h.a.ASTRAL_HARMONY.id,{amount:4e3}),Object(K.a)(e,h.a.JACINS_RUSE.id,{amount:3e3}),e),Object.values(i.masteryBuffs).forEach((function(e){e.attributableHealing=0})),i.addEventListener(m.f.heal.by(j.a),i.onHeal),i.addEventListener(m.f.absorbed.by(j.a),i.onAbsorbed),i}return Object(u.a)(a,[{key:"onHeal",value:function(e){var t=this,a=e.ability.guid,n=this.combatants.getEntity(e),i=new Y.a(e.amount,e.absorbed,e.overheal);if(null!==n)if(this.hotHealingAttrib[a]&&(this.hotHealingAttrib[a].direct+=i.effective),te(a).mastery){var r=this.getHotsOn(n),s=r.length,l=this._decompHeal(i,s);this.totalNoMasteryHealing+=l.noMastery,this.druidSpellNoMasteryHealing+=l.noMastery,this.masteryTimesHealing+=l.noMastery*l.effectiveStackBenefit,r.filter((function(e){return e!==a})).forEach((function(e){return t._tallyMasteryBenefit(e,a,l.oneStack)})),Object.entries(this.masteryBuffs).filter((function(e){return t.selectedCombatant.hasBuff(e[0])})).forEach((function(t){t[1].attributableHealing+=Object(Z.a)(e,l.relativeBuffBenefit(t[1].amount))}))}else this.totalNoMasteryHealing+=i.effective}},{key:"onAbsorbed",value:function(e){this.totalNoMasteryHealing+=e.amount}},{key:"getDirectHealing",value:function(e){return this.hotHealingAttrib[e].direct}},{key:"getMasteryHealing",value:function(e){return Object.values(this.hotHealingAttrib[e].mastery).reduce((function(e,t){return e+t}),0)}},{key:"getMultiMasteryHealing",value:function(e){var t=this,a=0;return e.forEach((function(n){a+=Object.entries(t.hotHealingAttrib[n].mastery).filter((function(t){return!e.includes(Number(t[0]))})).reduce((function(e,t){return e+t[1]}),0),a+=t.hotHealingAttrib[n].direct})),a}},{key:"getHealingDetails",value:function(e){return this.hotHealingAttrib[e]}},{key:"getBuffBenefit",value:function(e){return this.masteryBuffs[e].attributableHealing}},{key:"getAverageTotalMasteryStacks",value:function(){return this.masteryTimesHealing/this.totalNoMasteryHealing}},{key:"getAverageDruidSpellMasteryStacks",value:function(){return this.masteryTimesHealing/this.druidSpellNoMasteryHealing}},{key:"getHotsOn",value:function(e){return e.activeBuffs().map((function(e){return e.ability.guid})).filter((function(e){return te(e).masteryStack}))}},{key:"getHotCount",value:function(e){return this.getHotsOn(e).length}},{key:"_tallyMasteryBenefit",value:function(e,t,a){var n=this.hotHealingAttrib[e].mastery;n[t]?n[t]+=a:n[t]=a}},{key:"decomposeHeal",value:function(e){var t=this.combatants.getEntity(e);if(null===t)return null;var a=new Y.a(e.amount,e.absorbed,e.overheal);return this._decompHeal(a,this.getHotCount(t))}},{key:"_decompHeal",value:function(e,t){var a=this,n=this.statTracker.currentMasteryPercentage,i=1+t*n,r=e.raw/i,s=Math.min(r,e.effective),l=e.effective-s;return{noMastery:s,oneStack:l/t,effectiveStackBenefit:l/(r*n),relativeBuffBenefit:function(e){return t*e/a.statTracker.ratingNeededForNextPercentage(a.statTracker.currentMasteryRating,a.statTracker.statBaselineRatingPerPercent[X.a.MASTERY],a.selectedCombatant.spec.masteryCoefficient)/i}}}}]),a}(j.c);ae.dependencies={combatants:R.a,statTracker:Q.a};var ne=ae,ie=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=(e=t.call.apply(t,[this].concat(r))).selectedCombatant.hasTalent(h.a.CULTIVATION_TALENT.id);return e.active=l,e}return Object(u.a)(a,[{key:"directPercent",get:function(){return this.owner.getPercentageOfTotalHealingDone(this.mastery.getDirectHealing(h.a.CULTIVATION.id))}},{key:"masteryPercent",get:function(){return this.owner.getPercentageOfTotalHealingDone(this.mastery.getMasteryHealing(h.a.CULTIVATION.id))}},{key:"totalPercent",get:function(){return this.directPercent+this.masteryPercent}},{key:"suggestionThresholds",get:function(){return{actual:this.totalPercent,isLessThan:{minor:.06,average:.045,major:.03},style:"percentage"}}}]),Object(u.a)(a,[{key:"statistic",value:function(){return v.a.createElement(_.a,{position:N.a.OPTIONAL,size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"This is the sum of the direct healing from Cultivation and the healing enabled by Cultivation's extra mastery stack.",v.a.createElement("ul",null,v.a.createElement("li",null,"Direct: ",v.a.createElement("strong",null,Object(H.e)(this.directPercent),"%")),v.a.createElement("li",null,"Mastery: ",v.a.createElement("strong",null,Object(H.e)(this.masteryPercent),"%"))))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.CULTIVATION.id})," Cultivation healing ")},v.a.createElement(v.a.Fragment,null,Object(H.e)(this.totalPercent)," %")))}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your healing from ",v.a.createElement(S.a,{id:h.a.CULTIVATION.id})," could be improved. You may have too many healers or doing easy content, thus having low cultivation proc rate. You may considering selecting another talent.")).icon(h.a.CULTIVATION.icon).actual(P.i18n._({id:"druid.restoration.suggestions.cultivation.notOptimal",defaults:"{0}% healing",values:{0:Object(H.e)(t.totalPercent)}})).recommended(">".concat(Math.round(Object(H.e)(n)),"% is recommended"))}))}}]),a}(j.c);ie.dependencies={mastery:ne};var re=ie,se=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=(e=t.call.apply(t,[this].concat(r))).selectedCombatant.hasTalent(h.a.SPRING_BLOSSOMS_TALENT.id);return e.active=l,e}return Object(u.a)(a,[{key:"directPercent",get:function(){return this.owner.getPercentageOfTotalHealingDone(this.mastery.getDirectHealing(h.a.SPRING_BLOSSOMS.id))}},{key:"masteryPercent",get:function(){return this.owner.getPercentageOfTotalHealingDone(this.mastery.getMasteryHealing(h.a.SPRING_BLOSSOMS.id))}},{key:"totalPercent",get:function(){return this.directPercent+this.masteryPercent}},{key:"suggestionThresholds",get:function(){return{actual:this.totalPercent,isLessThan:{minor:.07,average:.05,major:.03},style:"percentage"}}}]),Object(u.a)(a,[{key:"statistic",value:function(){return v.a.createElement(_.a,{size:"flexible",position:N.a.OPTIONAL(20),tooltip:v.a.createElement(v.a.Fragment,null,"This is the sum of the direct healing from Spring Blossoms and the healing enabled by Spring Blossom's extra mastery stack.",v.a.createElement("ul",null,v.a.createElement("li",null,"Direct: ",v.a.createElement("strong",null,Object(H.e)(this.directPercent),"%")),v.a.createElement("li",null,"Mastery: ",v.a.createElement("strong",null,Object(H.e)(this.masteryPercent),"%"))))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.SPRING_BLOSSOMS.id})," Spring Blossoms healing")},v.a.createElement(v.a.Fragment,null,Object(H.e)(this.totalPercent)," %")))}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null,"Your healing from ",v.a.createElement(S.a,{id:h.a.SPRING_BLOSSOMS.id})," could be improved. Either your efflorescence uptime could be improved or the encounter doesn't fit this talent very well.")).icon(h.a.SPRING_BLOSSOMS.icon).actual(P.i18n._({id:"druid.restoration.suggestions.springBlossoms.efficiency",defaults:"{0}% healing",values:{0:Object(H.e)(t.totalPercent)}})).recommended(">".concat(Math.round(Object(H.e)(n)),"% is recommended"))}))}}]),a}(j.c);se.dependencies={mastery:ne};var le=se,oe=a(793),ce=[h.a.REJUVENATION.id,h.a.REGROWTH.id,h.a.WILD_GROWTH.id,h.a.REJUVENATION_GERMINATION.id,h.a.CULTIVATION.id,h.a.TRANQUILITY_HEAL.id,h.a.EFFLORESCENCE_HEAL.id,h.a.CENARION_WARD_HEAL.id,h.a.LIFEBLOOM_HOT_HEAL.id,h.a.LIFEBLOOM_BLOOM_HEAL.id,h.a.SWIFTMEND.id,h.a.RENEWAL_TALENT.id,h.a.SPRING_BLOSSOMS.id,h.a.LEECH.id],ue=[h.a.REJUVENATION,h.a.REGROWTH,h.a.WILD_GROWTH,h.a.REJUVENATION_GERMINATION,h.a.CULTIVATION,h.a.TRANQUILITY_HEAL,h.a.EFFLORESCENCE_HEAL,h.a.CENARION_WARD_HEAL,h.a.LIFEBLOOM_HOT_HEAL,h.a.LIFEBLOOM_BLOOM_HEAL,h.a.SWIFTMEND,h.a.RENEWAL_TALENT,h.a.SPRING_BLOSSOMS,h.a.LEECH],he=[h.a.REJUVENATION,h.a.WILD_GROWTH,h.a.REJUVENATION_GERMINATION,h.a.CULTIVATION,h.a.CENARION_WARD_HEAL,h.a.LIFEBLOOM_HOT_HEAL,h.a.REGROWTH,h.a.TRANQUILITY_HEAL],de=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalRejuvsCast=0,i.addEventListener(m.f.heal.by(j.a),i.onHeal),i.addEventListener(m.f.cast.by(j.a).spell(h.a.REJUVENATION),i.onCast),i.addEventListener(m.f.applybuff.by(j.a),i.onApplyBuff),i.addEventListener(m.f.fightend,i.onFightend),i}return Object(u.a)(a,[{key:"totalRejuvHealing",get:function(){return this.mastery.getMultiMasteryHealing([h.a.REJUVENATION.id,h.a.REJUVENATION_GERMINATION.id])}},{key:"avgRejuvHealing",get:function(){return this.totalRejuvHealing/this.totalRejuvsCast}}]),Object(u.a)(a,[{key:"onHeal",value:function(e){}},{key:"onCast",value:function(e){this.totalRejuvsCast+=1}},{key:"onApplyBuff",value:function(e){}},{key:"onFightend",value:function(){}},{key:"getRejuvFillHealing",value:function(e){return e/(2e4/.105)*this.avgRejuvHealing}}]),a}(j.c);de.dependencies={healingDone:oe.a,mastery:ne};var me=de,ge=h.a.REJUVENATION.manaCost,Ee=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).lastTolCast=null,e.lastTolApply=null,e.completedTolUptime=0,e.wgCasts=0,e.hardcast={allBoostHealing:0,rejuvBoostHealing:0,rejuvManaSaved:0,extraWgHealing:0},e.active=e.selectedCombatant.hasTalent(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id),e.addEventListener(m.f.heal.by(j.a).spell(ue),e.onHeal),e.addEventListener(m.f.cast.by(j.a).spell([h.a.INCARNATION_TREE_OF_LIFE_TALENT,h.a.REJUVENATION,h.a.WILD_GROWTH]),e.onCast),e.addEventListener(m.f.applybuff.by(j.a).spell(h.a.INCARNATION_TOL_ALLOWED),e.onApplyBuff),e.addEventListener(m.f.removebuff.by(j.a).spell(h.a.INCARNATION_TOL_ALLOWED),e.onRemoveBuff),e}return Object(u.a)(a,[{key:"hardcastUptime",get:function(){return(this.lastTolCast?Math.min(3e4,this.owner.currentTimestamp-this.lastTolCast):0)+this.completedTolUptime}},{key:"hardcastUptimePercent",get:function(){return this.hardcastUptime/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.owner.getPercentageOfTotalHealingDone(this._getTotalHealing(this.hardcast)),isLessThan:{minor:.06,average:.045,major:.025},style:"percentage"}}}]),Object(u.a)(a,[{key:"_getAccumulator",value:function(e){return this.selectedCombatant.hasBuff(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id)&&this.lastTolCast&&this.lastTolCast+3e4>e.timestamp?this.hardcast:null}},{key:"onHeal",value:function(e){var t=e.ability.guid,a=this._getAccumulator(e);a&&(a.allBoostHealing+=Object(Z.a)(e,.15),t===h.a.REJUVENATION.id||t===h.a.REJUVENATION_GERMINATION.id?a.rejuvBoostHealing+=Object(Z.a)(e,.5)/1.15:t===h.a.WILD_GROWTH.id&&(a.extraWgHealing+=Object(Z.a)(e,8/6-1)/1.15))}},{key:"onCast",value:function(e){var t=e.ability.guid;if(t===h.a.INCARNATION_TREE_OF_LIFE_TALENT.id)this.lastTolCast=e.timestamp;else if(t!==h.a.REJUVENATION.id||this.selectedCombatant.hasBuff(h.a.INNERVATE.id))t===h.a.WILD_GROWTH.id&&(this.wgCasts+=1);else{var a=this._getAccumulator(e);if(!a)return;a.rejuvManaSaved+=.3}}},{key:"onApplyBuff",value:function(e){this.lastTolApply=e.timestamp}},{key:"onRemoveBuff",value:function(e){var t=e.timestamp-this.lastTolApply;this.lastTolCast&&(this.completedTolUptime+=Math.min(3e4,t)),this.lastTolCast=null,this.lastTolApply=null}},{key:"_getManaSavedHealing",value:function(e){return e.rejuvManaSaved*this.rejuvenation.avgRejuvHealing}},{key:"_getManaSaved",value:function(e){return e.rejuvManaSaved*ge}},{key:"_getTotalHealing",value:function(e){return e.allBoostHealing+e.rejuvBoostHealing+e.extraWgHealing+this._getManaSavedHealing(e)}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(v.a.createElement(v.a.Fragment,null,"Your ",v.a.createElement(S.a,{id:h.a.INCARNATION_TREE_OF_LIFE_TALENT.id})," is not providing you much throughput. You may want to plan your CD usage better or pick another talent.")).icon(h.a.INCARNATION_TREE_OF_LIFE_TALENT.icon).actual(P.i18n._({id:"druid.restoration.suggestions.treeOfLife.efficiency",defaults:"{0}% healing",values:{0:Object(H.e)(t)}})).recommended(">".concat(Object(H.e)(a,0),"% is recommended"))}))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{position:N.a.OPTIONAL(20),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"The Tree of Life buff was active for ",v.a.createElement("strong",null,(this.hardcastUptime/1e3).toFixed(0),"s"),", or ",v.a.createElement("strong",null,Object(H.e)(this.hardcastUptimePercent,1),"%")," of the encounter. The displayed healing number is the sum of several benefits, listed below:",v.a.createElement("ul",null,v.a.createElement("li",null,"Overall Increased Healing: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.hardcast.allBoostHealing)),"%")),v.a.createElement("li",null,"Rejuv Increased Healing: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.hardcast.rejuvBoostHealing)),"%")),v.a.createElement("li",null,"Rejuv Mana Saved: ",v.a.createElement("strong",null,Object(H.d)(this._getManaSaved(this.hardcast)))," (assuming mana used to fill with Rejuvs: ",v.a.createElement("strong",null,"\u2248",Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this._getManaSavedHealing(this.hardcast))),"%")," healing)"),v.a.createElement("li",null,"Increased Wild Growths: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.hardcast.extraWgHealing)),"%"))))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.INCARNATION_TREE_OF_LIFE_TALENT.id})," Tree of Life healing")},v.a.createElement(v.a.Fragment,null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this._getTotalHealing(this.hardcast)))," %")))}}]),a}(j.c);Ee.dependencies={healingDone:oe.a,abilityTracker:V.a,rejuvenation:me};var fe=Ee,Te=a(770),pe=a(762),be=a(763),ve=a(771),Oe=a(772),ye=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,i=function(e){return v.a.createElement(Oe.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return v.a.createElement(Te.a,null,v.a.createElement(pe.c,{name:"Stay active throughout the fight",description:v.a.createElement(v.a.Fragment,null,"While constantly casting heals will quickly run you out of mana, you should still try to always be doing something throughout the fight. You can reduce your downtime while saving mana by spamming ",v.a.createElement(S.a,{id:h.a.SOLAR_WRATH.id})," on the boss when there is nothing serious to heal. If you safely healed through the entire fight and still had high non-healing time, your raid team is probably bringing too many healers.")},v.a.createElement(be.a,{name:"Non healing time",thresholds:n.nonHealingTime}),v.a.createElement(be.a,{name:"Downtime",thresholds:n.downtime})),v.a.createElement(pe.c,{name:v.a.createElement(v.a.Fragment,null,"Use ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," effectively"),description:v.a.createElement(v.a.Fragment,null,"Effective use of ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," is incredibly important to your healing performance. When more than 5 raiders are wounded, it is probably the most efficienct and effective spell you can cast. Try to time your ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," cast to land just after a boss ability in order to keep raiders healthy even through heavy AoE.")},v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," / ",v.a.createElement(S.a,{id:h.a.REJUVENATION.id})," ratio"),tooltip:"This is your ratio of Wild Growth casts to Rejuvenation casts. If this number is too low, it probably indicates you were missing good opportunities to cast Wild Growth.",thresholds:n.wildGrowthRatio}),v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,"Low target ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," casts"),tooltip:"This is your percent of Wild Growth casts that hit too few wounded targets. Low target casts happen either by casting it when almost all the raid was full health, or casting it on an isolated target. Remember that Wild Growth can only apply to players within 30 yds of the primary target, so if you use it on a target far away from the rest of the raid your cast will not be effective.",thresholds:n.wildGrowthPercentBelowRecommendedCasts}),v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,"High initial overhealing ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})),tooltip:"This is your percent of Wild Growth casts that has high initial overhealing. Wild Growth does most of it's healing initially and declines over duration. Make sure you are not precasting it before damaging event but after damage occurs.",thresholds:n.wildGrowthPercentBelowRecommendedPrecasts})),v.a.createElement(pe.c,{name:"Use your healing cooldowns",description:v.a.createElement(v.a.Fragment,null,"Your cooldowns can be a big contributor to healing throughput when used frequently throughout the fight. When used early and often they can contribute a lot of healing for very little mana. Try to plan your major cooldowns like (",v.a.createElement(S.a,{id:h.a.TRANQUILITY_CAST.id})," around big damage boss abilities, like the Transition Phase on Imonar or Fusillade on Antoran High Command. The below percentages represent the percentage of time you kept each spell on cooldown.")},t.hasTalent(h.a.CENARION_WARD_TALENT.id)&&v.a.createElement(i,{spell:h.a.CENARION_WARD_TALENT.id}),t.hasTalent(h.a.FLOURISH_TALENT.id)&&v.a.createElement(i,{spell:h.a.FLOURISH_TALENT.id}),t.hasTalent(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id)&&v.a.createElement(i,{spell:h.a.INCARNATION_TREE_OF_LIFE_TALENT.id}),v.a.createElement(i,{spell:h.a.TRANQUILITY_CAST.id}),v.a.createElement(i,{spell:h.a.INNERVATE.id})),v.a.createElement(pe.c,{name:v.a.createElement(v.a.Fragment,null,"Keep ",v.a.createElement(S.a,{id:h.a.LIFEBLOOM_HOT_HEAL.id})," and ",v.a.createElement(S.a,{id:h.a.EFFLORESCENCE_CAST.id})," active"),description:v.a.createElement(v.a.Fragment,null,"Maintaining uptime on these two important spells will improve your mana efficiency and overall throughput. It is good to keep ",v.a.createElement(S.a,{id:h.a.LIFEBLOOM_HOT_HEAL.id})," constantly active on a tank. While its throughput is comparable to a ",v.a.createElement(S.a,{id:h.a.REJUVENATION.id}),", it also provides a constant chance to proc ",v.a.createElement(S.a,{id:h.a.CLEARCASTING_BUFF.id}),". ",v.a.createElement(S.a,{id:h.a.EFFLORESCENCE_CAST.id})," is very mana efficient when it can tick over its full duration. Place it where raiders are liable to be and refresh it as soon as it expires.")},v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{id:h.a.EFFLORESCENCE_CAST.id})," uptime"),thresholds:n.efflorescenceUpTime})),v.a.createElement(pe.c,{name:"Manage your mana",description:v.a.createElement(v.a.Fragment,null,"Casting on targets who don't need healing or recklessly using inefficienct heals can result in running out of mana well before an encounter ends. Adapt your spell use to the situation, and as a rule of thumb try and keep your current mana percentage just above the bosses health percentage.")},v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,"Mana saved during ",v.a.createElement(S.a,{id:h.a.INNERVATE.id})),thresholds:n.innervateAverageManaSaved,tooltip:"All spells cost no mana during Innervate, so take care to chain cast for its duration. Typically this means casting a Wild Growth, refreshing Efflorescence, and spamming Rejuvenation. It's also fine to Regrowth a target that is in immediate danger of dying."}),v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,"Use your ",v.a.createElement(S.a,{id:h.a.CLEARCASTING_BUFF.id})," procs"),thresholds:n.clearCastingUtil,tooltip:"This is the percentage of Clearcasting procs that you used. Regrowth is normally very expensive, but it's completely free with a Clearcasting proc. Use your procs in a timely fashion for a lot of free healing."}),v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,"Don't overuse ",v.a.createElement(S.a,{id:h.a.REGROWTH.id})),thresholds:n.nonCCRegrowths,tooltip:"This is the number of no-clearcasting Regrowths you cast per minute. Regrowth is very mana inefficient, and should only be used in emergency situations (and when you've already expended Swiftmend). Usually, you should rely on other healers in your raid to triage."}),v.a.createElement(be.a,{name:"Mana remaining at fight end",thresholds:n.manaValues,tooltip:"Try to spend your mana at roughly the same rate the boss is dying. Having too much mana left at fight end could mean you were too conservative with your spell casts. If your mana is in good shape but there isn't much to heal, consider mixing Moonfire and Sunfire into your DPS rotation, which will burn some mana for extra DPS contribution."})),v.a.createElement(pe.c,{name:"Use your defensive / emergency spells",description:v.a.createElement(v.a.Fragment,null,"Restoration Druids unfortunately do not have many tools to deal with burst damage, but you should take care to use the ones you have. Swiftmend is a fairly inefficient spell, and should only be used in an emergency. The below percentages represent the percentage of time you kept each spell on cooldown.")},v.a.createElement(i,{spell:h.a.SWIFTMEND.id}),v.a.createElement(i,{spell:h.a.IRONBARK.id}),v.a.createElement(i,{spell:h.a.BARKSKIN.id})),v.a.createElement(pe.c,{name:"Pick the right tools for the fight",description:v.a.createElement(v.a.Fragment,null,"Different talent choices can be more or less effective depending on the fight. Listed below you will see how much throughput some talents were providing.")},t.hasTalent(h.a.CULTIVATION.id)&&v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{id:h.a.CULTIVATION.id})," throughput"),thresholds:n.cultivationPercent,tooltip:"This is the percent of your total healing that Cultivation contributed. Below around ".concat(Object(H.e)(n.cultivationPercent.isLessThan.average,0),"%, you either had too many healers in this fight, or the fight is better for Tree of Life")}),t.hasTalent(h.a.SPRING_BLOSSOMS.id)&&v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{id:h.a.SPRING_BLOSSOMS.id})," throughput"),thresholds:n.springBlossomsPercent,tooltip:"This is the percent of your total healing that Spring Blossoms contributed. Below around ".concat(Object(H.e)(n.springBlossomsPercent.isLessThan.average,0),"%, you either weren't doing a good job with Efflorescence placement or you would have been better off picking Germination")}),t.hasTalent(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id)&&v.a.createElement(be.a,{name:v.a.createElement(v.a.Fragment,null,v.a.createElement(S.a,{id:h.a.INCARNATION_TREE_OF_LIFE_TALENT.id})," throughput"),thresholds:n.treeOfLifePercent,tooltip:"This is the percent of your total healing that Tree of Life contributed. Below around ".concat(Object(H.e)(n.treeOfLifePercent.isLessThan.average,0),"%, you either didn't pick good times to use ToL or you would have been better off picking Cultivation")})),v.a.createElement(ve.a,{thresholds:n}))},Re=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return v.a.createElement(ye,{combatant:this.combatants.selected,castEfficiency:this.castEfficiency,thresholds:Object(p.a)(Object(p.a)({},this.preparationRuleAnalyzer.thresholds),{},{downtime:this.alwaysBeCasting.downtimeSuggestionThresholds,nonHealingTime:this.alwaysBeCasting.nonHealingTimeSuggestionThresholds,wildGrowthRatio:this.wildGrowth.suggestionThresholds,wildGrowthPercentBelowRecommendedCasts:this.wildGrowth.suggestionpercentBelowRecommendedCastsThresholds,wildGrowthPercentBelowRecommendedPrecasts:this.wildGrowth.suggestionpercentBelowRecommendedPrecastsThresholds,lifebloomUpTime:this.lifebloom.suggestionThresholds,efflorescenceUpTime:this.efflorescence.suggestionThresholds,innervateAverageManaSaved:this.innervate.averageManaSavedSuggestionThresholds,clearCastingUtil:this.clearCasting.clearcastingUtilSuggestionThresholds,nonCCRegrowths:this.clearCasting.nonCCRegrowthsSuggestionThresholds,manaValues:this.manaValues.suggestionThresholds,cultivationPercent:this.cultivation.suggestionThresholds,springBlossomsPercent:this.springBlossoms.suggestionThresholds,treeOfLifePercent:this.treeOfLife.suggestionThresholds})})}}]),a}(O.a);Re.dependencies={combatants:R.a,castEfficiency:y.a,preparationRuleAnalyzer:A.a,alwaysBeCasting:L,wildGrowth:q,lifebloom:M,efflorescence:U,innervate:x,clearCasting:F,manaValues:I.a,cultivation:re,springBlossoms:le,treeOfLife:fe};var Ae=Re,Ie=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"_generateHotInfo",value:function(){var e;return e={},Object(K.a)(e,h.a.REJUVENATION.id,{duration:15e3,tickPeriod:3e3}),Object(K.a)(e,h.a.REJUVENATION_GERMINATION.id,{duration:15e3,tickPeriod:3e3}),Object(K.a)(e,h.a.REGROWTH.id,{duration:12e3,tickPeriod:2e3}),Object(K.a)(e,h.a.WILD_GROWTH.id,{duration:7e3,tickPeriod:1e3}),Object(K.a)(e,h.a.LIFEBLOOM_HOT_HEAL.id,{duration:15e3,tickPeriod:1e3}),Object(K.a)(e,h.a.CENARION_WARD_HEAL.id,{duration:8e3,tickPeriod:2e3}),Object(K.a)(e,h.a.CULTIVATION.id,{duration:6e3,tickPeriod:2e3}),Object(K.a)(e,h.a.SPRING_BLOSSOMS.id,{duration:6e3,tickPeriod:2e3}),Object(K.a)(e,h.a.TRANQUILITY_HEAL.id,{duration:8e3,tickPeriod:2e3}),e}},{key:"_generateHotList",value:function(){return[h.a.REJUVENATION,h.a.REJUVENATION_GERMINATION,h.a.REGROWTH,h.a.WILD_GROWTH,h.a.LIFEBLOOM_HOT_HEAL,h.a.CENARION_WARD_HEAL,h.a.CULTIVATION,h.a.SPRING_BLOSSOMS,h.a.TRANQUILITY_HEAL]}}]),a}(a(969).a),Ce=[h.a.REJUVENATION,h.a.REJUVENATION_GERMINATION],Le=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).castRejuvApplied=!0,e.addEventListener(m.f.cast.by(j.a).spell([h.a.REJUVENATION,h.a.WILD_GROWTH]),e.onCast),e.addEventListener(m.f.applybuff.by(j.a).spell(Ce),e._getRejuvAttribution),e.addEventListener(m.f.refreshbuff.by(j.a).spell(Ce),e._getRejuvAttribution),e}return Object(u.a)(a,[{key:"onCast",value:function(e){var t=e.ability.guid,a=e.targetID;t===h.a.REJUVENATION.id?(this.lastRejuvCastTimestamp=e.timestamp,this.lastRejuvTarget=a,this.castRejuvApplied=!1):t===h.a.WILD_GROWTH.id&&(this.lastWildGrowthCastTimestamp=e.timestamp)}},{key:"_getRejuvAttribution",value:function(e){var t=this,a=e.ability.guid,n=e.targetID;if(this.hotTracker.hots[n]&&this.hotTracker.hots[n][a]){var i=e.timestamp;e.prepull||this.lastRejuvCastTimestamp+150>i&&this.lastRejuvTarget===n&&!this.castRejuvApplied?this.castRejuvApplied=!0:console.warn("Unable to attribute Rejuv @".concat(this.owner.formatTimestamp(i)," on ").concat(n)),[].forEach((function(e){t.hotTracker.addAttribution(e,n,a)}))}}}]),a}(j.c);Le.dependencies={hotTracker:Ie};var He=Le,Ne=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).totalNonCCRegrowthHealing=0,i.totalNonCCRegrowthOverhealing=0,i.totalNonCCRegrowthAbsorbs=0,i.totalNonCCRegrowthHealingTicks=0,i.addEventListener(m.f.cast.by(j.a).spell(h.a.REGROWTH),i.onCast),i.addEventListener(m.f.heal.by(j.a).spell(h.a.REGROWTH),i.onHeal),i.addEventListener(m.f.applybuff.by(j.a).spell(h.a.REGROWTH),i._getRegrowthAttribution),i.addEventListener(m.f.refreshbuff.by(j.a).spell(h.a.REGROWTH),i._getRegrowthAttribution),i}return Object(u.a)(a,[{key:"onCast",value:function(e){var t=e.targetID;this.lastRegrowthCastTimestamp=e.timestamp,this.lastRegrowthTarget=t}},{key:"onHeal",value:function(e){this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id,e.timestamp,150)||(this.totalNonCCRegrowthHealing+=e.amount,this.totalNonCCRegrowthOverhealing+=e.overheal||0,this.totalNonCCRegrowthAbsorbs+=e.absorbed||0,e.tick&&(this.totalNonCCRegrowthHealingTicks+=1))}},{key:"_getRegrowthAttribution",value:function(e){var t=this,a=e.ability.guid,n=e.targetID;if(this.hotTracker.hots[n]&&this.hotTracker.hots[n][a]){var i=e.timestamp;e.prepull||this.lastRegrowthCastTimestamp+150>i&&this.lastRegrowthTarget===n||console.warn("Unable to attribute Regrowth @".concat(this.owner.formatTimestamp(i)," on ").concat(n)),[].forEach((function(e){t.hotTracker.addAttribution(e,n,a)}))}}}]),a}(j.c);Ne.dependencies={hotTracker:Ie};var _e=Ne,Se=a(120),we=a(66),ke=a(877),je=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getResourceCost",value:function(e){var t=e.ability.guid,n=Object(Se.a)(Object(we.a)(a.prototype),"getResourceCost",this).call(this,e);if(0===n)return n;if(this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id,e.timestamp,200,0,e.sourceId)&&t===h.a.REGROWTH.id)return 0;if(!this.selectedCombatant.hasBuff(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id,e.timestamp,0,0,e.sourceId)||t!==h.a.REJUVENATION.id&&t!==h.a.REJUVENATION_GERMINATION||(n-=.3*n),t===h.a.REGROWTH.id){var i=this.selectedCombatant.getBuff(h.a.ABUNDANCE_BUFF.id,e.timestamp,200);if(null!=i)return n-n*i.stacks*.06}return n}}]),a}(ke.a),Pe=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"statistic",value:function(){var e=this.mastery.getAverageTotalMasteryStacks().toFixed(2),t=this.mastery.getAverageDruidSpellMasteryStacks().toFixed(2);return v.a.createElement(_.a,{position:N.a.CORE(11),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"This is the average number of mastery stacks your heals benefitted from, weighted by healing done. It can help show how much mileage you're getting out of your mastery.",v.a.createElement("br",null),v.a.createElement("br",null),"Not all of this number is within your control. Having to do a lot of tank healing or speccing for Cultivation and/or Spring Blossoms tends to produce higher average mastery stacks, while playing in larger raid groups tends to produce lower average mastery stacks.",v.a.createElement("br",null),v.a.createElement("br",null),"This number counts all your healing, even heals that don't benefit from your mastery (like most trinkets). Your average mastery stacks counting only heals that benefit from mastery is ",v.a.createElement("strong",null,t),".")},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.MASTERY_HARMONY.id})," Average Mastery stacks")},v.a.createElement(v.a.Fragment,null,e)))}}]),a}(j.c);Pe.dependencies={mastery:ne};var Fe=Pe,De=a(45),Ge=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:h.a.TRANQUILITY_CAST,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:e.hasTalent(h.a.INNER_PEACE_TALENT.id)?120:180,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.75,averageIssueEfficiency:.55,majorIssueEfficiency:.3},healSpellIds:[h.a.TRANQUILITY_HEAL.id]},{spell:h.a.NATURES_SWIFTNESS,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:60,gcd:{base:1500},castEfficiency:{suggestion:!0}},{spell:h.a.INNERVATE,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:180,gcd:{base:1500},castEfficiency:{suggestion:!0}},{spell:h.a.IRONBARK,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:60,castEfficiency:{suggestion:!0,importance:De.a.MINOR,recommendedEfficiency:.6}},{spell:h.a.BARKSKIN,buffSpellId:h.a.BARKSKIN.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:60,castEfficiency:{suggestion:!0,importance:De.a.MINOR,recommendedEfficiency:.6}},{spell:h.a.CENARION_WARD_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:30,gcd:{base:1500},enabled:e.hasTalent(h.a.CENARION_WARD_TALENT.id),castEfficiency:{suggestion:!0},healSpellIds:[h.a.CENARION_WARD_HEAL.id]},{spell:h.a.FLOURISH_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:90,gcd:{base:1500},enabled:e.hasTalent(h.a.FLOURISH_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.75,averageIssueEfficiency:.55,majorIssueEfficiency:.3}},{spell:h.a.WILD_GROWTH,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,cooldown:10,gcd:{base:1500}},{spell:h.a.EFFLORESCENCE_CAST,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500},healSpellIds:[h.a.EFFLORESCENCE_HEAL.id,h.a.SPRING_BLOSSOMS.id]},{spell:h.a.REJUVENATION,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},healSpellIds:[h.a.REJUVENATION_GERMINATION.id,h.a.CULTIVATION.id]},{spell:h.a.INCARNATION_TREE_OF_LIFE_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,enabled:e.hasTalent(h.a.INCARNATION_TREE_OF_LIFE_TALENT.id),cooldown:180,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.8,averageIssueEfficiency:.6,majorIssueEfficiency:.4}},{spell:h.a.REGROWTH,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:h.a.SWIFTMEND,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:15,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.4,averageIssueEfficiency:0,majorIssueEfficiency:-1,importance:De.a.MINOR}},{spell:h.a.RENEWAL_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,enabled:e.hasTalent(h.a.RENEWAL_TALENT.id),cooldown:90,castEfficiency:{suggestion:!0}},{spell:h.a.LIFEBLOOM_HOT_HEAL,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},healSpellIds:[h.a.LIFEBLOOM_BLOOM_HEAL.id]},{spell:h.a.NATURES_CURE,category:a.SPELL_CATEGORIES.OTHERS,cooldown:8,gcd:{base:1500}},{spell:h.a.REBIRTH,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:h.a.SOOTHE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:10,gcd:{base:1500}},{spell:h.a.GROWL,category:a.SPELL_CATEGORIES.UTILITY,cooldown:8},{spell:h.a.SOLAR_WRATH,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,gcd:{base:1500}},{spell:h.a.MOONFIRE,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,gcd:{base:1500}},{spell:h.a.SUNFIRE_CAST,category:a.SPELL_CATEGORIES.HEALER_DAMAGING_SPELL,gcd:{base:1500}},{spell:h.a.MANGLE_BEAR,category:a.SPELL_CATEGORIES.OTHERS,cooldown:function(e){return 6/(1+e)},gcd:{base:1500}},{spell:h.a.SHRED,category:a.SPELL_CATEGORIES.OTHERS,gcd:{static:1e3}},{spell:h.a.STAG_FORM,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1500}},{spell:h.a.TRAVEL_FORM,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1500}},{spell:h.a.BEAR_FORM,buffSpellId:h.a.BEAR_FORM.id,category:a.SPELL_CATEGORIES.DEFENSIVE,gcd:{base:1500}},{spell:h.a.CAT_FORM,category:a.SPELL_CATEGORIES.OTHERS,gcd:{base:1500}},{spell:h.a.MOONKIN_FORM,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.BALANCE_AFFINITY_TALENT_RESTORATION.id),gcd:{base:1500}},{spell:h.a.THRASH_BEAR,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.GUARDIAN_AFFINITY_TALENT_SHARED.id),cooldown:30,gcd:{base:1500}},{spell:h.a.THRASH_FERAL,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.GUARDIAN_AFFINITY_TALENT_SHARED.id),gcd:{static:1e3}},{spell:h.a.FRENZIED_REGENERATION,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.GUARDIAN_AFFINITY_TALENT_SHARED.id),cooldown:30,gcd:{base:1500}},{spell:h.a.IRONFUR,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.GUARDIAN_AFFINITY_TALENT_SHARED.id),cooldown:.5},{spell:h.a.SWIPE_CAT,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.FERAL_AFFINITY_TALENT_RESTORATION.id),gcd:{static:1e3}},{spell:h.a.SWIPE_BEAR,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.FERAL_AFFINITY_TALENT_RESTORATION.id),gcd:{base:1500}},{spell:h.a.RIP,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.FERAL_AFFINITY_TALENT_RESTORATION.id),gcd:{static:1e3}},{spell:h.a.FEROCIOUS_BITE,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.FERAL_AFFINITY_TALENT_RESTORATION.id),gcd:{static:1e3}},{spell:h.a.RAKE,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.FERAL_AFFINITY_TALENT_RESTORATION.id),gcd:{static:1e3}},{spell:h.a.STARSURGE_AFFINITY,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.BALANCE_AFFINITY_TALENT_RESTORATION.id),cooldown:10,gcd:{base:1500}},{spell:h.a.LUNAR_STRIKE_AFFINITY,category:a.SPELL_CATEGORIES.OTHERS,enabled:e.hasTalent(h.a.BALANCE_AFFINITY_TALENT_RESTORATION.id),gcd:{base:1500}},{spell:h.a.WILD_CHARGE_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(h.a.WILD_CHARGE_TALENT.id),cooldown:15,gcd:null},{spell:h.a.WILD_CHARGE_BEAR,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(h.a.WILD_CHARGE_TALENT.id),cooldown:15,gcd:null},{spell:h.a.WILD_CHARGE_CAT,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(h.a.WILD_CHARGE_TALENT.id),cooldown:15,gcd:null},{spell:h.a.WILD_CHARGE_MOONKIN,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(h.a.WILD_CHARGE_TALENT.id),cooldown:15,gcd:null},{spell:h.a.DASH,category:a.SPELL_CATEGORIES.UTILITY,cooldown:120,gcd:function(e){return e.hasBuff(h.a.CAT_FORM.id)?null:{static:1500}}},{spell:h.a.TIGER_DASH_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(h.a.TIGER_DASH_TALENT.id),cooldown:45,gcd:function(e){return e.hasBuff(h.a.CAT_FORM.id)?null:{static:1500}}},{spell:h.a.HIBERNATE,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:h.a.TYPHOON,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500},enabled:e.hasTalent(h.a.TYPHOON.id)},{spell:h.a.MIGHTY_BASH_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:50,gcd:{base:1500},enabled:e.hasTalent(h.a.MIGHTY_BASH_TALENT.id)},{spell:h.a.URSOLS_VORTEX,category:a.SPELL_CATEGORIES.OTHERS,cooldown:60,gcd:{base:1500}},{spell:h.a.ENTANGLING_ROOTS,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},enabled:e.hasTalent(h.a.MASS_ENTANGLEMENT_TALENT.id)},{spell:h.a.MASS_ENTANGLEMENT_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500},enabled:e.hasTalent(h.a.MASS_ENTANGLEMENT_TALENT.id)},{spell:h.a.OVERGROWTH_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:60,gcd:{base:1500},enabled:e.hasTalent(h.a.OVERGROWTH_TALENT.id)}]}}]),a}(a(753).a),Be=a(26),We=a(785),Me=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(We.b);Me.cooldownSpells=[].concat(Object(Be.a)(We.b.cooldownSpells),[{spell:h.a.INCARNATION_TREE_OF_LIFE_TALENT,summary:[We.a.HEALING,We.a.OVERHEALING,We.a.MANA]}]);var Ue=Me,xe=a(41),Ve=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).ironbarkCount=0,i.damageTakenDuringIronbark=0,i.addEventListener(m.f.cast.by(j.a).spell(h.a.IRONBARK),i.onCast),i.loadDamageTakenDuringIronbark(),i}return Object(u.a)(a,[{key:"damageReduced",get:function(){return this.damageTakenDuringIronbark/.8*.2}}]),Object(u.a)(a,[{key:"onCast",value:function(e){this.ironbarkCount+=1}},{key:"loadDamageTakenDuringIronbark",value:function(){var e=this;Object(xe.i)("report/tables/damage-taken/".concat(this.owner.report.code),{start:this.owner.fight.start_time,end:this.owner.fight.end_time,filter:"(IN RANGE FROM type='".concat(m.b.ApplyBuff,"' AND ability.id=").concat(h.a.IRONBARK.id," AND source.name='").concat(this.selectedCombatant.name,"' TO type='").concat(m.b.RemoveBuff,"' AND ability.id=").concat(h.a.IRONBARK.id," AND source.name='").concat(this.selectedCombatant.name,"' GROUP BY target ON target END)")}).then((function(t){e.damageTakenDuringIronbark=t.entries.reduce((function(e,t){return e+t.total}),0)})).catch((function(e){throw e}))}},{key:"statistic",value:function(){return this.damageTakenDuringIronbark?v.a.createElement(_.a,{position:N.a.CORE(20),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"This is the average amount of damage you prevented per Ironbark cast. The total damage prevented over your ",v.a.createElement("strong",null,this.ironbarkCount," casts")," was ",v.a.createElement("strong",null,Object(H.d)(this.damageReduced)),". While this amount is not counted in your healing done, this is equivalent to ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.damageReduced)),"%")," of your total healing.")},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.IRONBARK.id})," Average Ironbark mitigation")},v.a.createElement(v.a.Fragment,null,Object(H.d)(this.damageReduced/this.ironbarkCount)))):""}}]),a}(j.c),Ye=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).totalRejuvsCasts=0,e.rejuvenations=[],e.earlyRefreshments=0,e.timeLost=0,e.active=!e.selectedCombatant.hasTalent(h.a.GERMINATION_TALENT.id),e.addEventListener(m.f.removebuff.by(j.a).spell(h.a.REJUVENATION),e.onRemoveBuff),e.addEventListener(m.f.cast.by(j.a).spell([h.a.REJUVENATION,h.a.FLOURISH_TALENT]),e.onCast),e.addEventListener(m.f.fightend,e.onFightend),e}return Object(u.a)(a,[{key:"onRemoveBuff",value:function(e){this.combatants.getEntity(e)&&(this.rejuvenations=this.rejuvenations.filter((function(t){return t.targetId!==e.targetID})))}},{key:"onCast",value:function(e){if(e.ability.guid===h.a.REJUVENATION.id){this.totalRejuvsCasts+=1;var t=this.rejuvenations.find((function(t){return t.targetId===e.targetID}));if(null==t)return void this.rejuvenations.push({targetId:e.targetID,timestamp:e.timestamp});var a=t.timestamp+10700;a>e.timestamp&&(this.earlyRefreshments+=1,this.timeLost+=a-e.timestamp);var n=0;e.timestamp>=a&&e.timestamp<=t.timestamp+15e3?n=t.timestamp+15e3-e.timestamp:e.timestamp<=n&&(n=4500),t.timestamp=e.timestamp+n}else e.ability.guid===h.a.FLOURISH_TALENT.id&&(this.rejuvenations=this.rejuvenations.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{timestamp:e.timestamp+8e3})})))}},{key:"onFightend",value:function(){}},{key:"suggestions",value:function(e){var t=this;e(this.timeLostThreshold).addSuggestion((function(e){return e(v.a.createElement(v.a.Fragment,null,"Don't refresh ",v.a.createElement(S.a,{id:h.a.REJUVENATION.id})," if it's not within pandemic time frame (4.5s left on buff).")).icon(h.a.REJUVENATION.icon).actual(P.i18n._({id:"druid.restoration.suggestions.rejuvenation.wastedSeconds",defaults:"You refreshed early {0} times which made you waste {1} seconds of rejuvenation.",values:{0:t.earlyRefreshments,1:t.timeLostInSeconds}})).recommended("0 seconds lost is recommended")}))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{position:N.a.CORE(18),size:"flexible",tooltip:"The total time lost from your early refreshments was ".concat(this.timeLostInSeconds," seconds.")},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.REJUVENATION.id})," Early Rejuvenation refreshes")},v.a.createElement(v.a.Fragment,null,this.earlyRefreshments)))}},{key:"timeLostInSeconds",get:function(){return(this.timeLost/1e3).toFixed(2)}},{key:"timeLostThreshold",get:function(){return{actual:this.timeLostInSeconds,isGreaterThan:{minor:0,average:20,major:45},style:"number"}}}]),a}(j.c);Ye.dependencies={healingDone:oe.a,combatants:R.a};var Je=Ye,ze=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var l=(e=t.call.apply(t,[this].concat(r))).selectedCombatant.hasTalent(h.a.CENARION_WARD_TALENT.id);return e.active=l,e}return Object(u.a)(a,[{key:"statistic",value:function(){var e=this.mastery.getDirectHealing(h.a.CENARION_WARD_HEAL.id),t=this.owner.getPercentageOfTotalHealingDone(e),a=this.mastery.getMasteryHealing(h.a.CENARION_WARD_HEAL.id),n=this.owner.getPercentageOfTotalHealingDone(a),i=t+n;return v.a.createElement(_.a,{position:N.a.OPTIONAL,size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"This is the sum of the direct healing from Cenarion Ward and the healing enabled by Cenarion Ward's extra mastery stack.",v.a.createElement("ul",null,v.a.createElement("li",null,"Direct: ",v.a.createElement("strong",null,Object(H.e)(t),"%")),v.a.createElement("li",null,"Mastery: ",v.a.createElement("strong",null,Object(H.e)(n),"%"))))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.CENARION_WARD_HEAL.id})," Cenarion Ward healing")},v.a.createElement(v.a.Fragment,null,Object(H.e)(i)," %")))}}]),a}(j.c);ze.dependencies={mastery:ne};var qe=ze,Ke=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).flourishCount=0,e.flourishes=[],e.wgsExtended=0,e.cwsExtended=0,e.tranqsExtended=0,e.hasCenarionWard=!1,e.rejuvCount=0,e.wgCount=0,e.lbCount=0,e.regrowthCount=0,e.sbCount=0,e.cultCount=0,e.tranqCount=0,e.groveTendingCount=0,e.increasedRateTotalHealing=0,e.increasedRateRejuvenationHealing=0,e.increasedRateWildGrowthHealing=0,e.increasedRateCenarionWardHealing=0,e.increasedRateCultivationHealing=0,e.increasedRateLifebloomHealing=0,e.increasedRateRegrowthHealing=0,e.increasedRateTranqHealing=0,e.increasedRateGroveTendingHealing=0,e.active=e.selectedCombatant.hasTalent(h.a.FLOURISH_TALENT.id),e.hasCenarionWard=e.selectedCombatant.hasTalent(h.a.CENARION_WARD_TALENT.id),e.addEventListener(m.f.heal.by(j.a).spell(he),e.onHeal),e.addEventListener(m.f.cast.by(j.a).spell(h.a.FLOURISH_TALENT),e.onCast),e}return Object(u.a)(a,[{key:"totalExtensionHealing",get:function(){return this.flourishes.reduce((function(e,t){return e+t.healing+t.masteryHealing}),0)}},{key:"averageHealing",get:function(){return 0===this.flourishCount?0:this.totalExtensionHealing/this.flourishCount}},{key:"percentWgsExtended",get:function(){return 0===this.flourishCount?0:this.wgsExtended/this.flourishCount}},{key:"wildGrowthSuggestionThresholds",get:function(){return{actual:this.percentWgsExtended,isLessThan:{minor:1,average:.75,major:.5},style:"percentage"}}},{key:"percentCwsExtended",get:function(){return this.cwsExtended/this.flourishCount||0}},{key:"cenarionWardSuggestionThresholds",get:function(){return{actual:this.percentCwsExtended,isLessThan:{minor:1,average:0,major:0},style:"percentage"}}}]),Object(u.a)(a,[{key:"onHeal",value:function(e){var t=e.ability.guid;if(this.selectedCombatant.hasBuff(h.a.FLOURISH_TALENT.id)){switch(t){case h.a.REJUVENATION.id:case h.a.REJUVENATION_GERMINATION.id:this.increasedRateRejuvenationHealing+=Object(Z.a)(e,1);break;case h.a.WILD_GROWTH.id:this.increasedRateWildGrowthHealing+=Object(Z.a)(e,1);break;case h.a.CENARION_WARD_HEAL.id:this.increasedRateCenarionWardHealing+=Object(Z.a)(e,1);break;case h.a.CULTIVATION.id:this.increasedRateCultivationHealing+=Object(Z.a)(e,1);break;case h.a.LIFEBLOOM_HOT_HEAL.id:this.increasedRateLifebloomHealing+=Object(Z.a)(e,1);break;case h.a.REGROWTH.id:!0===e.tick&&(this.increasedRateRegrowthHealing+=Object(Z.a)(e,1));break;case h.a.TRANQUILITY_HEAL.id:!0===e.tick&&(this.increasedRateTranqHealing+=Object(Z.a)(e,1));break;default:console.error("EssenceOfGhanir: Error, could not identify this object as a HoT: %o",e)}if((h.a.REGROWTH.id===t||h.a.TRANQUILITY_HEAL.id)&&!0!==e.tick)return;this.increasedRateTotalHealing+=Object(Z.a)(e,1)}}},{key:"onCast",value:function(e){var t=this;this.flourishCount+=1;var a={name:"Flourish #".concat(this.flourishCount),healing:0,masteryHealing:0,procs:0,duration:0};this.flourishes.push(a);var n=!1,i=!1,r=!1;Object.keys(this.hotTracker.hots).forEach((function(e){Object.keys(t.hotTracker.hots[e]).forEach((function(s){var l=Number(s),o=l===h.a.CULTIVATION.id?null:a;t.hotTracker.addExtension(o,8e3,e,l),l===h.a.WILD_GROWTH.id?(n=!0,t.wgCount+=1):l===h.a.CENARION_WARD_HEAL.id?i=!0:l===h.a.REJUVENATION.id||l===h.a.REJUVENATION_GERMINATION.id?t.rejuvCount+=1:l===h.a.REGROWTH.id?t.regrowthCount+=1:l===h.a.LIFEBLOOM_HOT_HEAL.id?t.lbCount+=1:l===h.a.SPRING_BLOSSOMS.id?t.sbCount+=1:l===h.a.CULTIVATION.id?t.cultCount+=1:l===h.a.TRANQUILITY_HEAL.id&&(r=!0,t.tranqCount+=1)}))})),n&&(this.wgsExtended+=1),i&&(this.cwsExtended+=1),r&&(this.tranqsExtended+=1)}},{key:"suggestions",value:function(e){var t=this;0!==this.flourishCount&&(e(this.wildGrowthSuggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your ",v.a.createElement(S.a,{id:h.a.FLOURISH_TALENT.id})," should always aim to extend a ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id}))).icon(h.a.FLOURISH_TALENT.icon).actual(P.i18n._({id:"druid.restoration.suggestions.flourish.wildGrowthExtended",defaults:"{0}% WGs extended.",values:{0:Object(H.e)(t.wgsExtended/t.flourishCount,0)}})).recommended("".concat(Object(H.e)(n),"% is recommended"))})),this.hasCenarionWard&&e(this.cenarionWardSuggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement(v.a.Fragment,null,"Your ",v.a.createElement(S.a,{id:h.a.FLOURISH_TALENT.id})," should always aim to extend a ",v.a.createElement(S.a,{id:h.a.CENARION_WARD_HEAL.id}))).icon(h.a.FLOURISH_TALENT.icon).actual(P.i18n._({id:"druid.restoration.suggestions.flourish.cenarionWardExtended",defaults:"{0}/{1} CWs extended.",values:{0:t.cwsExtended,1:t.flourishCount}})).recommended("".concat(Object(H.e)(n),"% is recommended"))})))}},{key:"statistic",value:function(){var e=this.owner.getPercentageOfTotalHealingDone(this.totalExtensionHealing),t=this.owner.getPercentageOfTotalHealingDone(this.increasedRateTotalHealing),a=this.owner.getPercentageOfTotalHealingDone(this.totalExtensionHealing+this.increasedRateTotalHealing);return v.a.createElement(_.a,{size:"flexible",position:N.a.OPTIONAL(15),tooltip:v.a.createElement(v.a.Fragment,null,"The HoT extension contributed: ",v.a.createElement("strong",null,Object(H.e)(e)," %"),v.a.createElement("br",null),"The HoT increased tick rate contributed: ",v.a.createElement("strong",null,Object(H.e)(t)," %"),v.a.createElement("br",null),v.a.createElement("ul",null,0!==this.wildGrowth&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateWildGrowthHealing)),"% from Wild Growth"),0!==this.rejuvenation&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateRejuvenationHealing)),"% from Rejuvenation"),0!==this.cenarionWard&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateCenarionWardHealing)),"% from Cenarion Ward"),0!==this.lifebloom&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateLifebloomHealing)),"% from Lifebloom"),0!==this.regrowth&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateRegrowthHealing)),"% from Regrowth"),0!==this.cultivation&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateCultivationHealing)),"% from Cultivation"),0!==this.traquility&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateTranqHealing)),"% from Tranquillity"),0!==this.groveTending&&v.a.createElement("li",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateGroveTendingHealing)),"% from Grove Tending")),"The per Flourish amounts do ",v.a.createElement("em",null,"not")," include Cultivation due to its refresh mechanic.",v.a.createElement("br",null),"Your ",this.flourishCount," Flourish casts extended:",v.a.createElement("ul",null,v.a.createElement("li",null,this.wgsExtended,"/",this.flourishCount," Wild Growth casts (",this.wgCount," HoTs)"),this.hasCenarionWard&&v.a.createElement("li",null,this.cwsExtended,"/",this.flourishCount," Cenarion Wards"),this.rejuvCount>0&&v.a.createElement("li",null,this.rejuvCount," Rejuvenations"),this.regrowthCount>0&&v.a.createElement("li",null,this.regrowthCount," Regrowths"),this.lbCount>0&&v.a.createElement("li",null,this.lbCount," Lifeblooms"),this.sbCount>0&&v.a.createElement("li",null,this.sbCount," Spring Blossoms"),this.cultCount>0&&v.a.createElement("li",null,this.cultCount," Cultivations (not counted in HoT count and HoT healing totals)"),this.tranqCount>0&&v.a.createElement("li",null,this.tranqsExtended,"/",this.flourishCount," Tranquillities casts (",this.tranqCount," HoTs)"),this.groveTendingCount>0&&v.a.createElement("li",null,this.groveTendingCount,"/",this.flourishCount," Grove tendings")),v.a.createElement("br",null),"The Healing column shows how much additional healing was done by the 8 extra seconds of HoT time. Note that if you Flourished near the end of a fight, numbers might be lower than you expect because extension healing isn't tallied until a HoT falls."),dropdown:v.a.createElement(v.a.Fragment,null,v.a.createElement("table",{className:"table table-condensed"},v.a.createElement("thead",null,v.a.createElement("tr",null,v.a.createElement("th",null,"Cast"),v.a.createElement("th",null,"# of HoTs"),v.a.createElement("th",null,"Healing"))),v.a.createElement("tbody",null,this.flourishes.map((function(e,t){return v.a.createElement("tr",{key:t},v.a.createElement("th",{scope:"row"},t+1),v.a.createElement("td",null,e.procs),v.a.createElement("td",null,Object(H.d)(e.healing+e.masteryHealing)))})))))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.FLOURISH_TALENT.id})," Flourish healing")},v.a.createElement(v.a.Fragment,null,Object(H.e)(a)," %")))}}]),a}(j.c);Ke.dependencies={hotTracker:Ie};var Qe=Ke,Ze=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).regrowths=0,e.wildGrowths=0,e.rejuvenations=0,e.proccs=0,e.proccConsumed=!0,e.rejuvenationProccTimestamp=null,e.regrowthProccTimestamp=null,e.wildGrowthProccTimestamp=null,e.regrowthHealing=0,e.rejuvenationHealing=0,e.wildGrowthHealing=0,e.rejuvenationTargets=[],e.wildGrowthTargets=[],e.rejuvenationDuration=12e3,e.active=e.selectedCombatant.hasTalent(h.a.SOUL_OF_THE_FOREST_TALENT_RESTORATION.id),e.addEventListener(m.f.applybuff.by(j.a),e.onApplyBuff),e.addEventListener(m.f.cast.by(j.a),e.onCast),e.addEventListener(m.f.heal.by(j.a),e.onHeal),e}return Object(u.a)(a,[{key:"wgUsagePercent",get:function(){return this.wildGrowths/this.proccs}},{key:"suggestionThresholds",get:function(){return{actual:this.wgUsagePercent,isLessThan:{minor:1,average:.8,major:.6},style:"percentage"}}}]),Object(u.a)(a,[{key:"onApplyBuff",value:function(e){var t=e.ability.guid;h.a.SOUL_OF_THE_FOREST_BUFF.id===t&&(this.proccs+=1,this.proccConsumed=!1),null!==this.wildGrowthProccTimestamp&&h.a.WILD_GROWTH.id===t&&e.timestamp-this.wildGrowthProccTimestamp<100?this.wildGrowthTargets.push(e.targetID):null!==this.rejuvenationProccTimestamp&&(h.a.REJUVENATION.id===t||h.a.REJUVENATION_GERMINATION.id===t)&&e.timestamp-this.rejuvenationProccTimestamp<100&&this.rejuvenationTargets.push(e.targetID)}},{key:"onCast",value:function(e){var t=e.ability.guid;this.selectedCombatant.hasBuff(h.a.SOUL_OF_THE_FOREST_BUFF.id)&&!1===this.proccConsumed&&(h.a.REJUVENATION.id===t||h.a.REJUVENATION_GERMINATION===t?(this.rejuvenations+=1,this.rejuvenationProccTimestamp=e.timestamp):h.a.REGROWTH.id===t?(this.regrowths+=1,this.proccConsumed=!0,this.regrowthProccTimestamp=e.timestamp):h.a.WILD_GROWTH.id===t&&(this.wildGrowths+=1,this.proccConsumed=!0,this.wildGrowthProccTimestamp=e.timestamp))}},{key:"onHeal",value:function(e){var t=e.ability.guid;e.timestamp+200>this.rejuvenationProccTimestamp+this.rejuvenationDuration?(this.rejuvenationProccTimestamp=null,this.rejuvenationTargets=[]):e.timestamp+200>this.wildGrowthProccTimestamp+7e3&&(this.wildGrowthProccTimestamp=null,this.wildGrowthTargets=[]),h.a.REGROWTH.id===t&&this.regrowthProccTimestamp===e.timestamp?(this.regrowthHealing+=Object(Z.a)(e,2),this.regrowthProccTimestamp=null):null!==this.rejuvenationProccTimestamp&&(h.a.REJUVENATION.id===t||h.a.REJUVENATION_GERMINATION===t)&&e.timestamp-(this.rejuvenationProccTimestamp+this.rejuvenationDuration)<=0?this.rejuvenationTargets.includes(e.targetID)&&(this.rejuvenationHealing+=Object(Z.a)(e,2)):null!==this.wildGrowthProccTimestamp&&h.a.WILD_GROWTH.id===t&&e.timestamp-(this.wildGrowthProccTimestamp+7e3)<=0&&this.wildGrowthTargets.includes(e.targetID)&&(this.wildGrowthHealing+=Object(Z.a)(e,.75))}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(v.a.createElement("span",null,"You did not consume all your ",v.a.createElement(S.a,{id:h.a.SOUL_OF_THE_FOREST_TALENT_RESTORATION.id})," buffs with ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id}),". Try to use ",v.a.createElement(S.a,{id:h.a.WILD_GROWTH.id})," every time you get a ",v.a.createElement(S.a,{id:h.a.SOUL_OF_THE_FOREST_TALENT_RESTORATION.id})," buff.")).icon(h.a.SOUL_OF_THE_FOREST_TALENT_RESTORATION.icon).actual(P.i18n._({id:"druid.restoration.suggestions.soulOfTheForest.efficiency",defaults:"Wild growth consumed {0}% of all the buffs.",values:{0:Object(H.e)(t.wgUsagePercent)}})).recommended("".concat(Math.round(Object(H.e)(n)),"% is recommended"))}))}},{key:"statistic",value:function(){var e=this.wildGrowthHealing+this.rejuvenationHealing+this.regrowthHealing,t=this.owner.getPercentageOfTotalHealingDone(e),a=this.owner.getPercentageOfTotalHealingDone(this.wildGrowthHealing),n=this.owner.getPercentageOfTotalHealingDone(this.rejuvenationHealing),i=this.owner.getPercentageOfTotalHealingDone(this.regrowthHealing);return v.a.createElement(_.a,{size:"flexible",position:N.a.OPTIONAL(20),tooltip:v.a.createElement(v.a.Fragment,null,"You gained ",this.proccs," total Soul of the Forest procs.",v.a.createElement("ul",null,v.a.createElement("li",null,"Consumed ",this.wildGrowths," procs with Wild Growth for ",Object(H.e)(a),"% healing"),v.a.createElement("li",null,"Consumed ",this.rejuvenations," procs with Rejuvenation for ",Object(H.e)(n),"% healing"),v.a.createElement("li",null,"Consumed ",this.regrowths," procs with Regrowth for ",Object(H.e)(i),"% healing")))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.SOUL_OF_THE_FOREST_TALENT_RESTORATION.id})," Soul of the Forest healing")},v.a.createElement(v.a.Fragment,null,Object(H.e)(t)," %")))}}]),a}(j.c),Xe=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).lifebloomIncrease=0,e.lastRealBloomTimestamp=null,e.increasedRateRejuvenationHealing=0,e.increasedRateWildGrowthHealing=0,e.increasedRateCenarionWardHealing=0,e.increasedRateCultivationHealing=0,e.increasedRateLifebloomHealing=0,e.increasedRateRegrowthHealing=0,e.increasedRateTranqHealing=0,e.increasedRateSpringBlossomsHealing=0,e.increasedRateEffloHealing=0,e.increasedRateGroveTendingHealing=0,e.randomProccs=0,e.naturalProccs=0,e.active=e.selectedCombatant.hasTalent(h.a.PHOTOSYNTHESIS_TALENT.id),e.addEventListener(m.f.cast.by(j.a).spell(h.a.LIFEBLOOM_HOT_HEAL),e.onCast),e.addEventListener(m.f.removebuff.by(j.a).spell(h.a.LIFEBLOOM_HOT_HEAL),e.onRemoveBuff),e.addEventListener(m.f.heal.by(j.a).spell([h.a.EFFLORESCENCE_HEAL,h.a.SPRING_BLOSSOMS].concat(Object(Be.a)(he))),e.onHeal),e.addEventListener(m.f.heal.by(j.a).spell(h.a.LIFEBLOOM_BLOOM_HEAL),e.onLifebloomProc),e}return Object(u.a)(a,[{key:"onCast",value:function(e){this.lastRealBloomTimestamp=e.timestamp}},{key:"onRemoveBuff",value:function(e){this.lastRealBloomTimestamp=e.timestamp}},{key:"onLifebloomProc",value:function(e){null===this.lastRealBloomTimestamp||e.timestamp-this.lastRealBloomTimestamp>100?(this.lifebloomIncrease+=e.amount,this.randomProccs+=1):this.naturalProccs+=1}},{key:"onHeal",value:function(e){var t=e.ability.guid;if(this.selectedCombatant.hasBuff(h.a.LIFEBLOOM_HOT_HEAL.id,null,0,0,this.selectedCombatant.sourceID))switch(t){case h.a.REJUVENATION.id:case h.a.REJUVENATION_GERMINATION.id:this.increasedRateRejuvenationHealing+=Object(Z.a)(e,.2);break;case h.a.WILD_GROWTH.id:this.increasedRateWildGrowthHealing+=Object(Z.a)(e,.2);break;case h.a.CENARION_WARD_HEAL.id:this.increasedRateCenarionWardHealing+=Object(Z.a)(e,.2);break;case h.a.CULTIVATION.id:this.increasedRateCultivationHealing+=Object(Z.a)(e,.2);break;case h.a.LIFEBLOOM_HOT_HEAL.id:this.increasedRateLifebloomHealing+=Object(Z.a)(e,.2);break;case h.a.SPRING_BLOSSOMS.id:this.increasedRateSpringBlossomsHealing+=Object(Z.a)(e,.44);break;case h.a.EFFLORESCENCE_HEAL.id:this.increasedRateEffloHealing+=Object(Z.a)(e,.2);break;case h.a.REGROWTH.id:!0===e.tick&&(this.increasedRateRegrowthHealing+=Object(Z.a)(e,.2));break;case h.a.TRANQUILITY_HEAL.id:!0===e.tick&&(this.increasedRateTranqHealing+=Object(Z.a)(e,.2));break;default:console.error("Photosynthesis: Error, could not identify this object as a HoT: %o",e)}}},{key:"statistic",value:function(){var e=this,t=this.owner.getPercentageOfTotalHealingDone(this.increasedRateRejuvenationHealing+this.increasedRateWildGrowthHealing+this.increasedRateCenarionWardHealing+this.increasedRateCultivationHealing+this.increasedRateLifebloomHealing+this.increasedRateRegrowthHealing+this.increasedRateTranqHealing+this.increasedRateSpringBlossomsHealing+this.increasedRateEffloHealing+this.increasedRateGroveTendingHealing+this.lifebloomIncrease),a=this.selectedCombatant._combatantInfo.sourceID,n=this.selectedCombatant.getBuffUptime(h.a.LIFEBLOOM_HOT_HEAL.id,a),i=Object.keys(this.combatants.players).map((function(t){return e.combatants.players[t]})).reduce((function(e,t){return e+t.getBuffUptime(h.a.LIFEBLOOM_HOT_HEAL.id)}),a);return v.a.createElement(_.a,{position:N.a.OPTIONAL(20),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"Healing contribution",v.a.createElement("ul",null,v.a.createElement("li",null,"Rejuvenation: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateRejuvenationHealing))," %")),v.a.createElement("li",null,"Wild Growth: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateWildGrowthHealing))," %")),v.a.createElement("li",null,"Cenarion Ward: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateCenarionWardHealing))," %")),v.a.createElement("li",null,"Cultivation: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateCultivationHealing))," %")),v.a.createElement("li",null,"Lifebloom HoT: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateLifebloomHealing))," %")),v.a.createElement("li",null,"Regrowth HoT: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateRegrowthHealing))," %")),v.a.createElement("li",null,"Tranquility HoT: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateTranqHealing))," %")),v.a.createElement("li",null,"Spring Blossoms: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateSpringBlossomsHealing))," %")),v.a.createElement("li",null,"Efflorescence: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateEffloHealing))," %")),v.a.createElement("li",null,"Grove Tending: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.increasedRateGroveTendingHealing))," %")),v.a.createElement("hr",null),v.a.createElement("li",null,"Total HoT increase part: ",v.a.createElement("strong",null,Object(H.e)(t-this.owner.getPercentageOfTotalHealingDone(this.lifebloomIncrease))," %")),v.a.createElement("li",null,"Lifebloom random bloom: ",v.a.createElement("strong",null,Object(H.e)(this.owner.getPercentageOfTotalHealingDone(this.lifebloomIncrease))," %")," (Random proccs: ",this.randomProccs,", Natural proccs: ",this.naturalProccs,")")),"Lifebloom uptime",v.a.createElement("ul",null,v.a.createElement("li",null,"On Self: ",v.a.createElement("strong",null,Object(H.e)(n/this.owner.fightDuration)," %")),v.a.createElement("li",null,"On Others: ",v.a.createElement("strong",null,Object(H.e)((i-n)/this.owner.fightDuration)," %"))))},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.PHOTOSYNTHESIS_TALENT.id})," Photosynthesis healing")},v.a.createElement(v.a.Fragment,null,Object(H.e)(t)," %")))}}]),a}(j.c);Xe.dependencies={combatants:R.a};var $e=Xe,et=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).manaSavings=[],e.critGains=[],e.stacks=[],e.active=e.selectedCombatant.hasTalent(h.a.ABUNDANCE_TALENT.id),e.addEventListener(m.f.cast.by(j.a).spell(h.a.REGROWTH),e.onCast),e}return Object(u.a)(a,[{key:"onCast",value:function(e){var t=this.selectedCombatant.getBuff(h.a.ABUNDANCE_BUFF.id,e.timestamp,200);null!=t&&(this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id)||this.selectedCombatant.hasBuff(h.a.INNERVATE.id)||(this.manaSavings.push(.06*t.stacks>1?1:.06*t.stacks),this.manaCasts+=1),this.critGains.push(.06*t.stacks>1?1:.06*t.stacks),this.stacks.push(t.stacks))}},{key:"statistic",value:function(){var e=this.manaSavings.reduce((function(e,t){return e+t}),0)/this.manaSavings.length||0,t=this.critGains.reduce((function(e,t){return e+t}),0)/this.critGains.length||0,a=this.stacks.reduce((function(e,t){return e+t}),0)/this.stacks.length||0,n=h.a.REGROWTH.manaCost*e;return v.a.createElement(_.a,{position:N.a.CORE(20),size:"flexible",tooltip:v.a.createElement(v.a.Fragment,null,"Average mana reductions gained was ",Object(H.e)(e),"% or ",Object(H.d)(n)," mana per cast.",v.a.createElement("br",null),"Maximum mana saved was ",n*this.manaSavings.length," ",v.a.createElement("br",null),"Average crit gain was ",Object(H.e)(t),"%.")},v.a.createElement(k.a,{label:v.a.createElement(v.a.Fragment,null,v.a.createElement(w.a,{id:h.a.ABUNDANCE_TALENT.id})," Average Abundance stacks")},v.a.createElement(v.a.Fragment,null,a.toFixed(2))))}}]),a}(j.c),tt=a(766),at=a(854),nt=a(829),it=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).spellInfo=ee,e.qeLive=!0,e.done=!1,e}return Object(u.a)(a,[{key:"_getCritChance",value:function(e){var t=e.ability.guid,n=Object(Se.a)(Object(we.a)(a.prototype),"_getCritChance",this).call(this,e);return t===h.a.REGROWTH.id&&(n.baseCritChance+=.4),n}},{key:"_criticalStrike",value:function(e,t){var a=1/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentHasteRating,this.statTracker.statBaselineRatingPerPercent[X.a.CRITICAL_STRIKE]);if(t.overheal)return 0;var n=this.critEffectBonus.getBonus(e);return(e.hitType===tt.a.CRIT?t.effective/n:t.effective)*a*(n-1)}},{key:"_hasteHpm",value:function(e,t){return t.overheal?0:e.ability.guid!==h.a.REGROWTH.id||e.tick?Object(Se.a)(Object(we.a)(a.prototype),"_hasteHpm",this).call(this,e,t):0}},{key:"_mastery",value:function(e,t){if(t.overheal)return 0;var a=this.combatants.getEntity(e);if(null===a)return 0;var n=1/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentMasteryRating,this.statTracker.statBaselineRatingPerPercent[X.a.MASTERY],this.selectedCombatant.spec.masteryCoefficient),i=this.mastery.getHotCount(a);return t.effective/(1+this.statTracker.currentMasteryPercentage*i)*n*i}},{key:"_prepareResults",value:function(){return[X.a.INTELLECT,X.a.CRITICAL_STRIKE,X.a.HASTE_HPCT,X.a.HASTE_HPM,X.a.MASTERY,X.a.VERSATILITY,X.a.VERSATILITY_DR,X.a.LEECH]}},{key:"statistic",value:function(){return this.done||(this.totalOneHasteHpct=this.totalOneHasteHpm+this.totalOneHasteHpct,this.done=!0),Object(Se.a)(Object(we.a)(a.prototype),"statistic",this).call(this)}}]),a}(at.a);it.dependencies={combatants:R.a,critEffectBonus:nt.a,statTracker:Q.a,mastery:ne};var rt=it,st=a(818),lt=a(899),ot=a(834),ct=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getCustomSpellStats",value:function(e,t){return t===h.a.REGROWTH.id&&(e=this.getRegrowthDetails(e)),e}},{key:"getRegrowthDetails",value:function(e){return e.healingDone=this.regrowthAttributor.totalNonCCRegrowthHealing,e.overhealingDone=this.regrowthAttributor.totalNonCCRegrowthOverhealing,e.healingAbsorbed=this.regrowthAttributor.totalNonCCRegrowthAbsorbs,e.casts=this.clearcasting.nonCCRegrowths,e.hits=this.regrowthAttributor.totalNonCCRegrowthHealingTicks,e}}]),a}(a(835).a);ct.dependencies={manaTracker:st.a,abilityTracker:V.a,healingDone:oe.a,damageDone:ot.a,castEfficiency:y.a,abilities:Ge,regrowthAttributor:_e,clearcasting:F};var ut=ct,ht=a(119),dt=a(748),mt=a(58),gt=a(765),Et=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).healingBoost=0,e.healing=0,e.targetsWithClearCastingRegrowth=[],e.active=!1,e.healingBoost=.2,e.active?(e.addEventListener(m.f.cast.by(j.a).spell(h.a.REGROWTH),e.checkIfClearCasting),e.addEventListener(m.f.heal.by(j.a).spell(h.a.REGROWTH),e.normalizeBoost),e):Object(ht.a)(e)}return Object(u.a)(a,[{key:"checkIfClearCasting",value:function(e){var t=e.targetID;this.selectedCombatant.hasBuff(h.a.CLEARCASTING_BUFF.id)?this.targetsWithClearCastingRegrowth[t]=t:this.targetsWithClearCastingRegrowth[t]&&delete this.targetsWithClearCastingRegrowth[t]}},{key:"normalizeBoost",value:function(e){this.targetsWithClearCastingRegrowth[e.targetID]&&(this.healing+=Object(Z.a)(e,this.healingBoost))}},{key:"statistic",value:function(){return v.a.createElement(_.a,{position:N.a.OPTIONAL(13),size:"flexible",category:mt.a.COVENANTS},v.a.createElement(dt.a,{spell:h.a.FLASH_OF_CLARITY},v.a.createElement(gt.a,{amount:this.healing}),v.a.createElement("br",null)))}}]),a}(j.c),ft=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(s.a);ft.abilitiesAffectedByHealingIncreases=ce,ft.specModules={wildGrowthNormalizer:g,clearcastingNormalizer:E,hotApplicationNormalizer:f,treeOfLifeNormalizer:T,rejuvenation:me,mastery:ne,spellManaCost:je,manaLevelChart:o.a,manaUsageChart:c.a,checklist:Ae,hotTracker:Ie,rejuvenationAttributor:He,regrowthAttributor:_e,lowHealthHealing:l.a,alwaysBeCasting:L,averageHots:Fe,cooldownThroughputTracker:Ue,abilities:Ge,wildGrowth:q,lifebloom:M,efflorescence:U,clearcasting:F,innervate:x,springBlossoms:le,cultivation:re,ironbark:Ve,prematureRejuvenations:Je,soulOfTheForest:Ze,treeOfLife:fe,photosynthesis:$e,flourish:Qe,cenarionWard:qe,abundance:et,statWeights:rt,manaTracker:st.a,hpmDetails:lt.a,hpmTracker:ut,flashOfClarity:Et};t.default=ft},748:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(53),s=a(4);t.a=function(e){var t=e.spell,a=e.children,n=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(n||"")},i.a.createElement("label",null,i.a.createElement(r.a,{id:t.id})," ",i.a.createElement(s.a,{id:t.id,icon:!1})),i.a.createElement("div",{className:"value"},a))}},760:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=Object.assign({},e);return i.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"10 10 80 80",className:"icon"},t),i.a.createElement("path",{d:"M50,86.4865c17.4361,0,31.6216-14.1855,31.6216-31.6216c0-16.6168-12.8865-30.2714-29.1892-31.5189v-4.9677h7.2973v-4.8649  H40.2703v4.8649h7.2973v4.9677c-16.3027,1.2475-29.1892,14.902-29.1892,31.5189C18.3784,72.3009,32.5639,86.4865,50,86.4865z M52.4324,28.2236c3.1101,0.2817,6.0664,1.0982,8.7798,2.356l-8.7798,15.2073V28.2236z M47.5676,28.2236v26.6412 c0,1.1008,0.7393,2.0647,1.8029,2.3497c0.209,0.0561,0.4205,0.0827,0.6295,0.0827c0.8533,0,1.6642-0.4504,2.1065-1.2162 l13.3146-23.0616c6.8507,4.8503,11.3357,12.8315,11.3357,21.8454c0,14.7537-12.0031,26.7567-26.7568,26.7567 s-26.7568-12.003-26.7568-26.7567C23.2432,40.9315,33.9501,29.4573,47.5676,28.2236z"}))}},761:function(e,t,a){"use strict";var n=a(0),i=a.n(n);t.a=function(e){var t=e.label,a=e.children,n=e.className;return i.a.createElement("div",{className:"pad boring-text ".concat(n||"")},i.a.createElement("label",null,t),i.a.createElement("div",{className:"value"},a))}},769:function(e,t,a){"use strict";function n(e,t){var a=e.amount,n=e.absorbed||0,i=e.overheal||0,r=a+n+i,s=r-r/(1+t)-i;return Math.max(0,s)}a.d(t,"a",(function(){return n}))},773:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),s=a(11),l=a(43),o=a(123),c=a(15),u=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).eventEmitter=void 0,i.current=0,i.resourceUpdates=[],i.buildersObj={},i.spendersObj={},i.resource=void 0,i.maxResource=void 0,i.addEventListener(c.f.energize.to(l.a),i.onEnergize),i.addEventListener(c.f.cast.by(l.a),i.onCast),i}return Object(i.a)(a,[{key:"initBuilderAbility",value:function(e){this.buildersObj[e]={generated:0,wasted:0,casts:0}}},{key:"initSpenderAbility",value:function(e){this.spendersObj[e]={spent:0,spentByCast:[],casts:0}}},{key:"onEnergize",value:function(e){var t=e.ability.guid;if(e.resourceChangeType===this.resource.id){var a=e.waste,n=e.resourceChange-a;this._applyBuilder(t,n,a,this.getResource(e),e.timestamp)}}},{key:"processInvisibleEnergize",value:function(e,t){var a=void 0!==this.maxResource?this.maxResource-this.current:t,n=Math.min(t,a),i=Math.max(t-a,0);this._applyBuilder(e,n,i)}},{key:"_applyBuilder",value:function(e,t,a,n,i){this.buildersObj[e]||this.initBuilderAbility(e),this.buildersObj[e].wasted+=a,this.buildersObj[e].generated+=t,this.buildersObj[e].casts+=1,null!==n&&void 0!==n&&void 0!==n.amount?(this.current=n.amount,void 0!==n.max&&(this.maxResource=n.max)):this.current+=t,this.resourceUpdates.push({timestamp:i,current:this.current,waste:a,generated:t,used:0})}},{key:"onCast",value:function(e){var t=e.ability.guid;if(this.shouldProcessCastEvent(e)){var a=this.getResource(e);if(a){a.max&&(this.maxResource=a.max);var n=this.getReducedCost(e);this.spendersObj[t]||this.initSpenderAbility(t),n&&0!==n&&(this.spendersObj[t].casts+=1,this.spendersObj[t].spentByCast.push(n),n>0&&(this.spendersObj[t].spent+=n),this.current=a.amount-n,this.resourceUpdates.push({timestamp:e.timestamp,current:this.current,waste:0,generated:0,used:a.amount}),this.triggerSpendEvent(n,e))}}}},{key:"getReducedCost",value:function(e){var t;return e.resourceCost&&void 0!==e.resourceCost[this.resource.id]?e.resourceCost[this.resource.id]:null===(t=this.getResource(e))||void 0===t?void 0:t.cost}},{key:"getResource",value:function(e){var t=this;return e.classResources?e.classResources.find((function(e){return e.type===t.resource.id})):void 0}},{key:"triggerSpendEvent",value:function(e,t){var a={type:c.b.SpendResource,timestamp:t.timestamp,sourceID:t.sourceID,targetID:t.targetID,resourceChange:e,resourceChangeType:this.resource.id,ability:t.ability,__fabricated:!0};this.eventEmitter.fabricateEvent(a,t)}},{key:"shouldProcessCastEvent",value:function(e){return Boolean(this.getResource(e))}},{key:"getGeneratedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].generated||0}},{key:"getWastedBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].wasted||0}},{key:"getBuilderCastsBySpell",value:function(e){return this.buildersObj[e]&&this.buildersObj[e].casts||0}},{key:"generated",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.generated}),0)}},{key:"wasted",get:function(){return Object.values(this.buildersObj).reduce((function(e,t){return e+t.wasted}),0)}},{key:"spent",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.spent}),0)}},{key:"spendersCasts",get:function(){return Object.values(this.spendersObj).reduce((function(e,t){return e+t.casts}),0)}}]),a}(l.c);u.dependencies={eventEmitter:o.a},t.a=u},798:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=c(a(0)),l=c(a(37)),o=c(a(395));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},d=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function m(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];if(!a.length)return e;for(var i={},r=Object.keys(e),s=0;s<r.length;s++){var l=r[s];-1===a.indexOf(l)&&(i[l]=e[l])}return i}function g(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function E(e){return!isNaN(parseFloat(e))&&isFinite(e)}function f(e){return"string"===typeof e&&e.search("%")===e.length-1&&E(e.substr(0,e.length-1))}function T(e,t){e&&"function"===typeof e&&e(t)}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.animationFrameIDs=[];var n="auto",r="visible";E(e.height)?(n=e.height<0||"0"===e.height?0:e.height,r="hidden"):f(e.height)&&(n="0%"===e.height?0:e.height,r="hidden"),a.animationStateClasses=i({},h,e.animationStateClasses);var s=a.getStaticStateClasses(n);return a.state={animationStateClasses:s,height:n,overflow:r,shouldUseTransitions:!1},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.props,i=n.delay,r=n.duration,s=n.height,l=n.onAnimationEnd,c=n.onAnimationStart;if(this.contentElement&&s!==e.height){var h;this.showContent(t.height),this.contentElement.style.overflow="hidden";var d=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var m=r+i,p=null,b={height:null,overflow:"hidden"},v="auto"===t.height;E(s)?(p=s<0||"0"===s?0:s,b.height=p):f(s)?(p="0%"===s?0:s,b.height=p):(p=d,b.height="auto",b.overflow=null),v&&(b.height=p,p=d);var O=(0,o.default)((u(h={},this.animationStateClasses.animating,!0),u(h,this.animationStateClasses.animatingUp,"auto"===e.height||s<e.height),u(h,this.animationStateClasses.animatingDown,"auto"===s||s>e.height),u(h,this.animationStateClasses.animatingToHeightZero,0===b.height),u(h,this.animationStateClasses.animatingToHeightAuto,"auto"===b.height),u(h,this.animationStateClasses.animatingToHeightSpecific,b.height>0),h)),y=this.getStaticStateClasses(b.height);this.setState({animationStateClasses:O,height:p,overflow:"hidden",shouldUseTransitions:!v}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),v?(b.shouldUseTransitions=!0,g(this.animationFrameIDs),this.animationFrameIDs=function(e){var t=[];return t[0]=requestAnimationFrame((function(){t[1]=requestAnimationFrame((function(){e()}))})),t}((function(){a.setState(b),T(c,{newHeight:b.height})})),this.animationClassesTimeoutID=setTimeout((function(){a.setState({animationStateClasses:y,shouldUseTransitions:!1}),a.hideContent(b.height),T(l,{newHeight:b.height})}),m)):(T(c,{newHeight:p}),this.timeoutID=setTimeout((function(){b.animationStateClasses=y,b.shouldUseTransitions=!1,a.setState(b),"auto"!==s&&a.hideContent(p),T(l,{newHeight:p})}),m))}}},{key:"componentWillUnmount",value:function(){g(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,o.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,a=this.props,n=a.animateOpacity,r=a.applyInlineTransitions,l=a.children,c=a.className,h=a.contentClassName,g=a.delay,E=a.duration,f=a.easing,T=a.id,p=a.style,b=this.state,v=b.height,O=b.overflow,y=b.animationStateClasses,R=b.shouldUseTransitions,A=i({},p,{height:v,overflow:O||p.overflow});R&&r&&(A.transition="height "+E+"ms "+f+" "+g+"ms",p.transition&&(A.transition=p.transition+", "+A.transition),A.WebkitTransition=A.transition);var I={};n&&(I.transition="opacity "+E+"ms "+f+" "+g+"ms",I.WebkitTransition=I.transition,0===v&&(I.opacity=0));var C=(0,o.default)((u(e={},y,!0),u(e,c,c),e)),L="undefined"!==typeof this.props["aria-hidden"]?this.props["aria-hidden"]:0===v;return s.default.createElement("div",i({},m.apply(void 0,[this.props].concat(d)),{"aria-hidden":L,className:C,id:T,style:A}),s.default.createElement("div",{className:h,style:I,ref:function(e){return t.contentElement=e}},l))}}]),t}(s.default.Component);p.propTypes={"aria-hidden":l.default.bool,animateOpacity:l.default.bool,animationStateClasses:l.default.object,applyInlineTransitions:l.default.bool,children:l.default.any.isRequired,className:l.default.string,contentClassName:l.default.string,delay:l.default.number,duration:l.default.number,easing:l.default.string,height:function(e,t,a){var i=e[t];return"number"===typeof i&&i>=0||f(i)||"auto"===i?null:new TypeError('value "'+i+'" of type "'+("undefined"===typeof i?"undefined":n(i))+'" is invalid type for '+t+" in "+a+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:l.default.string,onAnimationEnd:l.default.func,onAnimationStart:l.default.func,style:l.default.object},p.defaultProps={animateOpacity:!1,animationStateClasses:h,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=p},818:function(e,t,a){"use strict";var n=a(8),i=a(10),r=a(11),s=a(88),l=function(e){Object(i.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).maxResource=void 0,i.resource=s.a.MANA,i.maxResource=5e4,i}return a}(a(773).a);t.a=l},835:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),s=a(11),l=a(755),o=a(793),c=a(834),u=a(767),h=a(753),d=a(43),m=a(3),g=a(818),E=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).manaTracker=void 0,e.abilityTracker=void 0,e.healingDone=void 0,e.damageDone=void 0,e.castEfficiency=void 0,e.abilities=void 0,e}return Object(i.a)(a,[{key:"getSpellStats",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={spell:m.a[e],casts:0,healingHits:0,healingDone:0,overhealingDone:0,damageHits:0,damageDone:0,damageAbsorbed:0,manaSpent:0,manaGained:this.manaTracker,percentOverhealingDone:0,percentHealingDone:0,percentDamageDone:0,manaPercentSpent:0,hpm:0,dpm:0,timeSpentCasting:0,percentTimeSpentCasting:0,hpet:0,dpet:0},n=this.abilityTracker.getAbility(e);if(a.casts=n.casts||0,a.healingHits=n.healingHits||0,a.healingDone=(n.healingEffective||0)+(n.healingAbsorbed||0),a.overhealingDone=n.healingOverheal||0,t)for(var i in t){var r=this.abilityTracker.getAbility(t[i]);a.healingHits+=r.healingHits||0,a.healingDone+=(r.healingEffective||0)+(r.healingAbsorbed||0),a.overhealingDone+=r.healingOverheal||0}a.damageHits=n.damageHits||0,a.damageDone=n.damageEffective||0,a.damageAbsorbed=n.damageAbsorbed||0;var s=this.manaTracker.spendersObj;return a.manaSpent=s[e]?s[e].spent:0,(a=this.getCustomSpellStats(a,e,t)).percentOverhealingDone=a.overhealingDone/((a.healingDone||0)+a.overhealingDone)||0,a.percentHealingDone=a.healingDone/this.healingDone.total.regular||0,a.percentDamageDone=a.damageDone/this.damageDone.total.regular||0,a.manaPercentSpent=a.manaSpent/this.manaTracker.spent,a.hpm=a.healingDone/a.manaSpent|0,a.dpm=a.damageDone/a.manaSpent|0,a.timeSpentCasting=this.castEfficiency.getTimeSpentCasting(e).timeSpentCasting+this.castEfficiency.getTimeSpentCasting(e).gcdSpent,a.percentTimeSpentCasting=a.timeSpentCasting/this.owner.fightDuration,a.hpet=a.healingDone/a.timeSpentCasting|0,a.dpet=a.damageDone/a.timeSpentCasting|0,a}},{key:"getCustomSpellStats",value:function(e,t,a){return e}},{key:"getAllSpellStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={},a=0,n=0,i=0,r=0;for(var s in this.abilities.abilities){var l=this.abilities.abilities[s];l.spell instanceof Array||l.spell&&l.spell.manaCost&&l.spell.manaCost>0&&(e||"Cooldown"!==l.category)&&(t[l.spell.id]=this.getSpellStats(l.spell.id,l.healSpellIds),a=Math.max(a,t[l.spell.id].hpm),n=Math.max(n,t[l.spell.id].dpm),i=Math.max(i,t[l.spell.id].hpet),r=Math.max(r,t[l.spell.id].dpet))}return{spells:t,topHpm:a,topDpm:n,topHpet:i,topDpet:r}}}]),a}(d.c);E.dependencies={manaTracker:g.a,abilityTracker:l.a,healingDone:o.a,damageDone:c.a,castEfficiency:u.a,abilities:h.a},t.a=E},845:function(e,t,a){"use strict";var n=a(0),i=a.n(n),r=a(795);t.a=function(e){var t=e.percent;return i.a.createElement("div",{className:"performance-bar-container"},i.a.createElement("div",{className:"performance-bar",style:{width:"".concat(100*t,"%"),transition:"background-color 800ms",backgroundColor:Object(r.a)(t)}}))}},850:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAuCAYAAACCq/96AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjEuNv1OCegAAAPKSURBVGhD7ZtLSBRxHMcttegQPYhKKCii94PeWVD0Lo+uVFoQRJck9BAF+WAJDS8FXUItzdVMzQ5ejO5B++jhW7e3eggCL+2641p0+Pf9zf5n3V3/7u6sO40j84EPiLM7/vbD/GcWdzaFMXYMZkV4Bm6EC1NMwgmJlDU+VNfs/179UvZbZbvUb20ZfXelxuvIqdRSPko0ymEVrIaP4GNYA2vhE24dtMF62ACfwkb4DDbBZtgCn3Nb4QsVBlBi+YdsjWPuuyxUaeAO83XfYF7XJYYXppkeh6WdjyPCCpnODsEAcqzhBltkLEU5Ws8tzaN57TltfKRQiqDoBfxvJ4KNDzdViUKFStGk3tuIlid+scnSbqFlolAARcPrYWiw+gZRpEiD0ZwXxC82CWJpOvhYRAkUDa+HE8H8n+89nBToY4VES0RTHZb+BIL9grR09TDAqNNS4uu+GR7s0/2vfLNmIE5RAsE6oL5QMBqWlpsZLA6UYF7neSb1lZrBYhEMRuKELkczg01NWDDSmcskd8UXvlkzZk8wGtyZ18U3a8bsCmbP0XwwwwbTCzOYSowcTJfBphGsUCeDGCmYXv6GQcxgsTWDqdQMplLDBvsLR3QyiJGCaT5XPJjBVGIGU4kug3k7rpWZwVQgucsfeF0XzWDx4h+sqR3tyA/7FMoMFgX/UL2N/rs7+v4qYp0zg8WCPm2XBsqY1FvMvG8vm8FiodyeQNGUWxGMHiwjijIjr7MzEnVssLZVDuYuZ1K/lfk6C5jHmeviuyYSmUtLg4gGi6WMcrKOJp2jKErwM0+BgaVZxPBW4wNjLI3vPpG5tHLiVgGgaTCSoolChSrfJdRX3INgi+Ec7H7GBlsOe6DogVMpI4ozlfFEG//RVoRYm+E87D6RubQyLBihdjgZUZho+jqvC0ORf36+siIU3dx3BK6Bc/EnZkq0ScEINcPJiKLE0tdVGC0WeRbugysgLc2ZEE0YTDWeN5b8yCAee46bb54ShNgBlUCRnoZ0lNHSXAQp2uwg0WAEQuyCkbHo6KJgR+EeuBou4E8xPtMJRiCGEo1CkcrPJ+EhuAkugan8KcZmusEIxNgPKdApqESj7wkoR9kqmM4fbmySFCwV7oSH4XFIsSgaLU363Va4FBr/XJaMYARipMMtMBPSkUWxKBoddQfgWmj8b6UkKxiBIGlwHdwN6SpJ0U7Ag5BiroTGvgB4XdmZHrulNFK+WTUIQsszA26HdLRRrL2QgtEVk95mzI7zWbJAkLlwGdwAt0E6h62HdPKnK+Z8qNP5LCXlH/EZJ5PjYeR7AAAAAElFTkSuQmCC"},851:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),s=a(11),l=a(6),o=a(0),c=a.n(o),u=a(33),h=a(69),d=a.n(h),m=a(845),g=a(4),E=a(22),f=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).HealingEfficiencyTable=function(e){var t=e.tracker.getAllSpellStats(i.state.showCooldowns),a=t.spells,n=t.topHpm,r=t.topDpm,s=t.topHpet,l=t.topDpet,o=Object.values(a);o.sort((function(e,t){if(i.state.showHealing){if(e.hpm<t.hpm)return 1;if(e.hpm>t.hpm)return-1}else{if(e.dpm<t.dpm)return 1;if(e.dpm>t.dpm)return-1}return 0}));var u=o.map((function(e){return e.casts>0?i.HealingEfficiencySpellRow(e,n,r,s,l):null}));return c.a.createElement(c.a.Fragment,null,u)},i.HealingEfficiencySpellRow=function(e,t,a,n,r){return c.a.createElement("tr",{key:e.spell.id},c.a.createElement("td",null,c.a.createElement(g.a,{id:e.spell.id})),i.state.detailedView?i.DetailView(e):i.BarView(e,t,a,n,r))},i.BarHeader=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.manaSpent"}),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(l.Trans,{id:"common.stat.healingPerMana"})),c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(E.a,{content:c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime.long"})},c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime"})))),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(l.Trans,{id:"common.stat.damagePerMana"})),c.a.createElement("th",{colSpan:2,className:"text-center"},c.a.createElement(l.Trans,{id:"common.stat.damagePerExecutionTime.long"}))))},i.BarView=function(e,t,a,n,r){var s=e.healingDone,l=e.damageDone>0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,Object(u.d)(e.manaSpent)," ("+Object(u.e)(e.manaPercentSpent)+"%)"),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{className:"text-right"},s?Object(u.d)(e.hpm):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.hpm/t})),c.a.createElement("td",{className:"text-right"},s?Object(u.d)(1e3*e.hpet):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.hpet/n}))),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",{className:"text-right"},l?Object(u.d)(e.dpm):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.dpm/a})),c.a.createElement("td",{className:"text-right"},l?Object(u.d)(1e3*e.dpet):"-"),c.a.createElement("td",{width:"20%"},c.a.createElement(m.a,{percent:e.dpet/r}))))},i.DetailHeader=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("th",null,c.a.createElement(E.a,{content:c.a.createElement(l.Trans,{id:"shared.healingEfficiency.tableHeader.casts.tooltip"})},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.tableHeader.casts"}))),c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.manaSpent"}),c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.timeSpent"}),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.healingDone"}),c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.overhealingDone"}),c.a.createElement("th",null,c.a.createElement(E.a,{content:c.a.createElement(l.Trans,{id:"common.stat.healingPerMana.long"})},c.a.createElement(l.Trans,{id:"common.stat.healingPerMana.short"}))),c.a.createElement("th",null,c.a.createElement(E.a,{content:c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime.long"})},c.a.createElement(l.Trans,{id:"common.stat.healingPerExecutionTime.short"})))),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement(l.Trans,{render:"th",id:"shared.healingEfficiency.tableHeader.damageDone"}),c.a.createElement("th",null,c.a.createElement(E.a,{content:c.a.createElement(l.Trans,{id:"common.stat.damagePerMana.long"})},c.a.createElement(l.Trans,{id:"common.stat.damagePerMana.short"}))),c.a.createElement("th",null,c.a.createElement(E.a,{content:c.a.createElement(l.Trans,{id:"common.stat.damagePerExecutionTime.long"})},c.a.createElement(l.Trans,{id:"common.stat.damagePerExecutionTime.short"})))))},i.DetailView=function(e){var t=e.healingDone,a=e.healingDone>0||e.overhealingDone>0,n=e.damageDone>0;return c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,e.casts," (",i.state.showHealing?Math.floor(e.healingHits):Math.floor(e.damageHits),")"),c.a.createElement("td",null,Object(u.d)(e.manaSpent)," ("+Object(u.e)(e.manaPercentSpent)+"%)"),c.a.createElement("td",null,0!==e.timeSpentCasting?Object(u.a)(e.timeSpentCasting/1e3)+" ("+Object(u.e)(e.percentTimeSpentCasting)+"%)":"-"),i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,t?Object(u.d)(e.healingDone):"-",t?" ("+Object(u.e)(e.percentHealingDone)+"%)":""),c.a.createElement("td",null,a?Object(u.d)(e.overhealingDone):"-",a?" ("+Object(u.e)(e.percentOverhealingDone)+"%)":""),c.a.createElement("td",null,t?Object(u.d)(e.hpm):"-"),c.a.createElement("td",null,t?Object(u.d)(1e3*e.hpet):"-")),!i.state.showHealing&&c.a.createElement(c.a.Fragment,null,c.a.createElement("td",null,n?Object(u.d)(e.damageDone):"-",n?" ("+Object(u.e)(e.percentDamageDone)+"%)":""),c.a.createElement("td",null,n?Object(u.d)(e.dpm):"-"),c.a.createElement("td",null,n?Object(u.d)(1e3*e.dpet):"-")))},i.state={showHealing:!0,detailedView:!1,showCooldowns:!1},i}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.tracker;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"pad"},c.a.createElement("div",{className:"pull-left"},c.a.createElement("div",{className:"toggle-control pull-right",style:{marginRight:".5em"}},c.a.createElement(d.a,{defaultChecked:!1,icons:!1,onChange:function(t){return e.setState({detailedView:t.target.checked})},id:"detailed-toggle"}),c.a.createElement("label",{htmlFor:"detailed-toggle",style:{marginLeft:"0.5em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.detailed"})))),c.a.createElement("div",{className:"pull-right"},c.a.createElement("div",{className:"toggle-control pull-left",style:{marginLeft:".5em",marginRight:".5em"}},c.a.createElement(d.a,{defaultChecked:!1,icons:!1,onChange:function(t){return e.setState({showCooldowns:t.target.checked})},id:"cooldown-toggle"}),c.a.createElement("label",{htmlFor:"cooldown-toggle",style:{marginLeft:"0.5em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.cooldowns"}))),c.a.createElement("div",{className:"toggle-control pull-left",style:{marginLeft:".5em"}},c.a.createElement("label",{htmlFor:"healing-toggle",style:{marginLeft:"0.5em",marginRight:"1em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.damage"})),c.a.createElement(d.a,{defaultChecked:!0,icons:!1,onChange:function(t){return e.setState({showHealing:t.target.checked})},id:"healing-toggle"}),c.a.createElement("label",{htmlFor:"healing-toggle",style:{marginLeft:"0.5em"}},c.a.createElement(l.Trans,{id:"shared.healingEfficiency.toggle.healing"}))))),c.a.createElement("table",{className:"data-table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement(l.Trans,{render:"th",id:"common.ability"}),this.state.detailedView?c.a.createElement(this.DetailHeader,null):c.a.createElement(this.BarHeader,null))),c.a.createElement("tbody",null,c.a.createElement(this.HealingEfficiencyTable,{tracker:t}))))}}]),a}(c.a.Component);t.a=f},854:function(e,t,a){"use strict";var n,i=a(8),r=a(9),s=a(10),l=a(11),o=a(6),c=a(0),u=a.n(c),h=a(124),d=a(3),m=a(22),g=a(33),E=a(108),f=a(43),T=a(15),p=a(766),b=a(825),v=a(866),O=a(829),y=a(122),R=a(750),A=function(e){return e.children},I=a(880),C=a(12),L=(n={},Object(C.a)(n,d.a.LEECH.id,{multiplier:!0}),Object(C.a)(n,d.a.HEALTHSTONE.id,{int:!1,crit:!1,hasteHpct:!1,mastery:!1,vers:!0}),Object(C.a)(n,d.a.MARK_OF_THE_ANCIENT_PRIESTESS.id,{int:!1,crit:!0,hasteHpct:!1,mastery:!1,vers:!0}),n),H=a(19),N=(a(850),function(e){Object(s.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).qeLive=!1,n.fallbackSpellInfo={int:!1,crit:!0,hasteHpm:!1,hasteHpct:!1,mastery:!1,vers:!0},n.sharedSpellInfo=L,n.spellInfo={},n.mentioned=[],n.totalAdjustedHealing=0,n.totalOneInt=0,n.totalOneCrit=0,n.totalOneHasteHpct=0,n.totalOneHasteHpm=0,n.totalOneMastery=0,n.totalOneVers=0,n.totalOneVersDr=0,n.totalOneLeech=0,n.playerHealthMissing=0,n.scaleWeightsWithHealth=!1,n.moreInformationLink=null,n.addEventListener(T.f.heal.by(f.a),n.onHeal),n.addEventListener(T.f.heal.by(f.b),n.onHeal),n.addEventListener(T.f.absorbed.by(f.a),n.onAbsorb),n.addEventListener(T.f.absorbed.by(f.b),n.onAbsorb),n.addEventListener(T.f.removebuff.by(f.a),n.onRemoveBuff),n.addEventListener(T.f.removebuff.by(f.b),n.onRemoveBuff),n.addEventListener(T.f.heal.to(f.a),n.onHealTaken),n.addEventListener(T.f.damage.to(f.a),n.onDamageTaken),n.addEventListener(T.f.fightend,n.onFightend),n}return Object(r.a)(a,[{key:"_getSpellInfo",value:function(e){var t=e.ability.guid,a=this.spellInfo[t];if(a)return a;var n=this.sharedSpellInfo[t];return n||this.fallbackSpellInfo}}]),Object(r.a)(a,[{key:"onHeal",value:function(e){var t=new b.a(e.amount,e.absorbed,e.overheal);this._handleHealEvent(e,t)}},{key:"onAbsorb",value:function(e){var t=new b.a(e.amount,0,0);this._handleHealEvent(e,t)}},{key:"onRemoveBuff",value:function(e){if(e.absorb){var t=new b.a(0,0,e.absorb);this._handleHealEvent(e,t)}}},{key:"_handleHealEvent",value:function(e,t){var a=this._getSpellInfo(e),n=(e.hitPoints-t.effective)/e.maxHitPoints;this._handleHeal(a,e,t,n)}},{key:"_handleHeal",value:function(e,t,a,n){e.multiplier||(this.totalAdjustedHealing+=this._adjustGain(a.effective,n)),e.ignored||(this.totalOneLeech+=this._adjustGain(this._leech(t,a,e),n),e.multiplier||(e.int&&(this.totalOneInt+=this._adjustGain(this._intellect(t,a),n)),e.crit&&(this.totalOneCrit+=this._adjustGain(this._criticalStrike(t,a),n)),e.hasteHpct&&(this.totalOneHasteHpct+=this._adjustGain(this._hasteHpct(t,a),n)),e.hasteHpm&&(this.totalOneHasteHpm+=this._adjustGain(this._hasteHpm(t,a),n)),e.mastery&&(this.totalOneMastery+=this._adjustGain(this._mastery(t,a),n)),e.vers&&(this.totalOneVers+=this._adjustGain(this._versatility(t,a),n))))}},{key:"_adjustGain",value:function(e,t){if(0===e)return 0;var a=1-Math.max(0,(t-.3)/.7);return this.scaleWeightsWithHealth?e*a:e}},{key:"_leech",value:function(e,t,a){return e.type!==T.b.Heal?0:this.statTracker.currentLeechPercentage>0?this._leechHasLeech(e,t,a):this._leechPrediction(e,t,a)}},{key:"_leechHasLeech",value:function(e,t){return e.ability.guid!==d.a.LEECH.id||t.overheal?0:t.effective/this.statTracker.currentLeechRating}},{key:"_leechPrediction",value:function(e,t,a){if(this.owner.toPlayer(e))return 0;if(a.multiplier)return 0;if(this.playerHealthMissing>0){var n=this.statTracker.statMultiplier.leech/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentLeechRating,this.statTracker.statBaselineRatingPerPercent[H.a.LEECH],1,!1);return t.raw*n}return 0}},{key:"_intellect",value:function(e,t){if(t.overheal)return 0;var a=this.statTracker.statMultiplier.intellect/this.statTracker.currentIntellectRating;return t.effective*a}},{key:"_getCritChance",value:function(e){var t=this.statTracker.currentCritRating;return{baseCritChance:this.statTracker.baseCritPercentage,ratingCritChance:t/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentCritRating,this.statTracker.statBaselineRatingPerPercent[H.a.CRITICAL_STRIKE])}}},{key:"_isCrit",value:function(e){return e.hitType===p.a.CRIT}},{key:"_criticalStrike",value:function(e,t){if(this._isCrit(e)){var a=this._getCritChance(e),n=a.baseCritChance,i=n+a.ratingCritChance;if(i>1+1/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentCritRating,this.statTracker.statBaselineRatingPerPercent[H.a.CRITICAL_STRIKE]))return 0;var r=1-n/i,s=this.critEffectBonus.getBonus(e),l=t.raw/s,o=Math.max(0,t.effective-l),c=this.statTracker.currentCritRating;return o*(this.statTracker.statMultiplier.crit*r/c)}return 0}},{key:"_hasteHpct",value:function(e,t){var a=this.statTracker.currentHastePercentage,n=this.statTracker.statMultiplier.haste/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentHasteRating,this.statTracker.statBaselineRatingPerPercent[H.a.HASTE]);return t.effective/(1+a)*n}},{key:"_hasteHpm",value:function(e,t){var a=this.statTracker.statMultiplier.haste/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentHasteRating,this.statTracker.statBaselineRatingPerPercent[H.a.HASTE]);return t.effective/(1+this.statTracker.currentHastePercentage)*a}},{key:"_mastery",value:function(e,t){throw new Error("Missing custom Mastery implementation. This is different per spec.")}},{key:"_versatility",value:function(e,t){if(t.overheal)return 0;var a=this.statTracker.currentVersatilityPercentage,n=this.statTracker.statMultiplier.versatility/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentVersatilityRating,this.statTracker.statBaselineRatingPerPercent[H.a.VERSATILITY],1,!1);return t.effective/(1+a)*n}},{key:"onDamageTaken",value:function(e){this._updateMissingHealth(e);var t=new v.a(e.amount,e.absorbed,e.blocked,e.overkill);this.totalOneVersDr+=this._versatilityDamageReduction(e,t)}},{key:"_versatilityDamageReduction",value:function(e,t){return t.effective/(1-this.statTracker.currentVersatilityPercentage/2)*(this.statTracker.statMultiplier.versatility/this.statTracker.ratingNeededForNextPercentage(this.statTracker.currentVersatilityRating,this.statTracker.statBaselineRatingPerPercent[H.a.VERSATILITY],1,!1)/2)}},{key:"onHealTaken",value:function(e){this._updateMissingHealth(e)}},{key:"_updateMissingHealth",value:function(e){e.hitPoints&&e.maxHitPoints&&(this.playerHealthMissing=e.maxHitPoints-e.hitPoints)}},{key:"onFightend",value:function(){0}},{key:"calculateItemStatsHps",value:function(e,t){var a=0;return e.primary&&(a+=Object(E.a)(e.itemLevel,e.primary,t)*this.hpsPerIntellect),e.criticalStrike&&(a+=Object(E.b)(e.itemLevel,e.criticalStrike,t)*this.hpsPerCriticalStrike),e.haste&&(a+=Object(E.b)(e.itemLevel,e.haste,t)*this.hpsPerHaste),e.mastery&&(a+=Object(E.b)(e.itemLevel,e.mastery,t)*this.hpsPerMastery),e.versatility&&(a+=Object(E.b)(e.itemLevel,e.versatility,t)*this.hpsPerVersatility),e.leech&&(a+=Object(E.b)(e.itemLevel,e.leech,t)*this.hpsPerLeech),a}},{key:"_ratingPerOnePercent",value:function(e){return this.totalAdjustedHealing/100/e}},{key:"_getGain",value:function(e){switch(e){case H.a.INTELLECT:return this.totalOneInt;case H.a.CRITICAL_STRIKE:return this.totalOneCrit;case H.a.HASTE_HPCT:return this.totalOneHasteHpct;case H.a.HASTE_HPM:return this.totalOneHasteHpm;case H.a.MASTERY:return this.totalOneMastery;case H.a.VERSATILITY:return this.totalOneVers;case H.a.VERSATILITY_DR:return this.totalOneVers+this.totalOneVersDr;case H.a.LEECH:return this.totalOneLeech;default:return 0}}},{key:"_getTooltip",value:function(e){switch(e){case H.a.HASTE_HPCT:return u.a.createElement(o.Trans,{id:"shared.healerStatValues.stats.hpct"});case H.a.HASTE_HPM:return u.a.createElement(o.Trans,{id:"shared.healerStatValues.stats.hpm"});case H.a.VERSATILITY_DR:return u.a.createElement(o.Trans,{id:"shared.healerStatValues.stats.versDR"});default:return null}}},{key:"statistic",value:function(){var e=this,t=this._prepareResults();t.reduce((function(t,a){if("intellect"===a||"versatilitydr"===a)return t;var n="object"===typeof a?a.stat:a,i=e._getGain(n)/(e.totalOneInt||1),r=Object(H.d)(n).replace(/[()\s+]/g,"");return t.push(r+"="+i.toFixed(2)),t}),[]).join("&");return u.a.createElement(A,{position:this.constructor.position},u.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},u.a.createElement("div",{className:"panel items statistic"},this.moreInformationLink&&u.a.createElement("a",{href:this.moreInformationLink,target:"_blank",rel:"noopener noreferrer"},u.a.createElement(m.b,{content:"Click for more information."},u.a.createElement("div",{className:"detail-corner","data-place":"top"},u.a.createElement(I.a,null)))),u.a.createElement("div",{className:"panel-body",style:{padding:"10px 0 16px"}},u.a.createElement("table",{className:"data-table compact",style:{margin:0}},u.a.createElement("thead",null,u.a.createElement("tr",{className:"text-muted"},u.a.createElement("th",{style:{minWidth:30,fontWeight:400}},u.a.createElement(m.a,{content:u.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title.tooltip",components:[u.a.createElement("br",null),u.a.createElement("br",null)]})},u.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title"})),!1),u.a.createElement("th",{className:"text-right",style:{minWidth:30,fontWeight:400},colSpan:2},u.a.createElement(m.a,{content:u.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title.value.tooltip"})},u.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.title.value"}))))),u.a.createElement("tbody",null,t.map((function(t){var a="object"===typeof t?t.stat:t,n="object"===typeof t?t.tooltip:e._getTooltip(a),i=e._getGain(a),r=i/(e.totalOneInt||1),s=e._ratingPerOnePercent(i),l=Object(H.c)(a),c=(i/e.owner.fightDuration*1e3).toFixed(2),d=null!==i?s===1/0?"\u221e":Object(g.d)(s):"NYI",E=u.a.createElement(o.Trans,{id:"shared.healerStatValues.statistic.stats.tooltip",values:{gainPerSecond:c,rating:d}});return u.a.createElement("tr",{key:a},u.a.createElement("td",{className:Object(H.b)(a)},u.a.createElement(l,{style:{height:"1.6em",width:"1.6em",marginRight:10}})," ",n?u.a.createElement(m.a,{content:n},Object(H.e)(a)):Object(H.e)(a)),u.a.createElement("td",{className:"text-right"},a===H.a.HASTE_HPCT&&"0.00 - ",null!==i?r.toFixed(2):"NYI"),u.a.createElement("td",{style:{padding:6}},u.a.createElement(m.b,{content:E},u.a.createElement("div",null,u.a.createElement(h.a,null)))))}))))))))}},{key:"hpsPerIntellect",get:function(){return this._getGain(H.a.INTELLECT)/this.owner.fightDuration*1e3}},{key:"hpsPerCriticalStrike",get:function(){return this._getGain(H.a.CRITICAL_STRIKE)/this.owner.fightDuration*1e3}},{key:"hpsPerHasteHPCT",get:function(){return this._getGain(H.a.HASTE_HPCT)/this.owner.fightDuration*1e3}},{key:"hpsPerHasteHPM",get:function(){return this._getGain(H.a.HASTE_HPM)/this.owner.fightDuration*1e3}},{key:"hpsPerHaste",get:function(){return this.hpsPerHasteHPCT+this.hpsPerHasteHPM}},{key:"hpsPerMastery",get:function(){return this._getGain(H.a.MASTERY)/this.owner.fightDuration*1e3}},{key:"hpsPerVersatility",get:function(){return this._getGain(H.a.VERSATILITY)/this.owner.fightDuration*1e3}},{key:"hpsPerVersatilityDR",get:function(){return this._getGain(H.a.VERSATILITY_DR)/this.owner.fightDuration*1e3}},{key:"hpsPerLeech",get:function(){return this._getGain(H.a.LEECH)/this.owner.fightDuration*1e3}}]),a}(f.c));N.dependencies={critEffectBonus:O.a,statTracker:y.a},N.position=R.a.CORE(9);t.a=N},899:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),s=a(11),l=a(6),o=a(0),c=a.n(o),u=a(812),h=a(43),d=a(835),m=a(851),g=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).healingEfficiencyTracker=void 0,e}return Object(i.a)(a,[{key:"statistic",value:function(){return c.a.createElement(u.a,{title:c.a.createElement(l.Trans,{id:"shared.healingEfficiency.title"}),position:120},c.a.createElement(m.a,{tracker:this.healingEfficiencyTracker}))}}]),a}(h.c);g.dependencies={healingEfficiencyTracker:d.a},t.a=g},969:function(e,t,a){"use strict";var n=a(8),i=a(9),r=a(10),s=a(11),l=a(757),o=a(800),c=a(769),u=a(43),h=a(15),d=a(766),m=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).hots={},e.bouncingHots=[],e.currentGuid=0,e.hotHistory=[],e.hotInfo=e._generateHotInfo(),e.hotList=e._generateHotList(),e.hotInfo||(e.active=!1),e.addEventListener(h.f.applybuff.by(u.a).spell(e.hotList),e.hotApplied),e.addEventListener(h.f.heal.by(u.a).spell(e.hotList),e.hotHeal),e.addEventListener(h.f.refreshbuff.by(u.a).spell(e.hotList),e.hotReapplied),e.addEventListener(h.f.removebuff.by(u.a).spell(e.hotList),e.hotRemoved),e}return Object(i.a)(a,[{key:"hotApplied",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID;if(this._validateHot(e)){if(this.hotInfo[t].bouncy&&0!==this.bouncingHots.length)return this.hots[a]||(this.hots[a]={}),this.hots[a][t]=this.bouncingHots[0],void this.bouncingHots.shift();var n=this.hotInfo[t].duration;this.hotInfo[t].durationConditions&&(e.selectedCombatant=this.selectedCombatant,n=this.hotInfo[t].durationConditions(e));var i=-1;this.hotInfo[t].maxDuration&&(e.selectedCombatant=this.selectedCombatant,i=this.hotInfo[t].maxDuration(e));var r={start:e.timestamp,end:e.timestamp+n,originalEnd:e.timestamp+n,spellId:t,guid:this.currentGuid,name:e.ability.name,ticks:[],attributions:[],extensions:[],boosts:[],healingAfterOriginalEnd:0,maxDuration:i};this.currentGuid+=1,this.hots[a]||(this.hots[a]={}),this.hots[a][t]=r,this.hotHistory.push(r)}}}},{key:"hotHeal",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID,n=e.amount+(e.absorbed||0);if(this._validateHot(e)){var i=this.hots[a][t];e.tick&&i.ticks.push({healing:n,timestamp:e.timestamp}),i.originalEnd<e.timestamp&&e.timestamp<i.start+i.maxDuration&&(i.healingAfterOriginalEnd+=n),i.attributions.forEach((function(e){e.healing+=n})),i.boosts.forEach((function(t){t.healing+=Object(c.a)(e,t.boost)})),e.hitType===d.a.CRIT&&this.hotInfo[t].effectOnCrit&&i.effectOnCrit(e)}}}},{key:"hotReapplied",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID;if(this._validateHot(e)){var n=this.hots[a][t],i=n.end,r=this.hotInfo[t].duration;this.hotInfo[t].durationConditions&&(e.selectedCombatant=this.selectedCombatant,r=this.hotInfo[t].durationConditions(t)),n.end+=this._calculateExtension(r,n,t,!0,!0),n.originalEnd=n.end;var s=i-e.timestamp-.3*r;s>0&&n.extensions.forEach((function(e){e.amount-=s})),n.attributions=[],this._tallyExtensions(n),n.extensions=[],n.boosts=[]}}}},{key:"hotRemoved",value:function(e){var t=e.ability.guid;if(this._getTarget(e)){var a=e.targetID;this._validateHot(e)&&(this.hotInfo[t].bouncy&&this.hots[a][t].end>e.timestamp?this.bouncingHots.push(this.hots[a][t]):(this._checkRemovalTime(this.hots[a][t],e.timestamp,a),this._tallyExtensions(this.hots[a][t])),delete this.hots[a][t])}}},{key:"addAttribution",value:function(e,t,a){this.hots[t]&&this.hots[t][a]&&(e.procs+=1,this.hots[t][a].attributions.push(e))}},{key:"addExtension",value:function(e,t,a,n,i){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(this.hots[a]&&this.hots[a][n]){var l=this.hots[a][n];if(-1!==l.maxDuration){var o=i-l.start,c=l.maxDuration-o,u=Math.min(t,c);t=Math.max(u,0)}var h=this._calculateExtension(t,l,n,r,s);if(l.end+=h,e){e.procs+=1;var d=l.extensions.find((function(t){return t.attribution.name===e.name}));d?d.amount+=h:l.extensions.push({attribution:e,amount:h})}}}},{key:"_tallyExtensions",value:function(e){var t=this;e.extensions.filter((function(e){return e.amount>0})).forEach((function(a){return t._tallyExtension(e.ticks,a.amount,a.attribution)}))}},{key:"_tallyExtension",value:function(e,t,a){for(var n=this.owner.currentTimestamp,i=!1,r=n,s=0,l=e.length-1;l>=0;l-=1){var o=e[l];if(r=o.timestamp,n-o.timestamp>t){i=!0;break}s+=o.healing}if(i){var c=t/(n-r);a.healing+=s*c,a.duration+=t}}},{key:"_calculateExtension",value:function(e,t,a,n,i){var r=e,s=t.end-this.owner.currentTimestamp;if(i){var l=s+r,o=1.3*this.hotInfo[a].duration;l>o?(r=o-s,"PANDEMIC:(remaining=".concat((o/1e3).toFixed(2),"s)")):"PANDEMIC:(N/A)"}if(n){var c=this.hotInfo[a].tickPeriod/(1+this.haste.current),u=(s+r)/c;r=Math.round(u)*c-s,"TICK:(period=".concat((c/1e3).toFixed(2),"s)")}return r=Math.max(0,r)}},{key:"_checkRemovalTime",value:function(e,t,a){var n=t-e.end;return n}},{key:"_getTarget",value:function(e){var t=this.combatants.getEntity(e);if(!t)return null;var a=e.targetID;return a?(e.type,h.b.Heal,t):null}},{key:"_validateHot",value:function(e){var t=e.ability.guid,a=e.targetID;return!!this.hotInfo[t]&&(!!(![h.b.RemoveBuff,h.b.RefreshBuff,h.b.Heal].includes(e.type)||this.hots[a]&&this.hots[a][t])&&(e.type!==h.b.ApplyBuff||!this.hots[a]||!this.hots[a][t]))}},{key:"_generateHotInfo",value:function(){}}]),a}(u.c);m.dependencies={combatants:l.a,haste:o.a},t.a=m}}]);
//# sourceMappingURL=RestorationDruid.3b877ff5.chunk.js.map
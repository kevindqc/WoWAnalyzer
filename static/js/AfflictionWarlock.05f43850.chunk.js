(this.webpackJsonpwowanalyzer=this.webpackJsonpwowanalyzer||[]).push([[10],{733:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(10),s=a(11),r=a(776),l=a(815),o=a(1033),c=a(9),u=a(753),d=a(45),m=a(3),h=a(121),E={1:48,2:51,3:54,4:57,5:60,6:63,7:66,8:69,9:72,10:75,11:78,12:81,13:84,14:87,15:90},f=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"spellbook",value:function(){var e=this.selectedCombatant;return[{spell:m.a.UNSTABLE_AFFLICTION,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},buffSpellId:m.a.UNSTABLE_AFFLICTION.id},{spell:m.a.HAUNT_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,cooldown:15,enabled:e.hasTalent(m.a.HAUNT_TALENT.id),gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.95,extraSuggestion:"This estimate may not be correct sometimes because of Haunt's resets. The real amount of possible Haunts will be higher if there were adds on this fight."},buffSpellId:m.a.HAUNT_TALENT.id},{spell:m.a.AGONY,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},buffSpellId:m.a.AGONY.id},{spell:m.a.CORRUPTION_CAST,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500},buffSpellId:m.a.CORRUPTION_DEBUFF.id},{spell:m.a.MALEFIC_RAPTURE,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:m.a.SIPHON_LIFE_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:e.hasTalent(m.a.SIPHON_LIFE_TALENT.id),gcd:{base:1500},buffSpellId:m.a.SIPHON_LIFE_TALENT.id},{spell:m.a.SHADOW_BOLT_AFFLI,category:a.SPELL_CATEGORIES.ROTATIONAL,gcd:{base:1500}},{spell:m.a.DRAIN_SOUL_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL,enabled:e.hasTalent(m.a.DRAIN_SOUL_TALENT.id),gcd:{base:1500}},{spell:m.a.PHANTOM_SINGULARITY_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,cooldown:45,enabled:e.hasTalent(m.a.PHANTOM_SINGULARITY_TALENT.id),gcd:{base:1500},castEfficiency:{suggestion:!1},buffSpellId:m.a.PHANTOM_SINGULARITY_TALENT.id},{spell:m.a.SEED_OF_CORRUPTION_DEBUFF,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500}},{spell:m.a.VILE_TAINT_TALENT,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500},enabled:e.hasTalent(m.a.VILE_TAINT_TALENT.id),cooldown:20,castEfficiency:{suggestion:!1},buffSpellId:m.a.VILE_TAINT_TALENT.id},{spell:m.a.SOUL_ROT,category:a.SPELL_CATEGORIES.ROTATIONAL_AOE,gcd:{base:1500},cooldown:60,enabled:e.hasCovenant(h.a.NIGHT_FAE.id),castEfficiency:{suggestion:!1},buffSpellId:m.a.SOUL_ROT.id},{spell:m.a.SUMMON_DARKGLARE,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:e.hasTalent(m.a.DARK_CALLER_TALENT.id)?120:180,gcd:{base:1500},castEfficiency:{suggestion:!0,recommendedEfficiency:.9}},{spell:m.a.DARK_SOUL_MISERY_TALENT,category:a.SPELL_CATEGORIES.COOLDOWNS,cooldown:120,gcd:null,enabled:e.hasTalent(m.a.DARK_SOUL_MISERY_TALENT.id),castEfficiency:{suggestion:!0,recommendedEfficiency:.9},buffSpellId:m.a.DARK_SOUL_MISERY_TALENT.id},{spell:m.a.UNENDING_RESOLVE,buffSpellId:m.a.UNENDING_RESOLVE.id,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:180,gcd:null,castEfficiency:{suggestion:!0,importance:d.a.MINOR,recommendedEfficiency:.33,averageIssueEfficiency:.2,majorIssueEfficiency:.1}},{spell:m.a.DARK_PACT_TALENT,category:a.SPELL_CATEGORIES.DEFENSIVE,cooldown:60,gcd:null,enabled:e.hasTalent(m.a.DARK_PACT_TALENT.id),castEfficiency:{suggestion:!0,importance:d.a.MINOR,recommendedEfficiency:.33,averageIssueEfficiency:.2,majorIssueEfficiency:.1},buffSpellId:m.a.DARK_PACT_TALENT.id},{spell:m.a.BURNING_RUSH_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(m.a.BURNING_RUSH_TALENT.id),gcd:{base:1500},buffSpellId:m.a.BURNING_RUSH_TALENT.id},{spell:m.a.DRAIN_LIFE,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.MORTAL_COIL_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:45,enabled:e.hasTalent(m.a.MORTAL_COIL_TALENT.id),gcd:{base:1500}},{spell:m.a.DEMONIC_CIRCLE_SUMMON,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:10,castEfficiency:{suggestion:!1}},{spell:m.a.DEMONIC_CIRCLE_TELEPORT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,gcd:{base:1500},castEfficiency:{suggestion:!1}},{spell:m.a.SOULSTONE,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.DEMONIC_GATEWAY_CAST,category:a.SPELL_CATEGORIES.UTILITY,cooldown:10,gcd:{base:1500}},{spell:m.a.GRIMOIRE_OF_SACRIFICE_TALENT,category:a.SPELL_CATEGORIES.UTILITY,cooldown:30,enabled:e.hasTalent(m.a.GRIMOIRE_OF_SACRIFICE_TALENT.id),gcd:{base:1500}},{spell:m.a.SOULSHAPE,category:a.SPELL_CATEGORIES.UTILITY,cooldown:90,enabled:e.hasCovenant(h.a.NIGHT_FAE.id),gcd:{base:1500},buffSpellId:m.a.SOULSHAPE.id},{spell:m.a.BANISH,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.CREATE_HEALTHSTONE,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.CREATE_SOULWELL,category:a.SPELL_CATEGORIES.UTILITY,cooldown:120,gcd:{base:1500}},{spell:m.a.SUBJUGATE_DEMON,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.EYE_OF_KILROGG,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.FEAR_CAST,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.CURSE_OF_TONGUES,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.CURSE_OF_WEAKNESS,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.CURSE_OF_EXHAUSTION,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.HEALTH_FUNNEL_CAST,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:[m.a.SUMMON_IMP,m.a.SUMMON_VOIDWALKER,m.a.SUMMON_SUCCUBUS,m.a.SUMMON_FELHUNTER],category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.SHADOWFURY,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500},cooldown:e.hasTalent(m.a.DARKFURY_TALENT.id)?45:60},{spell:m.a.UNENDING_BREATH,category:a.SPELL_CATEGORIES.UTILITY,gcd:{base:1500}},{spell:m.a.FEL_DOMINATION,category:a.SPELL_CATEGORIES.UTILITY,cooldown:e.hasConduitBySpellID(m.a.FEL_CELERITY.id)?180-E[e.conduitRankBySpellID(m.a.FEL_CELERITY.id)]:180,gcd:{base:1500}},{spell:m.a.HOWL_OF_TERROR_TALENT,category:a.SPELL_CATEGORIES.UTILITY,enabled:e.hasTalent(m.a.HOWL_OF_TERROR_TALENT.id),cooldown:40,gcd:{base:1500}}]}}]),a}(u.a),g=a(0),T=a.n(g),b=a(780),p=a(33),O=a(4),A=a(746),y=a(747),_=a(859),L=a(13),S=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(T.a.createElement(T.a.Fragment,null,"Your downtime can be improved. Try to Always Be Casting (ABC), try to reduce the delay between casting spells. Even if you have to move, try casting something instant - maybe refresh your dots. Make good use of your ",T.a.createElement(O.a,{id:m.a.DEMONIC_CIRCLE.id})," or ",T.a.createElement(O.a,{id:m.a.BURNING_RUSH_TALENT.id})," when you can.")).icon("spell_mage_altertime").actual(L.i18n._({id:"warlock.affliction.suggestions.alwaysBeCasting.downtime",defaults:"{0}% downtime",values:{0:Object(p.e)(t)}})).recommended("<".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return T.a.createElement(A.a,{position:y.a.CORE(2),tooltip:T.a.createElement(T.a.Fragment,null,"Downtime is available time not used to cast anything (including not having your GCD rolling). This can be caused by delays between casting spells, latency, cast interrupting or just simply not casting anything (e.g. due to movement/stunned).",T.a.createElement("br",null),T.a.createElement("ul",null,T.a.createElement("li",null,"You spent ",T.a.createElement("strong",null,Object(p.e)(this.activeTimePercentage),"%")," of your time casting something."),T.a.createElement("li",null,"You spent ",T.a.createElement("strong",null,Object(p.e)(this.downtimePercentage),"%")," of your time casting nothing at all.")))},T.a.createElement("div",{className:"pad"},T.a.createElement("label",null,"Active time"),T.a.createElement(_.a,{value:this.activeTimePercentage})))}},{key:"suggestionThresholds",get:function(){return{actual:this.downtimePercentage,isGreaterThan:{minor:.1,average:.15,major:.2},style:"percentage"}}}]),a}(b.a),N=a(26),I=a(785),v=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(I.b);v.cooldownSpells=[].concat(Object(N.a)(I.b.cooldownSpells),[{spell:m.a.DARK_SOUL_MISERY_TALENT,summary:[I.a.DAMAGE]}]),v.castCooldowns=[].concat(Object(N.a)(I.b.castCooldowns),[{spell:m.a.SUMMON_DARKGLARE,duration:20,summary:[I.a.DAMAGE]}]);var D=v,R=a(31),U=a(43),C=a(756),j=a(764),k=a(15),w=a(22),F=a(748),P=a(12),G=function(e){var t,a=(t={},Object(P.a)(t,m.a.AGONY.id,18e3),Object(P.a)(t,m.a.CORRUPTION_DEBUFF.id,14e3),Object(P.a)(t,m.a.SIPHON_LIFE_TALENT.id,15e3),Object(P.a)(t,m.a.UNSTABLE_AFFLICTION.id,16e3),t);return e&&Object.entries(a).forEach((function(e){var t=Object(R.a)(e,1)[0];a[t]*=.85})),a[m.a.PHANTOM_SINGULARITY_TALENT.id]=16e3,a},H=[m.a.AGONY,m.a.CORRUPTION_DEBUFF,m.a.SIPHON_LIFE_TALENT,m.a.UNSTABLE_AFFLICTION,m.a.PHANTOM_SINGULARITY_TALENT],M=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s)))._dotDurations={},e._hasAC=!1,e.bonusDotDamage=0,e.darkglareDamage=0,e.casts=[],e.dots={},e._dotDurations=G(e.selectedCombatant.hasTalent(m.a.CREEPING_DEATH_TALENT.id)),e._hasAC=e.selectedCombatant.hasTalent(m.a.ABSOLUTE_CORRUPTION_TALENT.id),e._hasAC&&delete e._dotDurations[m.a.CORRUPTION_DEBUFF.id],e.addEventListener(k.f.applydebuff.by(U.a).spell(H),e.onDotApply),e.addEventListener(k.f.removedebuff.by(U.a).spell(H),e.onDotRemove),e.addEventListener(k.f.cast.by(U.a).spell(m.a.SUMMON_DARKGLARE),e._processDarkglareCast),e.addEventListener(k.f.cast.by(U.a).spell(H),e._processDotCast),e.addEventListener(k.f.damage.by(U.a).spell(H),e.onDotDamage),e.addEventListener(k.f.damage.by(U.b).spell(m.a.SUMMON_DARKGLARE_DAMAGE),e.onDarkglareDamage),e}return Object(c.a)(a,[{key:"onDotApply",value:function(e){this._resetDotOnTarget(e)}},{key:"onDotRemove",value:function(e){var t=e.ability.guid;if(!e.targetIsFriendly){var a=Object(j.b)(e.targetID,e.targetInstance);this.dots[a]&&this.dots[a].dots[t]&&(delete this.dots[a].dots[t],0===Object.values(this.dots[a].dots).length&&delete this.dots[a])}}},{key:"onDotDamage",value:function(e){var t=e.ability.guid;if(!e.targetIsFriendly){var a=Object(j.b)(e.targetID,e.targetInstance);if(this.dots[a]&&this.dots[a].dots[t]){var n=this.dots[a].dots[t],i=null!==n.extendStart,s=n.expectedEnd<=e.timestamp&&e.timestamp<=n.extendExpectedEnd;i&&s&&(this.bonusDotDamage+=e.amount+(e.absorbed||0))}else this._resetDotOnTarget(e)}}},{key:"onDarkglareDamage",value:function(e){this.darkglareDamage+=e.amount+(e.absorbed||0)}},{key:"_processDarkglareCast",value:function(e){var t={timestamp:e.timestamp};Object.entries(this.dots).forEach((function(a){var n=Object(R.a)(a,2),i=n[0],s=n[1],r=Object.keys(s.dots).map((function(e){return Number(e)}));t[i]={targetName:s.targetName,dots:r},Object.values(s.dots).forEach((function(t){t.extendStart=e.timestamp;var a=t.expectedEnd-e.timestamp+8e3;t.extendExpectedEnd=e.timestamp+a}))})),this.casts.push(t)}},{key:"_processDotCast",value:function(e){var t=e.ability.guid;(H.some((function(e){return e.id===t}))||t===m.a.CORRUPTION_CAST.id)&&(e.targetIsFriendly||this._resetDotOnTarget(e))}},{key:"_resetDotOnTarget",value:function(e){var t=this.enemies.getEntity(e);if(t){var a=e.ability.guid,n=Object(j.b)(e.targetID,e.targetInstance);this.dots[n]=this.dots[n]||{targetName:t.name,dots:{}},this.dots[n].dots[a]={cast:e.timestamp,expectedEnd:e.timestamp+this._dotDurations[a],extendStart:null,extendExpectedEnd:null}}}},{key:"statistic",value:function(){var e=this,t=0;Object.values(this.casts).forEach((function(a){Object.keys(a).filter((function(e){return"timestamp"!==e})).forEach((function(n){e._hasAC?t+=a[n].dots.filter((function(e){return e!==m.a.CORRUPTION_DEBUFF.id})).length:t+=a[n].dots.length}))}));var a=t/this.casts.length||0,n=this.bonusDotDamage+this.darkglareDamage,i=function(t){return"".concat(Object(p.d)(t/e.owner.fightDuration*1e3)," DPS")};return T.a.createElement(A.a,{position:y.a.CORE(4),size:"flexible",tooltip:T.a.createElement(T.a.Fragment,null,"Damage from extended dots ",T.a.createElement("sup",null,"*"),": ",Object(p.f)(this.bonusDotDamage)," (",this.owner.formatItemDamageDone(this.bonusDotDamage),")",T.a.createElement("br",null),"Pet damage: ",Object(p.f)(this.darkglareDamage)," (",this.owner.formatItemDamageDone(this.darkglareDamage),")",T.a.createElement("br",null),"Combined damage: ",Object(p.f)(n)," (",this.owner.formatItemDamageDone(n),")",T.a.createElement("br",null),T.a.createElement("br",null),T.a.createElement("sup",null,"*")," This only counts the damage that happened after the dot ",T.a.createElement("u",null,"should have fallen off")," (but instead was extended with Darkglare).")},T.a.createElement(F.a,{spell:m.a.SUMMON_DARKGLARE},i(this.bonusDotDamage),T.a.createElement(w.a,{content:T.a.createElement(T.a.Fragment,null,"damage from DoTs after they ",T.a.createElement("u",null,"should have fallen off"),", but were extended instead")}," ",T.a.createElement("small",null,"bonus damage ",T.a.createElement("sup",null,"*"))),T.a.createElement("br",null),a.toFixed(1)," ",T.a.createElement("small",null,"average DoTs extended"),T.a.createElement("br",null),i(n),T.a.createElement(w.a,{content:"including pet damage"}," ",T.a.createElement("small",null,"total damage ",T.a.createElement("sup",null,"*")))))}}]),a}(U.c);M.dependencies={enemies:C.a};var Y=M,B=a(53),x=a(862),W=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){var t;t=this.selectedCombatant.hasTalent(m.a.WRITHE_IN_AGONY_TALENT.id)?T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.AGONY.id})," uptime can be improved as it is your main source of Soul Shards. Try to pay more attention to your Agony on the boss, especially since you're using ",T.a.createElement(O.a,{id:m.a.WRITHE_IN_AGONY_TALENT.id})," talent."):T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.AGONY.id})," uptime can be improved as it is your main source of Soul Shards. Try to pay more attention to your Agony on the boss, perhaps use some debuff tracker."),e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(t).icon(m.a.AGONY.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.agony.uptime",defaults:"{0}% Agony uptime",values:{0:Object(p.e)(a)}})).recommended("> ".concat(Object(p.e)(n),"% is recommended"))}))}},{key:"subStatistic",value:function(){var e=this.enemies.getDebuffHistory(m.a.AGONY.id);return T.a.createElement("div",{className:"flex"},T.a.createElement("div",{className:"flex-sub icon"},T.a.createElement(B.a,{id:m.a.AGONY.id})),T.a.createElement("div",{className:"flex-sub value",style:{width:140}},Object(p.e)(this.uptime,0)," % ",T.a.createElement("small",null,"uptime")),T.a.createElement("div",{className:"flex-main chart",style:{padding:15}},T.a.createElement(x.a,{uptimeHistory:e,start:this.owner.fight.start_time,end:this.owner.fight.end_time,style:{height:"100%"}})))}},{key:"uptime",get:function(){return this.enemies.getBuffUptime(m.a.AGONY.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),a}(U.c);W.dependencies={enemies:C.a};var z=W,K=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.CORRUPTION_CAST.id})," uptime can be improved. Try to pay more attention to your Corruption on the boss, perhaps use some debuff tracker.")).icon(m.a.CORRUPTION_CAST.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.corruption.uptime",defaults:"{0}% Corruption uptime",values:{0:Object(p.e)(t)}})).recommended(">".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"subStatistic",value:function(){var e=this.enemies.getDebuffHistory(m.a.CORRUPTION_DEBUFF.id);return T.a.createElement("div",{className:"flex"},T.a.createElement("div",{className:"flex-sub icon"},T.a.createElement(B.a,{id:m.a.CORRUPTION_CAST.id})),T.a.createElement("div",{className:"flex-sub value",style:{width:140}},Object(p.e)(this.uptime,0)," % ",T.a.createElement("small",null,"uptime")),T.a.createElement("div",{className:"flex-main chart",style:{padding:15}},T.a.createElement(x.a,{uptimeHistory:e,start:this.owner.fight.start_time,end:this.owner.fight.end_time,style:{height:"100%"}})))}},{key:"uptime",get:function(){return this.enemies.getBuffUptime(m.a.CORRUPTION_DEBUFF.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),a}(U.c);K.dependencies={enemies:C.a};var V=K,J=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.UNSTABLE_AFFLICTION.id})," uptime can be improved. Try to pay more attention to your Unstable Affliction on the boss, perhaps use some debuff tracker.")).icon(m.a.UNSTABLE_AFFLICTION.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.unstableAffliction.uptime",defaults:"{0}% Unstable Affliction uptime.",values:{0:Object(p.e)(t)}})).recommended("> ".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"subStatistic",value:function(){var e=this.enemies.getCombinedDebuffHistory([m.a.UNSTABLE_AFFLICTION.id]);return T.a.createElement("div",{className:"flex"},T.a.createElement("div",{className:"flex-sub icon"},T.a.createElement(B.a,{id:m.a.UNSTABLE_AFFLICTION.id})),T.a.createElement("div",{className:"flex-sub value",style:{width:140,paddingRight:8}},Object(p.e)(this.uptime,0)," % ",T.a.createElement("small",null,"uptime")),T.a.createElement("div",{className:"flex-main chart",style:{padding:15}},T.a.createElement(x.a,{uptimeHistory:e,start:this.owner.fight.start_time,end:this.owner.fight.end_time,style:{height:"100%"}})))}},{key:"uptime",get:function(){return this.enemies.getBuffUptime(m.a.UNSTABLE_AFFLICTION.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),a}(U.c);J.dependencies={enemies:C.a};var q=J,X=a(801),Q=a(847),Z=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).active=e.selectedCombatant.hasTalent(m.a.SIPHON_LIFE_TALENT.id),e}return Object(c.a)(a,[{key:"uptime",get:function(){return this.enemies.getBuffUptime(m.a.SIPHON_LIFE_TALENT.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}}]),Object(c.a)(a,[{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.SIPHON_LIFE_TALENT.id})," uptime can be improved. Try to pay more attention to your Siphon Life on the boss, perhaps use some debuff tracker.")).icon(m.a.SIPHON_LIFE_TALENT.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.siphonLife.uptime",defaults:"{0}% Siphon Life uptime",values:{0:Object(p.e)(t)}})).recommended(">".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"subStatistic",value:function(){var e=this.enemies.getDebuffHistory(m.a.SIPHON_LIFE_TALENT.id);return T.a.createElement("div",{className:"flex"},T.a.createElement("div",{className:"flex-sub icon"},T.a.createElement(B.a,{id:m.a.SIPHON_LIFE_TALENT.id})),T.a.createElement("div",{className:"flex-sub value",style:{width:140}},Object(p.e)(this.uptime,0)," % ",T.a.createElement("small",null,"uptime")),T.a.createElement("div",{className:"flex-main chart",style:{padding:15}},T.a.createElement(x.a,{uptimeHistory:e,start:this.owner.fight.start_time,end:this.owner.fight.end_time,style:{height:"100%"}})))}}]),a}(U.c);Z.dependencies={enemies:C.a};var $=Z,ee=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"statistic",value:function(){return T.a.createElement(Q.a,{wide:!0,position:X.a.CORE(1)},this.agonyUptime.subStatistic(),this.corruptionUptime.subStatistic(),this.unstableAfflictionUptime.subStatistic(),this.siphonLifeUptime.active&&this.siphonLifeUptime.subStatistic())}}]),a}(U.c);ee.dependencies={agonyUptime:z,corruptionUptime:V,unstableAfflictionUptime:q,siphonLifeUptime:$};var te=ee,ae=a(752),ne=a(58),ie=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).damage=0,e._lastEventTimestamp=null,e.debuffs={0:{start:null,count:1,uptime:0},1:{start:null,count:0,uptime:0},2:{start:null,count:0,uptime:0},3:{start:null,count:0,uptime:0}},e.addEventListener(k.f.damage.by(U.a),e.onDamage),e.addEventListener(k.f.changedebuffstack.by(U.a).spell(m.a.SHADOW_EMBRACE_DEBUFF),e.onChangeDebuffStack),e}return Object(c.a)(a,[{key:"onDamage",value:function(e){var t=this.enemies.getEntity(e);if(t){var a=t.getBuff(m.a.SHADOW_EMBRACE_DEBUFF.id);a&&(this.damage+=Object(ae.a)(e,.03*a.stacks))}}},{key:"onChangeDebuffStack",value:function(e){if(!e.targetIsFriendly&&!(null!==this._lastEventTimestamp&&e.timestamp<=this._lastEventTimestamp+50)){this._lastEventTimestamp=e.timestamp;var t=this.debuffs[e.oldStacks],a=this.debuffs[e.newStacks];t.count=Math.max(t.count-1,0),0===t.count&&(t.uptime+=e.timestamp-t.start),0===a.count&&(a.start=e.timestamp),a.count+=1}}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.SHADOW_EMBRACE_DEBUFF.id})," uptime can be improved. Try to pay more attention to your Shadow Embrace on the boss, perhaps use some debuff tracker.")).icon(m.a.SHADOW_EMBRACE_DEBUFF.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.shadowembrace.uptime",defaults:"{0}% Shadow Embrace uptime",values:{0:Object(p.e)(t)}})).recommended(">".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"subStatistic",value:function(){var e=this.enemies.getDebuffHistory(m.a.SHADOW_EMBRACE_DEBUFF.id);return T.a.createElement("div",{className:"flex"},T.a.createElement("div",{className:"flex-sub icon"},T.a.createElement(B.a,{id:m.a.SHADOW_EMBRACE_DEBUFF.id})),T.a.createElement("div",{className:"flex-sub value",style:{width:140}},Object(p.e)(this.uptime,0)," % ",T.a.createElement("small",null,"uptime")),T.a.createElement("div",{className:"flex-main chart",style:{padding:15}},T.a.createElement(x.a,{uptimeHistory:e,start:this.owner.fight.start_time,end:this.owner.fight.end_time,style:{height:"100%"}})))}},{key:"statistic",value:function(){var e=this.stackedUptime;return T.a.createElement(A.a,{category:ne.a.GENERAL,size:"flexible",tooltip:"".concat(Object(p.f)(this.damage)," bonus damage")},T.a.createElement(F.a,{spell:m.a.SHADOW_EMBRACE},Object(p.e)(this.totalUptimePercentage)," %",T.a.createElement(w.a,{content:T.a.createElement(T.a.Fragment,null,"No stacks: ",Object(p.e)(e[0])," %",T.a.createElement("br",null),"1 stack: ",Object(p.e)(e[1])," %",T.a.createElement("br",null),"2 stacks: ",Object(p.e)(e[2])," %",T.a.createElement("br",null),"3 stacks: ",Object(p.e)(e[3])," %")},T.a.createElement("small",null," uptime ",T.a.createElement("sup",null,"*"))),T.a.createElement("br",null),Object(p.d)(this.dps)," DPS ",T.a.createElement("small",null,Object(p.e)(this.owner.getPercentageOfTotalDamageDone(this.damage))," % of total")))}},{key:"totalUptimePercentage",get:function(){return this.enemies.getBuffUptime(m.a.SHADOW_EMBRACE_DEBUFF.id)/this.owner.fightDuration}},{key:"suggestionThresholds",get:function(){return{actual:this.totalUptimePercentage,isLessThan:{minor:.95,average:.9,major:.8},style:"percentage"}}},{key:"stackedUptime",get:function(){var e=this.owner.fightDuration;return{0:1-this.totalUptimePercentage,1:this.debuffs[1].uptime/e,2:this.debuffs[2].uptime/e,3:this.debuffs[3].uptime/e}}},{key:"dps",get:function(){return this.damage/this.owner.fightDuration*1e3}}]),a}(U.c);ie.dependencies={enemies:C.a};var se=ie,re=a(120),le=a(66),oe=a(773),ce=a(88),ue=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).resource=ce.a.SOUL_SHARDS,e}return Object(c.a)(a,[{key:"onCast",value:function(e){if(this.shouldProcessCastEvent(e)){var t=this._getClassResourceIndex(e);e.classResources[t].amount/=10,e.classResources[t].cost/=10,e.classResources[t].max/=10,Object(re.a)(Object(le.a)(a.prototype),"onCast",this)&&Object(re.a)(Object(le.a)(a.prototype),"onCast",this).call(this,e)}}},{key:"_getClassResourceIndex",value:function(e){return Object.keys(e.classResources).find((function(t){return e.classResources[t].type===ce.a.SOUL_SHARDS}))||0}}]),a}(oe.a),de=a(781),me=a(49),he=(a(1034),function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"suggestions",value:function(e){var t=this.soulShardTracker.wasted;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e("You are wasting Soul Shards. Try to use them and not let them cap and go to waste unless you're preparing for bursting adds etc.").icon(m.a.SOUL_SHARDS.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.soulShards.wastedPerMinute",defaults:"{shardsWasted} Soul Shards wasted ({0} per minute)",values:{0:a.toFixed(2),shardsWasted:t}})).recommended("< ".concat(n.toFixed(2)," Soul Shards per minute wasted are recommended"))}))}},{key:"statistic",value:function(){var e=this.soulShardTracker.wasted;return T.a.createElement(A.a,{position:y.a.CORE(3),size:"flexible",tooltip:T.a.createElement(T.a.Fragment,null,"In order for Focus Magic to compete with the other talents on that row, you need to ensure you are getting as much uptime out of the buff as possible. Therefore, if you forget to put the buff on another player or if they player you gave it to is not getting crits very often, then you might need to consider giving the buff to someone else. Ideally, you should aim to trade buffs with another mage who has also taken Focus Magic so you both get the full benefit.")},T.a.createElement(F.a,{spell:m.a.SOUL_SHARDS},e," ",T.a.createElement("small",null,"Wasted Soul Shards")))}},{key:"tab",value:function(){var e=this;return{title:"Soul Shard usage",url:"soul-shards",render:function(){return T.a.createElement(me.a,null,T.a.createElement(de.a,{tracker:e.soulShardTracker,showSpenders:!0}))}}}},{key:"suggestionThresholds",get:function(){return{actual:this.soulShardTracker.wasted/this.owner.fightDuration*1e3*60,isGreaterThan:{minor:.5,average:5/3,major:10/3},style:"decimal"}}}]),a}(U.c));he.dependencies={soulShardTracker:ue};var Ee=he,fe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).addEventListener(k.f.removedebuff.by(U.a).spell(m.a.DRAIN_SOUL_TALENT),i.onRemoveDebuff),i}return Object(c.a)(a,[{key:"onCast",value:function(e){e.ability.guid!==m.a.DRAIN_SOUL_TALENT.id?Object(re.a)(Object(le.a)(a.prototype),"onCast",this).call(this,e):this.beginChannel(e)}},{key:"cancelChannel",value:function(e,t){this.isChannelingSpell(m.a.DRAIN_SOUL_TALENT.id)?(this.log("Marking",this._currentChannel.ability.name,"as ended since we started casting something else"),this.endChannel(e)):Object(re.a)(Object(le.a)(a.prototype),"cancelChannel",this).call(this,e,t)}},{key:"onRemoveDebuff",value:function(e){this.isChannelingSpell(m.a.DRAIN_SOUL_TALENT.id)&&this.endChannel(e)}}]),a}(a(814).a),ge=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"onCast",value:function(e){e.ability.guid!==m.a.DRAIN_SOUL_TALENT.id&&Object(re.a)(Object(le.a)(a.prototype),"onCast",this).call(this,e)}}]),a}(a(811).a),Te=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).wastedProcs=0,e.buffApplyTimestamp=null,e.active=e.selectedCombatant.hasTalent(m.a.NIGHTFALL_TALENT.id),e.addEventListener(k.f.applybuff.by(U.a).spell(m.a.NIGHTFALL_BUFF),e.onNightfallApplyRefresh),e.addEventListener(k.f.refreshbuff.by(U.a).spell(m.a.NIGHTFALL_BUFF),e.onNightfallApplyRefresh),e.addEventListener(k.f.removebuff.by(U.a).spell(m.a.NIGHTFALL_BUFF),e.onNightfallRemove),e}return Object(c.a)(a,[{key:"onNightfallApplyRefresh",value:function(e){null!==this.buffApplyTimestamp&&(this.wastedProcs+=1),this.buffApplyTimestamp=e.timestamp}},{key:"onNightfallRemove",value:function(e){var t=this.buffApplyTimestamp+12e3;t-100<=e.timestamp&&e.timestamp<=t+100&&(this.wastedProcs+=1),this.buffApplyTimestamp=null}},{key:"statistic",value:function(){return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible"},T.a.createElement(F.a,{spell:m.a.NIGHTFALL_TALENT},this.wastedProcs," ",T.a.createElement("small",null,"wasted procs")))}}]),a}(U.c),be=a(755),pe=a(209),Oe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s)))._lastEnergize=null,e._subtractBossShards=0,e._lastEnergizeWasted=!1,e._shardsGained=0,e.totalNumOfAdds=0,e.mobsSniped=0,e.active=e.selectedCombatant.hasTalent(m.a.DRAIN_SOUL_TALENT.id),e.addEventListener(k.f.energize.by(U.a).spell(m.a.DRAIN_SOUL_KILL_SHARD_GEN),e.onDrainSoulEnergize),e.addEventListener(k.f.removedebuff.by(U.a).spell(m.a.DRAIN_SOUL_TALENT),e.onDrainSoulRemove),e.addEventListener(k.f.fightend,e.onFinished),e}return Object(c.a)(a,[{key:"suggestionThresholds",get:function(){return{actual:this.mobsSniped/this.totalNumOfAdds,isLessThan:{minor:.9,average:.75,major:.5},style:"percentage"}}}]),Object(c.a)(a,[{key:"onDrainSoulEnergize",value:function(e){this.mobsSniped+=1,this._lastEnergize!==e.timestamp&&(this._lastEnergize=e.timestamp,this._lastEnergizeWasted=e.waste>0)}},{key:"onDrainSoulRemove",value:function(e){if(e.timestamp<this._lastEnergize+100){var t=this.enemies.getEntity(e);if(!t)return;"boss"!==t.type.toLowerCase()||this._lastEnergizeWasted||(this._subtractBossShards+=1)}}},{key:"onFinished",value:function(){var e=this.enemies.getEntities();this.totalNumOfAdds=Object.values(e).filter((function(e){return"NPC"===e.type})).reduce((function(e,t){return e+t._baseInfo.fights[0].instances}),0),this._shardsGained=this.soulShardTracker.getGeneratedBySpell(m.a.DRAIN_SOUL_KILL_SHARD_GEN.id)-this._subtractBossShards}},{key:"suggestions",value:function(e){var t=this;e(this.suggestionThresholds).addSuggestion((function(e,a,n){return e(T.a.createElement(T.a.Fragment,null,"You sniped ",Object(p.e)(a)," % of mobs in this fight (",t.mobsSniped-t._subtractBossShards," / ",t.totalNumOfAdds,") for total of ",t._shardsGained," Soul Shards. You could get up to ",t.totalNumOfAdds," Shards from them. Try to snipe shards from adds (cast ",T.a.createElement(O.a,{id:m.a.DRAIN_SOUL_TALENT.id})," on them before they die) as it is a great source of extra Soul Shards.",T.a.createElement("br",null),T.a.createElement("br",null),T.a.createElement("small",null,"Note that the number of adds ",T.a.createElement("em",null,"might be a bit higher than usual"),", as there sometimes are adds that die too quickly, aren't meant to be killed or are not killed in the fight."))).icon("ability_hunter_snipershot").actual(L.i18n._({id:"warlock.affliction.suggestions.drainSoul.mobsSniped",defaults:"{0} % of mobs sniped.",values:{0:Object(p.e)(a)}})).recommended(">= ".concat(Object(p.e)(n)," % is recommended"))}))}},{key:"statistic",value:function(){var e=this.abilityTracker.getAbility(m.a.DRAIN_SOUL_TALENT.id),t=e.damageEffective+e.damageAbsorbed,a=t/this.owner.fightDuration*1e3;return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible",tooltip:"".concat(Object(p.f)(t)," total damage")},T.a.createElement(F.a,{spell:m.a.DRAIN_SOUL_TALENT},Object(p.d)(a)," DPS ",T.a.createElement("small",null,Object(p.e)(this.owner.getPercentageOfTotalDamageDone(t))," % of total"),T.a.createElement("br",null),T.a.createElement(pe.a,null)," ",this._shardsGained," ",T.a.createElement("small",null,"shards sniped")))}}]),a}(U.c);Oe.dependencies={enemies:C.a,soulShardTracker:ue,abilityTracker:be.a};var Ae=Oe,ye=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).bonusDmg=0,e.active=e.selectedCombatant.hasTalent(m.a.ABSOLUTE_CORRUPTION_TALENT.id),e.addEventListener(k.f.damage.by(U.a).spell(m.a.CORRUPTION_DEBUFF),e.onCorruptionDamage),e}return Object(c.a)(a,[{key:"dps",get:function(){return this.bonusDmg/this.owner.fightDuration*1e3}}]),Object(c.a)(a,[{key:"onCorruptionDamage",value:function(e){this.bonusDmg+=Object(ae.a)(e,.15)}},{key:"statistic",value:function(){return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible",tooltip:T.a.createElement(T.a.Fragment,null,Object(p.f)(this.bonusDmg)," bonus damage",T.a.createElement("br",null),T.a.createElement("br",null),"Note: This only accounts for the passive 15% increased damage of Corruption. Actual bonus damage should be higher due to saved GCDs.")},T.a.createElement(F.a,{spell:m.a.ABSOLUTE_CORRUPTION_TALENT},Object(p.d)(this.dps)," DPS ",T.a.createElement("small",null,Object(p.e)(this.owner.getPercentageOfTotalDamageDone(this.bonusDmg))," % of total")))}}]),a}(U.c),_e=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).active=e.selectedCombatant.hasTalent(m.a.PHANTOM_SINGULARITY_TALENT.id),e}return Object(c.a)(a,[{key:"statistic",value:function(){var e=this.abilityTracker.getAbility(m.a.PHANTOM_SINGULARITY_TALENT.id),t=e.damageEffective+e.damageAbsorbed,a=t/this.owner.fightDuration*1e3;return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible",tooltip:"".concat(Object(p.f)(t)," damage")},T.a.createElement(F.a,{spell:m.a.PHANTOM_SINGULARITY_TALENT},Object(p.d)(a)," DPS ",T.a.createElement("small",null,Object(p.e)(this.owner.getPercentageOfTotalDamageDone(t))," % of total")))}}]),a}(U.c);_e.dependencies={abilityTracker:be.a};var Le=_e,Se=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s)))._castTimestamp=null,e._currentCastCount=0,e.casts=[],e.active=e.selectedCombatant.hasTalent(m.a.VILE_TAINT_TALENT.id),e.addEventListener(k.f.cast.by(U.a).spell(m.a.VILE_TAINT_TALENT),e.onVileTaintCast),e.addEventListener(k.f.applydebuff.by(U.a).spell(m.a.VILE_TAINT_TALENT),e.onVileTaintApplyDebuff),e.addEventListener(k.f.fightend,e.onFinished),e}return Object(c.a)(a,[{key:"onVileTaintCast",value:function(e){null!==this._castTimestamp&&this.casts.push(this._currentCastCount),this._castTimestamp=e.timestamp,this._currentCastCount=0}},{key:"onVileTaintApplyDebuff",value:function(e){e.timestamp<=this._castTimestamp+100&&(this._currentCastCount+=1)}},{key:"onFinished",value:function(){this.casts.push(this._currentCastCount)}},{key:"statistic",value:function(){var e=this.abilityTracker.getAbility(m.a.VILE_TAINT_TALENT.id),t=e.damageEffective+e.damageAbsorbed,a=this.casts.reduce((function(e,t){return e+t}),0)/e.casts||0,n=t/this.owner.fightDuration*1e3;return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible",tooltip:T.a.createElement(T.a.Fragment,null,Object(p.f)(t)," damage",T.a.createElement("br",null),"Average targets hit: ",a.toFixed(2))},T.a.createElement(F.a,{spell:m.a.VILE_TAINT_TALENT},Object(p.d)(n)," DPS ",T.a.createElement("small",null,Object(p.e)(this.owner.getPercentageOfTotalDamageDone(t))," % of total")))}}]),a}(U.c);Se.dependencies={abilityTracker:be.a};var Ne=Se,Ie=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).bonusDmg=0,e.totalTicks=0,e.buffedTicks=0,e.active=e.selectedCombatant.hasTalent(m.a.HAUNT_TALENT.id),e.addEventListener(k.f.damage.by(U.a),e.onDamage),e}return Object(c.a)(a,[{key:"uptime",get:function(){return this.enemies.getBuffUptime(m.a.HAUNT_TALENT.id)/this.owner.fightDuration}},{key:"dps",get:function(){return this.bonusDmg/this.owner.fightDuration*1e3}},{key:"suggestionThresholds",get:function(){return{actual:this.uptime,isLessThan:{minor:.9,average:.85,major:.75},style:"percentage"}}}]),Object(c.a)(a,[{key:"onDamage",value:function(e){var t=this.enemies.getEntity(e);t&&(t.hasBuff(m.a.HAUNT_TALENT.id,e.timestamp)&&(this.bonusDmg+=Object(ae.a)(e,.1)))}},{key:"suggestions",value:function(e){e(this.suggestionThresholds).addSuggestion((function(e,t,a){return e(T.a.createElement(T.a.Fragment,null,"Your ",T.a.createElement(O.a,{id:m.a.HAUNT_TALENT.id})," debuff uptime is too low. While it's usually not possible to get 100% uptime due to travel and cast time, you should aim for as much uptime on the debuff as possible.")).icon(m.a.HAUNT_TALENT.icon).actual(L.i18n._({id:"warlock.affliction.suggestions.haunt.uptime",defaults:"{0}% Haunt uptime.",values:{0:Object(p.e)(t)}})).recommended("> ".concat(Object(p.e)(a),"% is recommended"))}))}},{key:"statistic",value:function(){return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible",tooltip:T.a.createElement(T.a.Fragment,null,Object(p.f)(this.bonusDmg)," bonus damage",T.a.createElement("br",null))},T.a.createElement(F.a,{spell:m.a.HAUNT_TALENT},Object(p.e)(this.uptime)," % ",T.a.createElement("small",null,"uptime"),T.a.createElement("br",null),Object(p.d)(this.dps)," DPS ",T.a.createElement("small",null,Object(p.e)(this.owner.getPercentageOfTotalDamageDone(this.bonusDmg))," % of total")))}}]),a}(U.c);Ie.dependencies={enemies:C.a};var ve=Ie,De=a(768),Re=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"normalize",value:function(e){for(var t=this.constructor,a=this.owner.fight.start_time,n=a+5e3,i=t.dots.reduce((function(e,t){return e[t.debuffId]={handled:!1,missingApplyDebuff:null},e}),{}),s=0;s<e.length;s+=1){var r=e[s];if(r.timestamp>n)break;if(r.type===k.b.ApplyDebuff){var l=i[r.ability.guid];if(null==l)continue;null==l.missingApplyDebuff&&(l.missingApplyDebuff=!1)}else if(r.type===k.b.Damage){var o=i[r.ability.guid];if(null==o)continue;null==o.missingApplyDebuff&&(o.missingApplyDebuff=!0,o.damageEvent=r)}}var c=Object.values(i).filter((function(e){return e.missingApplyDebuff})).map((function(e){return t._fabricateApplyDebuffEvent(e.damageEvent,a)}));return[].concat(Object(N.a)(c),Object(N.a)(e))}}],[{key:"_fabricateApplyDebuffEvent",value:function(e,t){return{type:k.b.ApplyDebuff,ability:e.ability,sourceID:e.sourceID,sourceIsFriendly:e.sourceIsFriendly,targetID:e.targetID,targetIsFriendly:e.targetIsFriendly,timestamp:t,__fabricated:!0}}}]),a}(De.a);Re.dots=[];var Ue=Re,Ce=[{debuffId:m.a.AGONY.id},{debuffId:m.a.CORRUPTION_DEBUFF.id},{debuffId:m.a.UNSTABLE_AFFLICTION.id},{debuffId:m.a.HAUNT_TALENT.id},{debuffId:m.a.PHANTOM_SINGULARITY_DAMAGE_HEAL.id},{debuffId:m.a.IMMOLATE_DEBUFF.id}],je=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(Ue);je.dots=Ce;var ke=je,we=a(1035),Fe=a(802),Pe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s)))._totalTicks=0,e._totalUAdamage=0,e.active=e.selectedCombatant.hasTalent(m.a.SOUL_CONDUIT_TALENT.id),e.addEventListener(k.f.damage.by(U.a).spell(m.a.UNSTABLE_AFFLICTION),e.onUnstableAfflictionDamage),e}return Object(c.a)(a,[{key:"onUnstableAfflictionDamage",value:function(e){this._totalTicks+=1,this._totalUAdamage+=e.amount+(e.absorbed||0)}},{key:"statistic",value:function(){var e=this._totalUAdamage/(this._totalTicks>0?this._totalTicks:1),t=this.soulShardTracker.getGeneratedBySpell(m.a.SOUL_CONDUIT_SHARD_GEN.id),a=4*t*e,n=this.soulShardTracker.spent,i=Object(Fe.d)(n,(function(e,t){return Object(Fe.b)(e,t,.15)})).max;return T.a.createElement(A.a,{category:ne.a.TALENTS,size:"flexible",tooltip:T.a.createElement(T.a.Fragment,null,"You gained ",t," Shards from this talent, ",i>0?T.a.createElement(T.a.Fragment,null,"which is ",T.a.createElement("strong",null,Object(p.e)(t/i),"%")," of Shards you were most likely to get in this fight (",i," Shards)."):"while you were most likely to not get any Shards.",T.a.createElement("br",null),"Estimated damage: ",Object(p.f)(a)," (",this.owner.formatItemDamageDone(a),")",T.a.createElement("br",null),T.a.createElement("br",null),"This result is estimated by multiplying number of Soul Shards gained from this talent by the average Unstable Affliction damage for the whole fight.")},T.a.createElement(F.a,{spell:m.a.SOUL_CONDUIT_TALENT},t," ",T.a.createElement("small",null,"Soul Shards generated")))}}]),a}(U.c);Pe.dependencies={soulShardTracker:ue};var Ge=Pe,He=a(7),Me=a(203),Ye=a(767),Be=a(757),xe=a(777),We=a(770),ze=a(762),Ke=a(763),Ve=a(771),Je=a(772),qe=function(e){var t=e.combatant,a=e.castEfficiency,n=e.thresholds,i=e.shardTracker,s=function(e){return T.a.createElement(Ke.a,{name:T.a.createElement(T.a.Fragment,null,T.a.createElement(O.a,{id:e.id,icon:!0})," uptime"),thresholds:e.thresholds})},r=function(e){return T.a.createElement(Je.a,Object.assign({castEfficiency:a.getCastEfficiencyForSpellId(e.spell)},e))};return T.a.createElement(We.a,null,T.a.createElement(ze.c,{name:"Maintain your DoTs and debuffs on the boss",description:"Affliction Warlocks rely on DoTs and debuffs as means of dealing damage to the target. You should try to keep as highest uptime on them as possible."},T.a.createElement(s,{id:m.a.AGONY.id,thresholds:n.agony}),T.a.createElement(s,{id:m.a.CORRUPTION_CAST.id,thresholds:n.corruption}),T.a.createElement(s,{id:m.a.UNSTABLE_AFFLICTION.id,thresholds:n.unstableAffliction}),T.a.createElement(s,{id:m.a.SHADOW_EMBRACE.id,thresholds:n.shadowEmbrace}),t.hasTalent(m.a.SIPHON_LIFE_TALENT.id)&&T.a.createElement(s,{id:m.a.SIPHON_LIFE_TALENT.id,thresholds:n.siphonLife}),t.hasTalent(m.a.HAUNT_TALENT.id)&&T.a.createElement(s,{id:m.a.HAUNT_TALENT.id,thresholds:n.haunt})),T.a.createElement(ze.c,{name:"Don't cap your Soul Shards",description:"Soul Shards are your main and most important resource and since their generation is random as Affliction, it's very important not to let them cap."},T.a.createElement(Ke.a,{name:"Wasted shards per minute",thresholds:n.soulShards,valueTooltip:"You wasted ".concat(i.wasted," shards.")})),T.a.createElement(ze.c,{name:"Use your cooldowns",description:"Be mindful of your cooldowns if you are specced into them and use them when it's appropriate. It's okay to hold a cooldown for a little bit when the encounter requires it (burn phases), but generally speaking you should use them as much as you can."},T.a.createElement(r,{spell:m.a.SUMMON_DARKGLARE.id}),t.hasTalent(m.a.DARK_SOUL_MISERY_TALENT.id)&&T.a.createElement(r,{spell:m.a.DARK_SOUL_MISERY_TALENT.id}),t.hasTalent(m.a.VILE_TAINT_TALENT.id)&&T.a.createElement(r,{spell:m.a.VILE_TAINT_TALENT.id}),t.hasTalent(m.a.PHANTOM_SINGULARITY_TALENT.id)&&T.a.createElement(r,{spell:m.a.PHANTOM_SINGULARITY_TALENT.id}),t.hasCovenant(h.a.NIGHT_FAE.id)&&T.a.createElement(r,{spell:m.a.SOUL_ROT.id})),T.a.createElement(ze.c,{name:"Use your utility and defensive spells",description:T.a.createElement(T.a.Fragment,null,"Use other spells in your toolkit to your advantage. For example, you can try to minimize necessary movement by using ",T.a.createElement(O.a,{id:m.a.DEMONIC_GATEWAY_CAST.id,icon:!0}),", ",T.a.createElement(O.a,{id:m.a.DEMONIC_CIRCLE.id,icon:!0}),", ",T.a.createElement(O.a,{id:m.a.BURNING_RUSH_TALENT.id,icon:!0})," or mitigate incoming damage with ",T.a.createElement(O.a,{id:m.a.UNENDING_RESOLVE.id,icon:!0}),"/",T.a.createElement(O.a,{id:m.a.DARK_PACT_TALENT.id,icon:!0}),".",T.a.createElement("br",null),"While you shouldn't cast these defensives on cooldown, be aware of them and use them whenever effective. Not using them at all indicates you might not be aware of them or not using them optimally.")},T.a.createElement(r,{spell:m.a.DEMONIC_CIRCLE_TELEPORT.id}),t.hasTalent(m.a.DARK_PACT_TALENT.id)&&T.a.createElement(r,{spell:m.a.DARK_PACT_TALENT.id}),T.a.createElement(r,{spell:m.a.UNENDING_RESOLVE.id}),t.hasCovenant(h.a.NIGHT_FAE.id)&&T.a.createElement(r,{spell:m.a.SOULSHAPE.id})),T.a.createElement(ze.c,{name:"Always be casting",description:T.a.createElement(T.a.Fragment,null,"You should try to avoid doing nothing during the fight. When you're out of Soul Shards, cast ",T.a.createElement(O.a,{id:m.a.SHADOW_BOLT_AFFLI.id,icon:!0}),"/",T.a.createElement(O.a,{id:m.a.DRAIN_SOUL_TALENT.id,icon:!0}),", refresh your DoTs etc. When you have to move, use your instant abilities or try to utilize ",T.a.createElement(O.a,{id:m.a.DEMONIC_CIRCLE.id,icon:!0},"Teleport")," or ",T.a.createElement(O.a,{id:m.a.DEMONIC_GATEWAY_CAST.id,icon:!0},"Gateway")," to reduce the movement even further.")},T.a.createElement(Ke.a,{name:"Downtime",thresholds:n.downtime})),T.a.createElement(Ve.a,{thresholds:n}))},Xe=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return T.a.createElement(qe,{castEfficiency:this.castEfficiency,combatant:this.combatants.selected,thresholds:Object(He.a)(Object(He.a)({},this.preparationRuleAnalyzer.thresholds),{},{agony:this.agonyUptime.suggestionThresholds,corruption:this.corruptionUptime.suggestionThresholds,unstableAffliction:this.unstableAfflictionUptime.suggestionThresholds,siphonLife:this.siphonLifeUptime.suggestionThresholds,haunt:this.haunt.suggestionThresholds,shadowEmbrace:this.shadowEmbrace.suggestionThresholds,soulShards:this.soulShardDetails.suggestionThresholds,downtime:this.alwaysBeCasting.suggestionThresholds}),shardTracker:this.soulShardTracker})}}]),a}(Me.a);Xe.dependencies={combatants:Be.a,castEfficiency:Ye.a,alwaysBeCasting:S,preparationRuleAnalyzer:xe.a,agonyUptime:z,corruptionUptime:V,siphonLifeUptime:$,unstableAfflictionUptime:q,haunt:ve,shadowEmbrace:se,soulShardDetails:Ee,soulShardTracker:ue};var Qe=Xe,Ze=function(e){Object(i.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return a}(r.a);Ze.specModules={abilities:f,alwaysBeCasting:S,cooldownThroughputTracker:D,checklist:Qe,darkglare:Y,shadowEmbrace:se,grimoireOfSacrificeNormalizer:o.a,warlockMissingDotApplyDebuffPrePull:ke,agonyUptime:z,corruptionUptime:V,unstableAfflictionUptime:q,dotUptimes:te,soulShardTracker:ue,soulShardDetails:Ee,channeling:fe,globalCooldown:ge,nightfall:Te,drainSoul:Ae,absoluteCorruption:ye,siphonLifeUptime:$,phantomSingularity:Le,vileTaint:Ne,haunt:ve,grimoireOfSacrifice:we.a,soulConduit:Ge,arcaneTorrent:[l.a,{castEfficiency:null}]};t.default=Ze},801:function(e,t,a){"use strict";var n=a(27),i=a(0),s=a.n(i),r=a(22),l=(a(858),a(58)),o=a(747);a.d(t,"a",(function(){return o.a}));var c=function(e){var t=e.title,a=e.tooltip,i=e.children,l=e.bodyStyle,o=Object(n.a)(e,["title","tooltip","children","bodyStyle"]);return delete o.category,delete o.position,s.a.createElement("div",{className:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},s.a.createElement("div",Object.assign({className:"panel statistic statistic-box statistic-box-list"},o),t&&s.a.createElement("div",{className:"panel-heading"},s.a.createElement("h2",null,a?s.a.createElement(r.a,{content:a},t):t)),s.a.createElement("div",{className:"panel-body items",style:l},i)))};c.defaultProps={category:l.a.GENERAL},t.b=c}}]);
//# sourceMappingURL=AfflictionWarlock.05f43850.chunk.js.map